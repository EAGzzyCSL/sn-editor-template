var vd=Object.defineProperty;var yd=(e,t,n)=>t in e?vd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fo=(e,t,n)=>(yd(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vi={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),wd=Symbol.for("react.portal"),Sd=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),bd=Symbol.for("react.provider"),Id=Symbol.for("react.context"),Rd=Symbol.for("react.forward_ref"),Cd=Symbol.for("react.suspense"),Ed=Symbol.for("react.memo"),Ad=Symbol.for("react.lazy"),kl=Symbol.iterator;function Dd(e){return e===null||typeof e!="object"?null:(e=kl&&e[kl]||e["@@iterator"],typeof e=="function"?e:null)}var Ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dc=Object.assign,Pc={};function ti(e,t,n){this.props=e,this.context=t,this.refs=Pc,this.updater=n||Ac}ti.prototype.isReactComponent={};ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fc(){}Fc.prototype=ti.prototype;function uu(e,t,n){this.props=e,this.context=t,this.refs=Pc,this.updater=n||Ac}var lu=uu.prototype=new Fc;lu.constructor=uu;Dc(lu,ti.prototype);lu.isPureReactComponent=!0;var wl=Array.isArray,Mc=Object.prototype.hasOwnProperty,cu={current:null},Oc={key:!0,ref:!0,__self:!0,__source:!0};function Tc(e,t,n){var r,o={},s=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(s=""+t.key),t)Mc.call(t,r)&&!Oc.hasOwnProperty(r)&&(o[r]=t[r]);var S=arguments.length-2;if(S===1)o.children=n;else if(1<S){for(var D=Array(S),Z=0;Z<S;Z++)D[Z]=arguments[Z+2];o.children=D}if(e&&e.defaultProps)for(r in S=e.defaultProps,S)o[r]===void 0&&(o[r]=S[r]);return{$$typeof:Ji,type:e,key:s,ref:d,props:o,_owner:cu.current}}function Pd(e,t){return{$$typeof:Ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ji}function Fd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sl=/\/+/g;function Ua(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fd(""+e.key):t.toString(36)}function Do(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(s){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Ji:case wd:d=!0}}if(d)return d=e,o=o(d),e=r===""?"."+Ua(d,0):r,wl(o)?(n="",e!=null&&(n=e.replace(Sl,"$&/")+"/"),Do(o,t,n,"",function(Z){return Z})):o!=null&&(fu(o)&&(o=Pd(o,n+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(Sl,"$&/")+"/")+e)),t.push(o)),1;if(d=0,r=r===""?".":r+":",wl(e))for(var S=0;S<e.length;S++){s=e[S];var D=r+Ua(s,S);d+=Do(s,t,n,D,o)}else if(D=Dd(e),typeof D=="function")for(e=D.call(e),S=0;!(s=e.next()).done;)s=s.value,D=r+Ua(s,S++),d+=Do(s,t,n,D,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function po(e,t,n){if(e==null)return e;var r=[],o=0;return Do(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Md(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},Po={transition:null},Od={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Po,ReactCurrentOwner:cu};ft.Children={map:po,forEach:function(e,t,n){po(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return po(e,function(){t++}),t},toArray:function(e){return po(e,function(t){return t})||[]},only:function(e){if(!fu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=ti;ft.Fragment=Sd;ft.Profiler=_d;ft.PureComponent=uu;ft.StrictMode=xd;ft.Suspense=Cd;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Od;ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dc({},e.props),o=e.key,s=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,d=cu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var S=e.type.defaultProps;for(D in t)Mc.call(t,D)&&!Oc.hasOwnProperty(D)&&(r[D]=t[D]===void 0&&S!==void 0?S[D]:t[D])}var D=arguments.length-2;if(D===1)r.children=n;else if(1<D){S=Array(D);for(var Z=0;Z<D;Z++)S[Z]=arguments[Z+2];r.children=S}return{$$typeof:Ji,type:e.type,key:o,ref:s,props:r,_owner:d}};ft.createContext=function(e){return e={$$typeof:Id,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bd,_context:e},e.Consumer=e};ft.createElement=Tc;ft.createFactory=function(e){var t=Tc.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:Rd,render:e}};ft.isValidElement=fu;ft.lazy=function(e){return{$$typeof:Ad,_payload:{_status:-1,_result:e},_init:Md}};ft.memo=function(e,t){return{$$typeof:Ed,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=Po.transition;Po.transition={};try{e()}finally{Po.transition=t}};ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ft.useCallback=function(e,t){return qt.current.useCallback(e,t)};ft.useContext=function(e){return qt.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};ft.useEffect=function(e,t){return qt.current.useEffect(e,t)};ft.useId=function(){return qt.current.useId()};ft.useImperativeHandle=function(e,t,n){return qt.current.useImperativeHandle(e,t,n)};ft.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return qt.current.useMemo(e,t)};ft.useReducer=function(e,t,n){return qt.current.useReducer(e,t,n)};ft.useRef=function(e){return qt.current.useRef(e)};ft.useState=function(e){return qt.current.useState(e)};ft.useSyncExternalStore=function(e,t,n){return qt.current.useSyncExternalStore(e,t,n)};ft.useTransition=function(){return qt.current.useTransition()};ft.version="18.2.0";(function(e){e.exports=ft})(Vi);const Ho=kd(Vi.exports);var hs={},Lc={exports:{}},ln={},jc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ie,he){var Ie=ie.length;ie.push(he);e:for(;0<Ie;){var ne=Ie-1>>>1,se=ie[ne];if(0<o(se,he))ie[ne]=he,ie[Ie]=se,Ie=ne;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var he=ie[0],Ie=ie.pop();if(Ie!==he){ie[0]=Ie;e:for(var ne=0,se=ie.length,ce=se>>>1;ne<ce;){var ge=2*(ne+1)-1,K=ie[ge],F=ge+1,x=ie[F];if(0>o(K,Ie))F<se&&0>o(x,K)?(ie[ne]=x,ie[F]=Ie,ne=F):(ie[ne]=K,ie[ge]=Ie,ne=ge);else if(F<se&&0>o(x,Ie))ie[ne]=x,ie[F]=Ie,ne=F;else break e}}return he}function o(ie,he){var Ie=ie.sortIndex-he.sortIndex;return Ie!==0?Ie:ie.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var d=Date,S=d.now();e.unstable_now=function(){return d.now()-S}}var D=[],Z=[],de=1,me=null,ae=3,be=!1,ke=!1,Pe=!1,tt=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function fe(ie){for(var he=n(Z);he!==null;){if(he.callback===null)r(Z);else if(he.startTime<=ie)r(Z),he.sortIndex=he.expirationTime,t(D,he);else break;he=n(Z)}}function xe(ie){if(Pe=!1,fe(ie),!ke)if(n(D)!==null)ke=!0,nt(Be);else{var he=n(Z);he!==null&&ve(xe,he.startTime-ie)}}function Be(ie,he){ke=!1,Pe&&(Pe=!1,le(He),He=-1),be=!0;var Ie=ae;try{for(fe(he),me=n(D);me!==null&&(!(me.expirationTime>he)||ie&&!lt());){var ne=me.callback;if(typeof ne=="function"){me.callback=null,ae=me.priorityLevel;var se=ne(me.expirationTime<=he);he=e.unstable_now(),typeof se=="function"?me.callback=se:me===n(D)&&r(D),fe(he)}else r(D);me=n(D)}if(me!==null)var ce=!0;else{var ge=n(Z);ge!==null&&ve(xe,ge.startTime-he),ce=!1}return ce}finally{me=null,ae=Ie,be=!1}}var A=!1,Fe=null,He=-1,ze=5,Ze=-1;function lt(){return!(e.unstable_now()-Ze<ze)}function Ye(){if(Fe!==null){var ie=e.unstable_now();Ze=ie;var he=!0;try{he=Fe(!0,ie)}finally{he?Ee():(A=!1,Fe=null)}}else A=!1}var Ee;if(typeof J=="function")Ee=function(){J(Ye)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ke=Ae.port2;Ae.port1.onmessage=Ye,Ee=function(){Ke.postMessage(null)}}else Ee=function(){tt(Ye,0)};function nt(ie){Fe=ie,A||(A=!0,Ee())}function ve(ie,he){He=tt(function(){ie(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){ke||be||(ke=!0,nt(Be))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return ae},e.unstable_getFirstCallbackNode=function(){return n(D)},e.unstable_next=function(ie){switch(ae){case 1:case 2:case 3:var he=3;break;default:he=ae}var Ie=ae;ae=he;try{return ie()}finally{ae=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,he){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ie=ae;ae=ie;try{return he()}finally{ae=Ie}},e.unstable_scheduleCallback=function(ie,he,Ie){var ne=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?ne+Ie:ne):Ie=ne,ie){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Ie+se,ie={id:de++,callback:he,priorityLevel:ie,startTime:Ie,expirationTime:se,sortIndex:-1},Ie>ne?(ie.sortIndex=Ie,t(Z,ie),n(D)===null&&ie===n(Z)&&(Pe?(le(He),He=-1):Pe=!0,ve(xe,Ie-ne))):(ie.sortIndex=se,t(D,ie),ke||be||(ke=!0,nt(Be))),ie},e.unstable_shouldYield=lt,e.unstable_wrapCallback=function(ie){var he=ae;return function(){var Ie=ae;ae=he;try{return ie.apply(this,arguments)}finally{ae=Ie}}}})(Nc);(function(e){e.exports=Nc})(jc);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bc=Vi.exports,un=jc.exports;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zc=new Set,Ai={};function xr(e,t){Jr(e,t),Jr(e+"Capture",t)}function Jr(e,t){for(Ai[e]=t,e=0;e<t.length;e++)zc.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=Object.prototype.hasOwnProperty,Td=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xl={},_l={};function Ld(e){return ms.call(_l,e)?!0:ms.call(xl,e)?!1:Td.test(e)?_l[e]=!0:(xl[e]=!0,!1)}function jd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nd(e,t,n,r){if(t===null||typeof t>"u"||jd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yt(e,t,n,r,o,s,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=d}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new Yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new Yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new Yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new Yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new Yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new Yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new Yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new Yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new Yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var pu=/[\-:]([a-z])/g;function du(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pu,du);Ht[t]=new Yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pu,du);Ht[t]=new Yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pu,du);Ht[t]=new Yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new Yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new Yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function hu(e,t,n,r){var o=Ht.hasOwnProperty(t)?Ht[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nd(t,n,o,r)&&(n=null),r||o===null?Ld(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hn=Bc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ho=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),mu=Symbol.for("react.strict_mode"),gs=Symbol.for("react.profiler"),Uc=Symbol.for("react.provider"),Hc=Symbol.for("react.context"),gu=Symbol.for("react.forward_ref"),vs=Symbol.for("react.suspense"),ys=Symbol.for("react.suspense_list"),vu=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Kc=Symbol.for("react.offscreen"),bl=Symbol.iterator;function ui(e){return e===null||typeof e!="object"?null:(e=bl&&e[bl]||e["@@iterator"],typeof e=="function"?e:null)}var Rt=Object.assign,Ha;function gi(e){if(Ha===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Ka=!1;function Wa(e,t){if(!e||Ka)return"";Ka=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Z){var r=Z}Reflect.construct(e,[],t)}else{try{t.call()}catch(Z){r=Z}e.call(t.prototype)}else{try{throw Error()}catch(Z){r=Z}e()}}catch(Z){if(Z&&r&&typeof Z.stack=="string"){for(var o=Z.stack.split(`
`),s=r.stack.split(`
`),d=o.length-1,S=s.length-1;1<=d&&0<=S&&o[d]!==s[S];)S--;for(;1<=d&&0<=S;d--,S--)if(o[d]!==s[S]){if(d!==1||S!==1)do if(d--,S--,0>S||o[d]!==s[S]){var D=`
`+o[d].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=d&&0<=S);break}}}finally{Ka=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gi(e):""}function Bd(e){switch(e.tag){case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return e=Wa(e.type,!1),e;case 11:return e=Wa(e.type.render,!1),e;case 1:return e=Wa(e.type,!0),e;default:return""}}function ks(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Ar:return"Portal";case gs:return"Profiler";case mu:return"StrictMode";case vs:return"Suspense";case ys:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hc:return(e.displayName||"Context")+".Consumer";case Uc:return(e._context.displayName||"Context")+".Provider";case gu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vu:return t=e.displayName||null,t!==null?t:ks(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return ks(e(t))}catch{}}return null}function zd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ks(t);case 8:return t===mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ir(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ud(e){var t=Wc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){r=""+d,s.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mo(e){e._valueTracker||(e._valueTracker=Ud(e))}function $c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ws(e,t){var n=t.checked;return Rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Il(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ir(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vc(e,t){t=t.checked,t!=null&&hu(e,"checked",t,!1)}function Ss(e,t){Vc(e,t);var n=ir(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xs(e,t.type,n):t.hasOwnProperty("defaultValue")&&xs(e,t.type,ir(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xs(e,t,n){(t!=="number"||Ko(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vi=Array.isArray;function Ur(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ir(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function _s(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return Rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(vi(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ir(n)}}function Jc(e,t){var n=ir(t.value),r=ir(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function El(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var go,qc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hd=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(e){Hd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wi[t]=wi[e]})});function Yc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wi.hasOwnProperty(e)&&wi[e]?(""+t).trim():t+"px"}function Gc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Yc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Kd=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Is(e,t){if(t){if(Kd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function Rs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,Hr=null,Kr=null;function Al(e){if(e=Yi(e)){if(typeof Es!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=va(t),Es(e.stateNode,e.type,t))}}function Xc(e){Hr?Kr?Kr.push(e):Kr=[e]:Hr=e}function Zc(){if(Hr){var e=Hr,t=Kr;if(Kr=Hr=null,Al(e),t)for(e=0;e<t.length;e++)Al(t[e])}}function ef(e,t){return e(t)}function tf(){}var $a=!1;function nf(e,t,n){if($a)return e(t,n);$a=!0;try{return ef(e,t,n)}finally{$a=!1,(Hr!==null||Kr!==null)&&(tf(),Zc())}}function Pi(e,t){var n=e.stateNode;if(n===null)return null;var r=va(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var As=!1;if(Nn)try{var li={};Object.defineProperty(li,"passive",{get:function(){As=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{As=!1}function Wd(e,t,n,r,o,s,d,S,D){var Z=Array.prototype.slice.call(arguments,3);try{t.apply(n,Z)}catch(de){this.onError(de)}}var Si=!1,Wo=null,$o=!1,Ds=null,$d={onError:function(e){Si=!0,Wo=e}};function Vd(e,t,n,r,o,s,d,S,D){Si=!1,Wo=null,Wd.apply($d,arguments)}function Jd(e,t,n,r,o,s,d,S,D){if(Vd.apply(this,arguments),Si){if(Si){var Z=Wo;Si=!1,Wo=null}else throw Error(Te(198));$o||($o=!0,Ds=Z)}}function _r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dl(e){if(_r(e)!==e)throw Error(Te(188))}function Qd(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Dl(o),e;if(s===r)return Dl(o),t;s=s.sibling}throw Error(Te(188))}if(n.return!==r.return)n=o,r=s;else{for(var d=!1,S=o.child;S;){if(S===n){d=!0,n=o,r=s;break}if(S===r){d=!0,r=o,n=s;break}S=S.sibling}if(!d){for(S=s.child;S;){if(S===n){d=!0,n=s,r=o;break}if(S===r){d=!0,r=s,n=o;break}S=S.sibling}if(!d)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function of(e){return e=Qd(e),e!==null?af(e):null}function af(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=af(e);if(t!==null)return t;e=e.sibling}return null}var sf=un.unstable_scheduleCallback,Pl=un.unstable_cancelCallback,qd=un.unstable_shouldYield,Yd=un.unstable_requestPaint,Pt=un.unstable_now,Gd=un.unstable_getCurrentPriorityLevel,ku=un.unstable_ImmediatePriority,uf=un.unstable_UserBlockingPriority,Vo=un.unstable_NormalPriority,Xd=un.unstable_LowPriority,lf=un.unstable_IdlePriority,da=null,En=null;function Zd(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(da,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:nh,eh=Math.log,th=Math.LN2;function nh(e){return e>>>=0,e===0?32:31-(eh(e)/th|0)|0}var vo=64,yo=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,d=n&268435455;if(d!==0){var S=d&~o;S!==0?r=yi(S):(s&=d,s!==0&&(r=yi(s)))}else d=n&~o,d!==0?r=yi(d):s!==0&&(r=yi(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Sn(t),o=1<<n,r|=e[n],t&=~o;return r}function rh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var d=31-Sn(s),S=1<<d,D=o[d];D===-1?((S&n)===0||(S&r)!==0)&&(o[d]=rh(S,t)):D<=t&&(e.expiredLanes|=S),s&=~S}}function Ps(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cf(){var e=vo;return vo<<=1,(vo&4194240)===0&&(vo=64),e}function Va(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=n}function oh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Sn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function wu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Sn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ht=0;function ff(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var pf,Su,df,hf,mf,Fs=!1,ko=[],Yn=null,Gn=null,Xn=null,Fi=new Map,Mi=new Map,Vn=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function ci(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Yi(t),t!==null&&Su(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sh(e,t,n,r,o){switch(t){case"focusin":return Yn=ci(Yn,e,t,n,r,o),!0;case"dragenter":return Gn=ci(Gn,e,t,n,r,o),!0;case"mouseover":return Xn=ci(Xn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Fi.set(s,ci(Fi.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Mi.set(s,ci(Mi.get(s)||null,e,t,n,r,o)),!0}return!1}function gf(e){var t=pr(e.target);if(t!==null){var n=_r(t);if(n!==null){if(t=n.tag,t===13){if(t=rf(n),t!==null){e.blockedOn=t,mf(e.priority,function(){df(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ms(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cs=r,n.target.dispatchEvent(r),Cs=null}else return t=Yi(n),t!==null&&Su(t),e.blockedOn=n,!1;t.shift()}return!0}function Ml(e,t,n){Fo(e)&&n.delete(t)}function uh(){Fs=!1,Yn!==null&&Fo(Yn)&&(Yn=null),Gn!==null&&Fo(Gn)&&(Gn=null),Xn!==null&&Fo(Xn)&&(Xn=null),Fi.forEach(Ml),Mi.forEach(Ml)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Fs||(Fs=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,uh)))}function Oi(e){function t(o){return fi(o,e)}if(0<ko.length){fi(ko[0],e);for(var n=1;n<ko.length;n++){var r=ko[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yn!==null&&fi(Yn,e),Gn!==null&&fi(Gn,e),Xn!==null&&fi(Xn,e),Fi.forEach(t),Mi.forEach(t),n=0;n<Vn.length;n++)r=Vn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vn.length&&(n=Vn[0],n.blockedOn===null);)gf(n),n.blockedOn===null&&Vn.shift()}var Wr=Hn.ReactCurrentBatchConfig,Qo=!0;function lh(e,t,n,r){var o=ht,s=Wr.transition;Wr.transition=null;try{ht=1,xu(e,t,n,r)}finally{ht=o,Wr.transition=s}}function ch(e,t,n,r){var o=ht,s=Wr.transition;Wr.transition=null;try{ht=4,xu(e,t,n,r)}finally{ht=o,Wr.transition=s}}function xu(e,t,n,r){if(Qo){var o=Ms(e,t,n,r);if(o===null)ns(e,t,r,qo,n),Fl(e,r);else if(sh(o,e,t,n,r))r.stopPropagation();else if(Fl(e,r),t&4&&-1<ah.indexOf(e)){for(;o!==null;){var s=Yi(o);if(s!==null&&pf(s),s=Ms(e,t,n,r),s===null&&ns(e,t,r,qo,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else ns(e,t,r,null,n)}}var qo=null;function Ms(e,t,n,r){if(qo=null,e=yu(r),e=pr(e),e!==null)if(t=_r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qo=e,null}function vf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gd()){case ku:return 1;case uf:return 4;case Vo:case Xd:return 16;case lf:return 536870912;default:return 16}default:return 16}}var Qn=null,_u=null,Mo=null;function yf(){if(Mo)return Mo;var e,t=_u,n=t.length,r,o="value"in Qn?Qn.value:Qn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===o[s-r];r++);return Mo=o.slice(e,1<r?1-r:void 0)}function Oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wo(){return!0}function Ol(){return!1}function cn(e){function t(n,r,o,s,d){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=d,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(s):s[S]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wo:Ol,this.isPropagationStopped=Ol,this}return Rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),t}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=cn(ni),qi=Rt({},ni,{view:0,detail:0}),fh=cn(qi),Ja,Qa,pi,ha=Rt({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Ja=e.screenX-pi.screenX,Qa=e.screenY-pi.screenY):Qa=Ja=0,pi=e),Ja)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),Tl=cn(ha),ph=Rt({},ha,{dataTransfer:0}),dh=cn(ph),hh=Rt({},qi,{relatedTarget:0}),qa=cn(hh),mh=Rt({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),gh=cn(mh),vh=Rt({},ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yh=cn(vh),kh=Rt({},ni,{data:0}),Ll=cn(kh),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xh[e])?!!t[e]:!1}function Iu(){return _h}var bh=Rt({},qi,{key:function(e){if(e.key){var t=wh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ih=cn(bh),Rh=Rt({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=cn(Rh),Ch=Rt({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),Eh=cn(Ch),Ah=Rt({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=cn(Ah),Ph=Rt({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fh=cn(Ph),Mh=[9,13,27,32],Ru=Nn&&"CompositionEvent"in window,xi=null;Nn&&"documentMode"in document&&(xi=document.documentMode);var Oh=Nn&&"TextEvent"in window&&!xi,kf=Nn&&(!Ru||xi&&8<xi&&11>=xi),Nl=String.fromCharCode(32),Bl=!1;function wf(e,t){switch(e){case"keyup":return Mh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function Th(e,t){switch(e){case"compositionend":return Sf(t);case"keypress":return t.which!==32?null:(Bl=!0,Nl);case"textInput":return e=t.data,e===Nl&&Bl?null:e;default:return null}}function Lh(e,t){if(Pr)return e==="compositionend"||!Ru&&wf(e,t)?(e=yf(),Mo=_u=Qn=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kf&&t.locale!=="ko"?null:t.data;default:return null}}var jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jh[e.type]:t==="textarea"}function xf(e,t,n,r){Xc(r),t=Yo(t,"onChange"),0<t.length&&(n=new bu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _i=null,Ti=null;function Nh(e){Mf(e,0)}function ma(e){var t=Or(e);if($c(t))return e}function Bh(e,t){if(e==="change")return t}var _f=!1;if(Nn){var Ya;if(Nn){var Ga="oninput"in document;if(!Ga){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),Ga=typeof Ul.oninput=="function"}Ya=Ga}else Ya=!1;_f=Ya&&(!document.documentMode||9<document.documentMode)}function Hl(){_i&&(_i.detachEvent("onpropertychange",bf),Ti=_i=null)}function bf(e){if(e.propertyName==="value"&&ma(Ti)){var t=[];xf(t,Ti,e,yu(e)),nf(Nh,t)}}function zh(e,t,n){e==="focusin"?(Hl(),_i=t,Ti=n,_i.attachEvent("onpropertychange",bf)):e==="focusout"&&Hl()}function Uh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ma(Ti)}function Hh(e,t){if(e==="click")return ma(t)}function Kh(e,t){if(e==="input"||e==="change")return ma(t)}function Wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:Wh;function Li(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ms.call(t,o)||!_n(e[o],t[o]))return!1}return!0}function Kl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wl(e,t){var n=Kl(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kl(n)}}function If(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?If(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rf(){for(var e=window,t=Ko();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ko(e.document)}return t}function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $h(e){var t=Rf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&If(n.ownerDocument.documentElement,n)){if(r!==null&&Cu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Wl(n,s);var d=Wl(n,r);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vh=Nn&&"documentMode"in document&&11>=document.documentMode,Fr=null,Os=null,bi=null,Ts=!1;function $l(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ts||Fr==null||Fr!==Ko(r)||(r=Fr,"selectionStart"in r&&Cu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bi&&Li(bi,r)||(bi=r,r=Yo(Os,"onSelect"),0<r.length&&(t=new bu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fr)))}function So(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mr={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},Xa={},Cf={};Nn&&(Cf=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function ga(e){if(Xa[e])return Xa[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cf)return Xa[e]=t[n];return e}var Ef=ga("animationend"),Af=ga("animationiteration"),Df=ga("animationstart"),Pf=ga("transitionend"),Ff=new Map,Vl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){Ff.set(e,t),xr(t,[e])}for(var Za=0;Za<Vl.length;Za++){var es=Vl[Za],Jh=es.toLowerCase(),Qh=es[0].toUpperCase()+es.slice(1);ar(Jh,"on"+Qh)}ar(Ef,"onAnimationEnd");ar(Af,"onAnimationIteration");ar(Df,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(Pf,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function Jl(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jd(r,t,void 0,e),e.currentTarget=null}function Mf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var d=r.length-1;0<=d;d--){var S=r[d],D=S.instance,Z=S.currentTarget;if(S=S.listener,D!==s&&o.isPropagationStopped())break e;Jl(o,S,Z),s=D}else for(d=0;d<r.length;d++){if(S=r[d],D=S.instance,Z=S.currentTarget,S=S.listener,D!==s&&o.isPropagationStopped())break e;Jl(o,S,Z),s=D}}}if($o)throw e=Ds,$o=!1,Ds=null,e}function wt(e,t){var n=t[zs];n===void 0&&(n=t[zs]=new Set);var r=e+"__bubble";n.has(r)||(Of(t,e,2,!1),n.add(r))}function ts(e,t,n){var r=0;t&&(r|=4),Of(n,e,r,t)}var xo="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[xo]){e[xo]=!0,zc.forEach(function(n){n!=="selectionchange"&&(qh.has(n)||ts(n,!1,e),ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xo]||(t[xo]=!0,ts("selectionchange",!1,t))}}function Of(e,t,n,r){switch(vf(t)){case 1:var o=lh;break;case 4:o=ch;break;default:o=xu}n=o.bind(null,t,n,e),o=void 0,!As||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ns(e,t,n,r,o){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var S=r.stateNode.containerInfo;if(S===o||S.nodeType===8&&S.parentNode===o)break;if(d===4)for(d=r.return;d!==null;){var D=d.tag;if((D===3||D===4)&&(D=d.stateNode.containerInfo,D===o||D.nodeType===8&&D.parentNode===o))return;d=d.return}for(;S!==null;){if(d=pr(S),d===null)return;if(D=d.tag,D===5||D===6){r=s=d;continue e}S=S.parentNode}}r=r.return}nf(function(){var Z=s,de=yu(n),me=[];e:{var ae=Ff.get(e);if(ae!==void 0){var be=bu,ke=e;switch(e){case"keypress":if(Oo(n)===0)break e;case"keydown":case"keyup":be=Ih;break;case"focusin":ke="focus",be=qa;break;case"focusout":ke="blur",be=qa;break;case"beforeblur":case"afterblur":be=qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Eh;break;case Ef:case Af:case Df:be=gh;break;case Pf:be=Dh;break;case"scroll":be=fh;break;case"wheel":be=Fh;break;case"copy":case"cut":case"paste":be=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=jl}var Pe=(t&4)!==0,tt=!Pe&&e==="scroll",le=Pe?ae!==null?ae+"Capture":null:ae;Pe=[];for(var J=Z,fe;J!==null;){fe=J;var xe=fe.stateNode;if(fe.tag===5&&xe!==null&&(fe=xe,le!==null&&(xe=Pi(J,le),xe!=null&&Pe.push(Ni(J,xe,fe)))),tt)break;J=J.return}0<Pe.length&&(ae=new be(ae,ke,null,n,de),me.push({event:ae,listeners:Pe}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",ae&&n!==Cs&&(ke=n.relatedTarget||n.fromElement)&&(pr(ke)||ke[Bn]))break e;if((be||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,be?(ke=n.relatedTarget||n.toElement,be=Z,ke=ke?pr(ke):null,ke!==null&&(tt=_r(ke),ke!==tt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(be=null,ke=Z),be!==ke)){if(Pe=Tl,xe="onMouseLeave",le="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=jl,xe="onPointerLeave",le="onPointerEnter",J="pointer"),tt=be==null?ae:Or(be),fe=ke==null?ae:Or(ke),ae=new Pe(xe,J+"leave",be,n,de),ae.target=tt,ae.relatedTarget=fe,xe=null,pr(de)===Z&&(Pe=new Pe(le,J+"enter",ke,n,de),Pe.target=fe,Pe.relatedTarget=tt,xe=Pe),tt=xe,be&&ke)t:{for(Pe=be,le=ke,J=0,fe=Pe;fe;fe=Er(fe))J++;for(fe=0,xe=le;xe;xe=Er(xe))fe++;for(;0<J-fe;)Pe=Er(Pe),J--;for(;0<fe-J;)le=Er(le),fe--;for(;J--;){if(Pe===le||le!==null&&Pe===le.alternate)break t;Pe=Er(Pe),le=Er(le)}Pe=null}else Pe=null;be!==null&&Ql(me,ae,be,Pe,!1),ke!==null&&tt!==null&&Ql(me,tt,ke,Pe,!0)}}e:{if(ae=Z?Or(Z):window,be=ae.nodeName&&ae.nodeName.toLowerCase(),be==="select"||be==="input"&&ae.type==="file")var Be=Bh;else if(zl(ae))if(_f)Be=Kh;else{Be=Uh;var A=zh}else(be=ae.nodeName)&&be.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Be=Hh);if(Be&&(Be=Be(e,Z))){xf(me,Be,n,de);break e}A&&A(e,ae,Z),e==="focusout"&&(A=ae._wrapperState)&&A.controlled&&ae.type==="number"&&xs(ae,"number",ae.value)}switch(A=Z?Or(Z):window,e){case"focusin":(zl(A)||A.contentEditable==="true")&&(Fr=A,Os=Z,bi=null);break;case"focusout":bi=Os=Fr=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,$l(me,n,de);break;case"selectionchange":if(Vh)break;case"keydown":case"keyup":$l(me,n,de)}var Fe;if(Ru)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Pr?wf(e,n)&&(He="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(He="onCompositionStart");He&&(kf&&n.locale!=="ko"&&(Pr||He!=="onCompositionStart"?He==="onCompositionEnd"&&Pr&&(Fe=yf()):(Qn=de,_u="value"in Qn?Qn.value:Qn.textContent,Pr=!0)),A=Yo(Z,He),0<A.length&&(He=new Ll(He,e,null,n,de),me.push({event:He,listeners:A}),Fe?He.data=Fe:(Fe=Sf(n),Fe!==null&&(He.data=Fe)))),(Fe=Oh?Th(e,n):Lh(e,n))&&(Z=Yo(Z,"onBeforeInput"),0<Z.length&&(de=new Ll("onBeforeInput","beforeinput",null,n,de),me.push({event:de,listeners:Z}),de.data=Fe))}Mf(me,t)})}function Ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Pi(e,n),s!=null&&r.unshift(Ni(e,s,o)),s=Pi(e,t),s!=null&&r.push(Ni(e,s,o))),e=e.return}return r}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ql(e,t,n,r,o){for(var s=t._reactName,d=[];n!==null&&n!==r;){var S=n,D=S.alternate,Z=S.stateNode;if(D!==null&&D===r)break;S.tag===5&&Z!==null&&(S=Z,o?(D=Pi(n,s),D!=null&&d.unshift(Ni(n,D,S))):o||(D=Pi(n,s),D!=null&&d.push(Ni(n,D,S)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var Yh=/\r\n?/g,Gh=/\u0000|\uFFFD/g;function ql(e){return(typeof e=="string"?e:""+e).replace(Yh,`
`).replace(Gh,"")}function _o(e,t,n){if(t=ql(t),ql(e)!==t&&n)throw Error(Te(425))}function Go(){}var Ls=null,js=null;function Ns(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bs=typeof setTimeout=="function"?setTimeout:void 0,Xh=typeof clearTimeout=="function"?clearTimeout:void 0,Yl=typeof Promise=="function"?Promise:void 0,Zh=typeof queueMicrotask=="function"?queueMicrotask:typeof Yl<"u"?function(e){return Yl.resolve(null).then(e).catch(em)}:Bs;function em(e){setTimeout(function(){throw e})}function rs(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Oi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Oi(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ri=Math.random().toString(36).slice(2),Cn="__reactFiber$"+ri,Bi="__reactProps$"+ri,Bn="__reactContainer$"+ri,zs="__reactEvents$"+ri,tm="__reactListeners$"+ri,nm="__reactHandles$"+ri;function pr(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bn]||n[Cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gl(e);e!==null;){if(n=e[Cn])return n;e=Gl(e)}return t}e=n,n=e.parentNode}return null}function Yi(e){return e=e[Cn]||e[Bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function va(e){return e[Bi]||null}var Us=[],Tr=-1;function sr(e){return{current:e}}function St(e){0>Tr||(e.current=Us[Tr],Us[Tr]=null,Tr--)}function vt(e,t){Tr++,Us[Tr]=e.current,e.current=t}var or={},Vt=sr(or),tn=sr(!1),vr=or;function Qr(e,t){var n=e.type.contextTypes;if(!n)return or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function nn(e){return e=e.childContextTypes,e!=null}function Xo(){St(tn),St(Vt)}function Xl(e,t,n){if(Vt.current!==or)throw Error(Te(168));vt(Vt,t),vt(tn,n)}function Tf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Te(108,zd(e)||"Unknown",o));return Rt({},n,r)}function Zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,vr=Vt.current,vt(Vt,e),vt(tn,tn.current),!0}function Zl(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=Tf(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,St(tn),St(Vt),vt(Vt,e)):St(tn),vt(tn,n)}var On=null,ya=!1,is=!1;function Lf(e){On===null?On=[e]:On.push(e)}function rm(e){ya=!0,Lf(e)}function ur(){if(!is&&On!==null){is=!0;var e=0,t=ht;try{var n=On;for(ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}On=null,ya=!1}catch(o){throw On!==null&&(On=On.slice(e+1)),sf(ku,ur),o}finally{ht=t,is=!1}}return null}var Lr=[],jr=0,ea=null,ta=0,fn=[],pn=0,yr=null,Tn=1,Ln="";function cr(e,t){Lr[jr++]=ta,Lr[jr++]=ea,ea=e,ta=t}function jf(e,t,n){fn[pn++]=Tn,fn[pn++]=Ln,fn[pn++]=yr,yr=e;var r=Tn;e=Ln;var o=32-Sn(r)-1;r&=~(1<<o),n+=1;var s=32-Sn(t)+o;if(30<s){var d=o-o%5;s=(r&(1<<d)-1).toString(32),r>>=d,o-=d,Tn=1<<32-Sn(t)+o|n<<o|r,Ln=s+e}else Tn=1<<s|n<<o|r,Ln=e}function Eu(e){e.return!==null&&(cr(e,1),jf(e,1,0))}function Au(e){for(;e===ea;)ea=Lr[--jr],Lr[jr]=null,ta=Lr[--jr],Lr[jr]=null;for(;e===yr;)yr=fn[--pn],fn[pn]=null,Ln=fn[--pn],fn[pn]=null,Tn=fn[--pn],fn[pn]=null}var sn=null,an=null,xt=!1,wn=null;function Nf(e,t){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ec(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,an=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:Tn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sn=e,an=null,!0):!1;default:return!1}}function Hs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ks(e){if(xt){var t=an;if(t){var n=t;if(!ec(e,t)){if(Hs(e))throw Error(Te(418));t=Zn(n.nextSibling);var r=sn;t&&ec(e,t)?Nf(r,n):(e.flags=e.flags&-4097|2,xt=!1,sn=e)}}else{if(Hs(e))throw Error(Te(418));e.flags=e.flags&-4097|2,xt=!1,sn=e}}}function tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function bo(e){if(e!==sn)return!1;if(!xt)return tc(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ns(e.type,e.memoizedProps)),t&&(t=an)){if(Hs(e))throw Bf(),Error(Te(418));for(;t;)Nf(e,t),t=Zn(t.nextSibling)}if(tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=Zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=sn?Zn(e.stateNode.nextSibling):null;return!0}function Bf(){for(var e=an;e;)e=Zn(e.nextSibling)}function qr(){an=sn=null,xt=!1}function Du(e){wn===null?wn=[e]:wn.push(e)}var im=Hn.ReactCurrentBatchConfig;function yn(e,t){if(e&&e.defaultProps){t=Rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var na=sr(null),ra=null,Nr=null,Pu=null;function Fu(){Pu=Nr=ra=null}function Mu(e){var t=na.current;St(na),e._currentValue=t}function Ws(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $r(e,t){ra=e,Pu=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(en=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(Pu!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(ra===null)throw Error(Te(308));Nr=e,ra.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var dr=null;function Ou(e){dr===null?dr=[e]:dr.push(e)}function zf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ou(t)):(n.next=o.next,o.next=n),t.interleaved=n,zn(e,r)}function zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function Tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(pt&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,zn(e,n)}return o=r.interleaved,o===null?(t.next=t,Ou(r)):(t.next=o.next,o.next=t),r.interleaved=t,zn(e,n)}function To(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wu(e,n)}}function nc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=d:s=s.next=d,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ia(e,t,n,r){var o=e.updateQueue;$n=!1;var s=o.firstBaseUpdate,d=o.lastBaseUpdate,S=o.shared.pending;if(S!==null){o.shared.pending=null;var D=S,Z=D.next;D.next=null,d===null?s=Z:d.next=Z,d=D;var de=e.alternate;de!==null&&(de=de.updateQueue,S=de.lastBaseUpdate,S!==d&&(S===null?de.firstBaseUpdate=Z:S.next=Z,de.lastBaseUpdate=D))}if(s!==null){var me=o.baseState;d=0,de=Z=D=null,S=s;do{var ae=S.lane,be=S.eventTime;if((r&ae)===ae){de!==null&&(de=de.next={eventTime:be,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ke=e,Pe=S;switch(ae=t,be=n,Pe.tag){case 1:if(ke=Pe.payload,typeof ke=="function"){me=ke.call(be,me,ae);break e}me=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Pe.payload,ae=typeof ke=="function"?ke.call(be,me,ae):ke,ae==null)break e;me=Rt({},me,ae);break e;case 2:$n=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,ae=o.effects,ae===null?o.effects=[S]:ae.push(S))}else be={eventTime:be,lane:ae,tag:S.tag,payload:S.payload,callback:S.callback,next:null},de===null?(Z=de=be,D=me):de=de.next=be,d|=ae;if(S=S.next,S===null){if(S=o.shared.pending,S===null)break;ae=S,S=ae.next,ae.next=null,o.lastBaseUpdate=ae,o.shared.pending=null}}while(1);if(de===null&&(D=me),o.baseState=D,o.firstBaseUpdate=Z,o.lastBaseUpdate=de,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);wr|=d,e.lanes=d,e.memoizedState=me}}function rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Te(191,o));o.call(r)}}}var Hf=new Bc.Component().refs;function $s(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ka={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qt(),o=nr(e),s=jn(r,o);s.payload=t,n!=null&&(s.callback=n),t=er(e,s,o),t!==null&&(xn(t,e,o,r),To(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qt(),o=nr(e),s=jn(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=er(e,s,o),t!==null&&(xn(t,e,o,r),To(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),r=nr(e),o=jn(n,r);o.tag=2,t!=null&&(o.callback=t),t=er(e,o,r),t!==null&&(xn(t,e,r,n),To(t,e,r))}};function ic(e,t,n,r,o,s,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,d):t.prototype&&t.prototype.isPureReactComponent?!Li(n,r)||!Li(o,s):!0}function Kf(e,t,n){var r=!1,o=or,s=t.contextType;return typeof s=="object"&&s!==null?s=mn(s):(o=nn(t)?vr:Vt.current,r=t.contextTypes,s=(r=r!=null)?Qr(e,o):or),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ka,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function oc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function Vs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Hf,Tu(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=mn(s):(s=nn(t)?vr:Vt.current,o.context=Qr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&($s(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ka.enqueueReplaceState(o,o.state,null),ia(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function di(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(d){var S=o.refs;S===Hf&&(S=o.refs={}),d===null?delete S[s]:S[s]=d},t._stringRef=s,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function Io(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ac(e){var t=e._init;return t(e._payload)}function Wf(e){function t(le,J){if(e){var fe=le.deletions;fe===null?(le.deletions=[J],le.flags|=16):fe.push(J)}}function n(le,J){if(!e)return null;for(;J!==null;)t(le,J),J=J.sibling;return null}function r(le,J){for(le=new Map;J!==null;)J.key!==null?le.set(J.key,J):le.set(J.index,J),J=J.sibling;return le}function o(le,J){return le=rr(le,J),le.index=0,le.sibling=null,le}function s(le,J,fe){return le.index=fe,e?(fe=le.alternate,fe!==null?(fe=fe.index,fe<J?(le.flags|=2,J):fe):(le.flags|=2,J)):(le.flags|=1048576,J)}function d(le){return e&&le.alternate===null&&(le.flags|=2),le}function S(le,J,fe,xe){return J===null||J.tag!==6?(J=fs(fe,le.mode,xe),J.return=le,J):(J=o(J,fe),J.return=le,J)}function D(le,J,fe,xe){var Be=fe.type;return Be===Dr?de(le,J,fe.props.children,xe,fe.key):J!==null&&(J.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Wn&&ac(Be)===J.type)?(xe=o(J,fe.props),xe.ref=di(le,J,fe),xe.return=le,xe):(xe=Uo(fe.type,fe.key,fe.props,null,le.mode,xe),xe.ref=di(le,J,fe),xe.return=le,xe)}function Z(le,J,fe,xe){return J===null||J.tag!==4||J.stateNode.containerInfo!==fe.containerInfo||J.stateNode.implementation!==fe.implementation?(J=ps(fe,le.mode,xe),J.return=le,J):(J=o(J,fe.children||[]),J.return=le,J)}function de(le,J,fe,xe,Be){return J===null||J.tag!==7?(J=gr(fe,le.mode,xe,Be),J.return=le,J):(J=o(J,fe),J.return=le,J)}function me(le,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number")return J=fs(""+J,le.mode,fe),J.return=le,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ho:return fe=Uo(J.type,J.key,J.props,null,le.mode,fe),fe.ref=di(le,null,J),fe.return=le,fe;case Ar:return J=ps(J,le.mode,fe),J.return=le,J;case Wn:var xe=J._init;return me(le,xe(J._payload),fe)}if(vi(J)||ui(J))return J=gr(J,le.mode,fe,null),J.return=le,J;Io(le,J)}return null}function ae(le,J,fe,xe){var Be=J!==null?J.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Be!==null?null:S(le,J,""+fe,xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case ho:return fe.key===Be?D(le,J,fe,xe):null;case Ar:return fe.key===Be?Z(le,J,fe,xe):null;case Wn:return Be=fe._init,ae(le,J,Be(fe._payload),xe)}if(vi(fe)||ui(fe))return Be!==null?null:de(le,J,fe,xe,null);Io(le,fe)}return null}function be(le,J,fe,xe,Be){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return le=le.get(fe)||null,S(J,le,""+xe,Be);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case ho:return le=le.get(xe.key===null?fe:xe.key)||null,D(J,le,xe,Be);case Ar:return le=le.get(xe.key===null?fe:xe.key)||null,Z(J,le,xe,Be);case Wn:var A=xe._init;return be(le,J,fe,A(xe._payload),Be)}if(vi(xe)||ui(xe))return le=le.get(fe)||null,de(J,le,xe,Be,null);Io(J,xe)}return null}function ke(le,J,fe,xe){for(var Be=null,A=null,Fe=J,He=J=0,ze=null;Fe!==null&&He<fe.length;He++){Fe.index>He?(ze=Fe,Fe=null):ze=Fe.sibling;var Ze=ae(le,Fe,fe[He],xe);if(Ze===null){Fe===null&&(Fe=ze);break}e&&Fe&&Ze.alternate===null&&t(le,Fe),J=s(Ze,J,He),A===null?Be=Ze:A.sibling=Ze,A=Ze,Fe=ze}if(He===fe.length)return n(le,Fe),xt&&cr(le,He),Be;if(Fe===null){for(;He<fe.length;He++)Fe=me(le,fe[He],xe),Fe!==null&&(J=s(Fe,J,He),A===null?Be=Fe:A.sibling=Fe,A=Fe);return xt&&cr(le,He),Be}for(Fe=r(le,Fe);He<fe.length;He++)ze=be(Fe,le,He,fe[He],xe),ze!==null&&(e&&ze.alternate!==null&&Fe.delete(ze.key===null?He:ze.key),J=s(ze,J,He),A===null?Be=ze:A.sibling=ze,A=ze);return e&&Fe.forEach(function(lt){return t(le,lt)}),xt&&cr(le,He),Be}function Pe(le,J,fe,xe){var Be=ui(fe);if(typeof Be!="function")throw Error(Te(150));if(fe=Be.call(fe),fe==null)throw Error(Te(151));for(var A=Be=null,Fe=J,He=J=0,ze=null,Ze=fe.next();Fe!==null&&!Ze.done;He++,Ze=fe.next()){Fe.index>He?(ze=Fe,Fe=null):ze=Fe.sibling;var lt=ae(le,Fe,Ze.value,xe);if(lt===null){Fe===null&&(Fe=ze);break}e&&Fe&&lt.alternate===null&&t(le,Fe),J=s(lt,J,He),A===null?Be=lt:A.sibling=lt,A=lt,Fe=ze}if(Ze.done)return n(le,Fe),xt&&cr(le,He),Be;if(Fe===null){for(;!Ze.done;He++,Ze=fe.next())Ze=me(le,Ze.value,xe),Ze!==null&&(J=s(Ze,J,He),A===null?Be=Ze:A.sibling=Ze,A=Ze);return xt&&cr(le,He),Be}for(Fe=r(le,Fe);!Ze.done;He++,Ze=fe.next())Ze=be(Fe,le,He,Ze.value,xe),Ze!==null&&(e&&Ze.alternate!==null&&Fe.delete(Ze.key===null?He:Ze.key),J=s(Ze,J,He),A===null?Be=Ze:A.sibling=Ze,A=Ze);return e&&Fe.forEach(function(Ye){return t(le,Ye)}),xt&&cr(le,He),Be}function tt(le,J,fe,xe){if(typeof fe=="object"&&fe!==null&&fe.type===Dr&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case ho:e:{for(var Be=fe.key,A=J;A!==null;){if(A.key===Be){if(Be=fe.type,Be===Dr){if(A.tag===7){n(le,A.sibling),J=o(A,fe.props.children),J.return=le,le=J;break e}}else if(A.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Wn&&ac(Be)===A.type){n(le,A.sibling),J=o(A,fe.props),J.ref=di(le,A,fe),J.return=le,le=J;break e}n(le,A);break}else t(le,A);A=A.sibling}fe.type===Dr?(J=gr(fe.props.children,le.mode,xe,fe.key),J.return=le,le=J):(xe=Uo(fe.type,fe.key,fe.props,null,le.mode,xe),xe.ref=di(le,J,fe),xe.return=le,le=xe)}return d(le);case Ar:e:{for(A=fe.key;J!==null;){if(J.key===A)if(J.tag===4&&J.stateNode.containerInfo===fe.containerInfo&&J.stateNode.implementation===fe.implementation){n(le,J.sibling),J=o(J,fe.children||[]),J.return=le,le=J;break e}else{n(le,J);break}else t(le,J);J=J.sibling}J=ps(fe,le.mode,xe),J.return=le,le=J}return d(le);case Wn:return A=fe._init,tt(le,J,A(fe._payload),xe)}if(vi(fe))return ke(le,J,fe,xe);if(ui(fe))return Pe(le,J,fe,xe);Io(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,J!==null&&J.tag===6?(n(le,J.sibling),J=o(J,fe),J.return=le,le=J):(n(le,J),J=fs(fe,le.mode,xe),J.return=le,le=J),d(le)):n(le,J)}return tt}var Yr=Wf(!0),$f=Wf(!1),Gi={},An=sr(Gi),zi=sr(Gi),Ui=sr(Gi);function hr(e){if(e===Gi)throw Error(Te(174));return e}function Lu(e,t){switch(vt(Ui,t),vt(zi,e),vt(An,Gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bs(t,e)}St(An),vt(An,t)}function Gr(){St(An),St(zi),St(Ui)}function Vf(e){hr(Ui.current);var t=hr(An.current),n=bs(t,e.type);t!==n&&(vt(zi,e),vt(An,n))}function ju(e){zi.current===e&&(St(An),St(zi))}var bt=sr(0);function oa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var os=[];function Nu(){for(var e=0;e<os.length;e++)os[e]._workInProgressVersionPrimary=null;os.length=0}var Lo=Hn.ReactCurrentDispatcher,as=Hn.ReactCurrentBatchConfig,kr=0,It=null,Tt=null,jt=null,aa=!1,Ii=!1,Hi=0,om=0;function Kt(){throw Error(Te(321))}function Bu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}function zu(e,t,n,r,o,s){if(kr=s,It=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lo.current=e===null||e.memoizedState===null?lm:cm,e=n(r,o),Ii){s=0;do{if(Ii=!1,Hi=0,25<=s)throw Error(Te(301));s+=1,jt=Tt=null,t.updateQueue=null,Lo.current=fm,e=n(r,o)}while(Ii)}if(Lo.current=sa,t=Tt!==null&&Tt.next!==null,kr=0,jt=Tt=It=null,aa=!1,t)throw Error(Te(300));return e}function Uu(){var e=Hi!==0;return Hi=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?It.memoizedState=jt=e:jt=jt.next=e,jt}function gn(){if(Tt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=jt===null?It.memoizedState:jt.next;if(t!==null)jt=t,Tt=e;else{if(e===null)throw Error(Te(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},jt===null?It.memoizedState=jt=e:jt=jt.next=e}return jt}function Ki(e,t){return typeof t=="function"?t(e):t}function ss(e){var t=gn(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=Tt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var d=o.next;o.next=s.next,s.next=d}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var S=d=null,D=null,Z=s;do{var de=Z.lane;if((kr&de)===de)D!==null&&(D=D.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),r=Z.hasEagerState?Z.eagerState:e(r,Z.action);else{var me={lane:de,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};D===null?(S=D=me,d=r):D=D.next=me,It.lanes|=de,wr|=de}Z=Z.next}while(Z!==null&&Z!==s);D===null?d=r:D.next=S,_n(r,t.memoizedState)||(en=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=D,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,It.lanes|=s,wr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function us(e){var t=gn(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var d=o=o.next;do s=e(s,d.action),d=d.next;while(d!==o);_n(s,t.memoizedState)||(en=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Jf(){}function Qf(e,t){var n=It,r=gn(),o=t(),s=!_n(r.memoizedState,o);if(s&&(r.memoizedState=o,en=!0),r=r.queue,Hu(Gf.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Wi(9,Yf.bind(null,n,r,o,t),void 0,null),Nt===null)throw Error(Te(349));(kr&30)!==0||qf(n,t,o)}return o}function qf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yf(e,t,n,r){t.value=n,t.getSnapshot=r,Xf(t)&&Zf(e)}function Gf(e,t,n){return n(function(){Xf(t)&&Zf(e)})}function Xf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_n(e,n)}catch{return!0}}function Zf(e){var t=zn(e,1);t!==null&&xn(t,e,1,-1)}function sc(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t.queue=e,e=e.dispatch=um.bind(null,It,e),[t.memoizedState,e]}function Wi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ep(){return gn().memoizedState}function jo(e,t,n,r){var o=Rn();It.flags|=e,o.memoizedState=Wi(1|t,n,void 0,r===void 0?null:r)}function wa(e,t,n,r){var o=gn();r=r===void 0?null:r;var s=void 0;if(Tt!==null){var d=Tt.memoizedState;if(s=d.destroy,r!==null&&Bu(r,d.deps)){o.memoizedState=Wi(t,n,s,r);return}}It.flags|=e,o.memoizedState=Wi(1|t,n,s,r)}function uc(e,t){return jo(8390656,8,e,t)}function Hu(e,t){return wa(2048,8,e,t)}function tp(e,t){return wa(4,2,e,t)}function np(e,t){return wa(4,4,e,t)}function rp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ip(e,t,n){return n=n!=null?n.concat([e]):null,wa(4,4,rp.bind(null,t,e),n)}function Ku(){}function op(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ap(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sp(e,t,n){return(kr&21)===0?(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=n):(_n(n,t)||(n=cf(),It.lanes|=n,wr|=n,e.baseState=!0),t)}function am(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{ht=n,as.transition=r}}function up(){return gn().memoizedState}function sm(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lp(e))cp(t,n);else if(n=zf(e,t,n,r),n!==null){var o=Qt();xn(n,e,r,o),fp(n,t,r)}}function um(e,t,n){var r=nr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lp(e))cp(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var d=t.lastRenderedState,S=s(d,n);if(o.hasEagerState=!0,o.eagerState=S,_n(S,d)){var D=t.interleaved;D===null?(o.next=o,Ou(t)):(o.next=D.next,D.next=o),t.interleaved=o;return}}catch{}finally{}n=zf(e,t,o,r),n!==null&&(o=Qt(),xn(n,e,r,o),fp(n,t,r))}}function lp(e){var t=e.alternate;return e===It||t!==null&&t===It}function cp(e,t){Ii=aa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fp(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wu(e,n)}}var sa={readContext:mn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},lm={readContext:mn,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:uc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jo(4194308,4,rp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=Rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sm.bind(null,It,e),[r.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:sc,useDebugValue:Ku,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=sc(!1),t=e[0];return e=am.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=It,o=Rn();if(xt){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),Nt===null)throw Error(Te(349));(kr&30)!==0||qf(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,uc(Gf.bind(null,r,s,e),[e]),r.flags|=2048,Wi(9,Yf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Rn(),t=Nt.identifierPrefix;if(xt){var n=Ln,r=Tn;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=om++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cm={readContext:mn,useCallback:op,useContext:mn,useEffect:Hu,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:ap,useReducer:ss,useRef:ep,useState:function(){return ss(Ki)},useDebugValue:Ku,useDeferredValue:function(e){var t=gn();return sp(t,Tt.memoizedState,e)},useTransition:function(){var e=ss(Ki)[0],t=gn().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:Qf,useId:up,unstable_isNewReconciler:!1},fm={readContext:mn,useCallback:op,useContext:mn,useEffect:Hu,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:ap,useReducer:us,useRef:ep,useState:function(){return us(Ki)},useDebugValue:Ku,useDeferredValue:function(e){var t=gn();return Tt===null?t.memoizedState=e:sp(t,Tt.memoizedState,e)},useTransition:function(){var e=us(Ki)[0],t=gn().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:Qf,useId:up,unstable_isNewReconciler:!1};function Xr(e,t){try{var n="",r=t;do n+=Bd(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function ls(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function Js(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pm=typeof WeakMap=="function"?WeakMap:Map;function pp(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){la||(la=!0,ru=r),Js(e,t)},n}function dp(e,t,n){n=jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Js(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Js(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function lc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pm;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Rm.bind(null,e,t,n),t.then(e,e))}function cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fc(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var dm=Hn.ReactCurrentOwner,en=!1;function Jt(e,t,n,r){t.child=e===null?$f(t,null,n,r):Yr(t,e.child,n,r)}function pc(e,t,n,r,o){n=n.render;var s=t.ref;return $r(t,o),r=zu(e,t,n,r,s,o),n=Uu(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Un(e,t,o)):(xt&&n&&Eu(t),t.flags|=1,Jt(e,t,r,o),t.child)}function dc(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Gu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,hp(e,t,s,r,o)):(e=Uo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var d=s.memoizedProps;if(n=n.compare,n=n!==null?n:Li,n(d,r)&&e.ref===t.ref)return Un(e,t,o)}return t.flags|=1,e=rr(s,r),e.ref=t.ref,e.return=t,t.child=e}function hp(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Li(s,r)&&e.ref===t.ref)if(en=!1,t.pendingProps=r=s,(e.lanes&o)!==0)(e.flags&131072)!==0&&(en=!0);else return t.lanes=e.lanes,Un(e,t,o)}return Qs(e,t,n,r,o)}function mp(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(zr,on),on|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vt(zr,on),on|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,vt(zr,on),on|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,vt(zr,on),on|=r;return Jt(e,t,o,n),t.child}function gp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qs(e,t,n,r,o){var s=nn(n)?vr:Vt.current;return s=Qr(t,s),$r(t,o),n=zu(e,t,n,r,s,o),r=Uu(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Un(e,t,o)):(xt&&r&&Eu(t),t.flags|=1,Jt(e,t,n,o),t.child)}function hc(e,t,n,r,o){if(nn(n)){var s=!0;Zo(t)}else s=!1;if($r(t,o),t.stateNode===null)No(e,t),Kf(t,n,r),Vs(t,n,r,o),r=!0;else if(e===null){var d=t.stateNode,S=t.memoizedProps;d.props=S;var D=d.context,Z=n.contextType;typeof Z=="object"&&Z!==null?Z=mn(Z):(Z=nn(n)?vr:Vt.current,Z=Qr(t,Z));var de=n.getDerivedStateFromProps,me=typeof de=="function"||typeof d.getSnapshotBeforeUpdate=="function";me||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S!==r||D!==Z)&&oc(t,d,r,Z),$n=!1;var ae=t.memoizedState;d.state=ae,ia(t,r,d,o),D=t.memoizedState,S!==r||ae!==D||tn.current||$n?(typeof de=="function"&&($s(t,n,de,r),D=t.memoizedState),(S=$n||ic(t,n,S,r,ae,D,Z))?(me||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=D),d.props=r,d.state=D,d.context=Z,r=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Uf(e,t),S=t.memoizedProps,Z=t.type===t.elementType?S:yn(t.type,S),d.props=Z,me=t.pendingProps,ae=d.context,D=n.contextType,typeof D=="object"&&D!==null?D=mn(D):(D=nn(n)?vr:Vt.current,D=Qr(t,D));var be=n.getDerivedStateFromProps;(de=typeof be=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S!==me||ae!==D)&&oc(t,d,r,D),$n=!1,ae=t.memoizedState,d.state=ae,ia(t,r,d,o);var ke=t.memoizedState;S!==me||ae!==ke||tn.current||$n?(typeof be=="function"&&($s(t,n,be,r),ke=t.memoizedState),(Z=$n||ic(t,n,Z,r,ae,ke,D)||!1)?(de||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,ke,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,ke,D)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||S===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ke),d.props=r,d.state=ke,d.context=D,r=Z):(typeof d.componentDidUpdate!="function"||S===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),r=!1)}return qs(e,t,n,r,s,o)}function qs(e,t,n,r,o,s){gp(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return o&&Zl(t,n,!1),Un(e,t,s);r=t.stateNode,dm.current=t;var S=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=Yr(t,e.child,null,s),t.child=Yr(t,null,S,s)):Jt(e,t,S,s),t.memoizedState=r.state,o&&Zl(t,n,!0),t.child}function vp(e){var t=e.stateNode;t.pendingContext?Xl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xl(e,t.context,!1),Lu(e,t.containerInfo)}function mc(e,t,n,r,o){return qr(),Du(o),t.flags|=256,Jt(e,t,n,r),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0};function Gs(e){return{baseLanes:e,cachePool:null,transitions:null}}function yp(e,t,n){var r=t.pendingProps,o=bt.current,s=!1,d=(t.flags&128)!==0,S;if((S=d)||(S=e!==null&&e.memoizedState===null?!1:(o&2)!==0),S?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),vt(bt,o&1),e===null)return Ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=r.children,e=r.fallback,s?(r=t.mode,s=t.child,d={mode:"hidden",children:d},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=d):s=_a(d,r,0,null),e=gr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Gs(n),t.memoizedState=Ys,e):Wu(t,d));if(o=e.memoizedState,o!==null&&(S=o.dehydrated,S!==null))return hm(e,t,d,r,S,o,n);if(s){s=r.fallback,d=t.mode,o=e.child,S=o.sibling;var D={mode:"hidden",children:r.children};return(d&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=D,t.deletions=null):(r=rr(o,D),r.subtreeFlags=o.subtreeFlags&14680064),S!==null?s=rr(S,s):(s=gr(s,d,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,d=e.child.memoizedState,d=d===null?Gs(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},s.memoizedState=d,s.childLanes=e.childLanes&~n,t.memoizedState=Ys,r}return s=e.child,e=s.sibling,r=rr(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wu(e,t){return t=_a({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ro(e,t,n,r){return r!==null&&Du(r),Yr(t,e.child,null,n),e=Wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hm(e,t,n,r,o,s,d){if(n)return t.flags&256?(t.flags&=-257,r=ls(Error(Te(422))),Ro(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=_a({mode:"visible",children:r.children},o,0,null),s=gr(s,o,d,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&Yr(t,e.child,null,d),t.child.memoizedState=Gs(d),t.memoizedState=Ys,s);if((t.mode&1)===0)return Ro(e,t,d,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var S=r.dgst;return r=S,s=Error(Te(419)),r=ls(s,r,void 0),Ro(e,t,d,r)}if(S=(d&e.childLanes)!==0,en||S){if(r=Nt,r!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|d))!==0?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,zn(e,o),xn(r,e,o,-1))}return Yu(),r=ls(Error(Te(421))),Ro(e,t,d,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Cm.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,an=Zn(o.nextSibling),sn=t,xt=!0,wn=null,e!==null&&(fn[pn++]=Tn,fn[pn++]=Ln,fn[pn++]=yr,Tn=e.id,Ln=e.overflow,yr=t),t=Wu(t,r.children),t.flags|=4096,t)}function gc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ws(e.return,t,n)}function cs(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function kp(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Jt(e,t,r.children,n),r=bt.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gc(e,n,t);else if(e.tag===19)gc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vt(bt,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&oa(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),cs(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&oa(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}cs(t,!0,n,null,s);break;case"together":cs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function No(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mm(e,t,n){switch(t.tag){case 3:vp(t),qr();break;case 5:Vf(t);break;case 1:nn(t.type)&&Zo(t);break;case 4:Lu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;vt(na,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(vt(bt,bt.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?yp(e,t,n):(vt(bt,bt.current&1),e=Un(e,t,n),e!==null?e.sibling:null);vt(bt,bt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return kp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),vt(bt,bt.current),r)break;return null;case 22:case 23:return t.lanes=0,mp(e,t,n)}return Un(e,t,n)}var wp,Xs,Sp,xp;wp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xs=function(){};Sp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,hr(An.current);var s=null;switch(n){case"input":o=ws(e,o),r=ws(e,r),s=[];break;case"select":o=Rt({},o,{value:void 0}),r=Rt({},r,{value:void 0}),s=[];break;case"textarea":o=_s(e,o),r=_s(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Go)}Is(n,r);var d;n=null;for(Z in o)if(!r.hasOwnProperty(Z)&&o.hasOwnProperty(Z)&&o[Z]!=null)if(Z==="style"){var S=o[Z];for(d in S)S.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(Ai.hasOwnProperty(Z)?s||(s=[]):(s=s||[]).push(Z,null));for(Z in r){var D=r[Z];if(S=o!=null?o[Z]:void 0,r.hasOwnProperty(Z)&&D!==S&&(D!=null||S!=null))if(Z==="style")if(S){for(d in S)!S.hasOwnProperty(d)||D&&D.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in D)D.hasOwnProperty(d)&&S[d]!==D[d]&&(n||(n={}),n[d]=D[d])}else n||(s||(s=[]),s.push(Z,n)),n=D;else Z==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,S=S?S.__html:void 0,D!=null&&S!==D&&(s=s||[]).push(Z,D)):Z==="children"?typeof D!="string"&&typeof D!="number"||(s=s||[]).push(Z,""+D):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(Z)?(D!=null&&Z==="onScroll"&&wt("scroll",e),s||S===D||(s=[])):(s=s||[]).push(Z,D))}n&&(s=s||[]).push("style",n);var Z=s;(t.updateQueue=Z)&&(t.flags|=4)}};xp=function(e,t,n,r){n!==r&&(t.flags|=4)};function hi(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gm(e,t,n){var r=t.pendingProps;switch(Au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return nn(t.type)&&Xo(),Wt(t),null;case 3:return r=t.stateNode,Gr(),St(tn),St(Vt),Nu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wn!==null&&(au(wn),wn=null))),Xs(e,t),Wt(t),null;case 5:ju(t);var o=hr(Ui.current);if(n=t.type,e!==null&&t.stateNode!=null)Sp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return Wt(t),null}if(e=hr(An.current),bo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Cn]=t,r[Bi]=s,e=(t.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(o=0;o<ki.length;o++)wt(ki[o],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":Il(r,s),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},wt("invalid",r);break;case"textarea":Cl(r,s),wt("invalid",r)}Is(n,s),o=null;for(var d in s)if(s.hasOwnProperty(d)){var S=s[d];d==="children"?typeof S=="string"?r.textContent!==S&&(s.suppressHydrationWarning!==!0&&_o(r.textContent,S,e),o=["children",S]):typeof S=="number"&&r.textContent!==""+S&&(s.suppressHydrationWarning!==!0&&_o(r.textContent,S,e),o=["children",""+S]):Ai.hasOwnProperty(d)&&S!=null&&d==="onScroll"&&wt("scroll",r)}switch(n){case"input":mo(r),Rl(r,s,!0);break;case"textarea":mo(r),El(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Go)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Cn]=t,e[Bi]=r,wp(e,t,!1,!1),t.stateNode=e;e:{switch(d=Rs(n,r),n){case"dialog":wt("cancel",e),wt("close",e),o=r;break;case"iframe":case"object":case"embed":wt("load",e),o=r;break;case"video":case"audio":for(o=0;o<ki.length;o++)wt(ki[o],e);o=r;break;case"source":wt("error",e),o=r;break;case"img":case"image":case"link":wt("error",e),wt("load",e),o=r;break;case"details":wt("toggle",e),o=r;break;case"input":Il(e,r),o=ws(e,r),wt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Rt({},r,{value:void 0}),wt("invalid",e);break;case"textarea":Cl(e,r),o=_s(e,r),wt("invalid",e);break;default:o=r}Is(n,o),S=o;for(s in S)if(S.hasOwnProperty(s)){var D=S[s];s==="style"?Gc(e,D):s==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&qc(e,D)):s==="children"?typeof D=="string"?(n!=="textarea"||D!=="")&&Di(e,D):typeof D=="number"&&Di(e,""+D):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ai.hasOwnProperty(s)?D!=null&&s==="onScroll"&&wt("scroll",e):D!=null&&hu(e,s,D,d))}switch(n){case"input":mo(e),Rl(e,r,!1);break;case"textarea":mo(e),El(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ir(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ur(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Go)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)xp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(n=hr(Ui.current),hr(An.current),bo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cn]=t,(s=r.nodeValue!==n)&&(e=sn,e!==null))switch(e.tag){case 3:_o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_o(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=t,t.stateNode=r}return Wt(t),null;case 13:if(St(bt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&an!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Bf(),qr(),t.flags|=98560,s=!1;else if(s=bo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Te(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Te(317));s[Cn]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Wt(t),s=!1}else wn!==null&&(au(wn),wn=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(bt.current&1)!==0?Lt===0&&(Lt=3):Yu())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return Gr(),Xs(e,t),e===null&&ji(t.stateNode.containerInfo),Wt(t),null;case 10:return Mu(t.type._context),Wt(t),null;case 17:return nn(t.type)&&Xo(),Wt(t),null;case 19:if(St(bt),s=t.memoizedState,s===null)return Wt(t),null;if(r=(t.flags&128)!==0,d=s.rendering,d===null)if(r)hi(s,!1);else{if(Lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=oa(e),d!==null){for(t.flags|=128,hi(s,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,d=s.alternate,d===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,e=d.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return vt(bt,bt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Pt()>Zr&&(t.flags|=128,r=!0,hi(s,!1),t.lanes=4194304)}else{if(!r)if(e=oa(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!xt)return Wt(t),null}else 2*Pt()-s.renderingStartTime>Zr&&n!==1073741824&&(t.flags|=128,r=!0,hi(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(n=s.last,n!==null?n.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Pt(),t.sibling=null,n=bt.current,vt(bt,r?n&1|2:n&1),t):(Wt(t),null);case 22:case 23:return qu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(on&1073741824)!==0&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function vm(e,t){switch(Au(t),t.tag){case 1:return nn(t.type)&&Xo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),St(tn),St(Vt),Nu(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ju(t),null;case 13:if(St(bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return St(bt),null;case 4:return Gr(),null;case 10:return Mu(t.type._context),null;case 22:case 23:return qu(),null;case 24:return null;default:return null}}var Co=!1,$t=!1,ym=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function Zs(e,t,n){try{n()}catch(r){At(e,t,r)}}var vc=!1;function km(e,t){if(Ls=Qo,e=Rf(),Cu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var d=0,S=-1,D=-1,Z=0,de=0,me=e,ae=null;t:for(;;){for(var be;me!==n||o!==0&&me.nodeType!==3||(S=d+o),me!==s||r!==0&&me.nodeType!==3||(D=d+r),me.nodeType===3&&(d+=me.nodeValue.length),(be=me.firstChild)!==null;)ae=me,me=be;for(;;){if(me===e)break t;if(ae===n&&++Z===o&&(S=d),ae===s&&++de===r&&(D=d),(be=me.nextSibling)!==null)break;me=ae,ae=me.parentNode}me=be}n=S===-1||D===-1?null:{start:S,end:D}}else n=null}n=n||{start:0,end:0}}else n=null;for(js={focusedElem:e,selectionRange:n},Qo=!1,Qe=t;Qe!==null;)if(t=Qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qe=e;else for(;Qe!==null;){t=Qe;try{var ke=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Pe=ke.memoizedProps,tt=ke.memoizedState,le=t.stateNode,J=le.getSnapshotBeforeUpdate(t.elementType===t.type?Pe:yn(t.type,Pe),tt);le.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var fe=t.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(xe){At(t,t.return,xe)}if(e=t.sibling,e!==null){e.return=t.return,Qe=e;break}Qe=t.return}return ke=vc,vc=!1,ke}function Ri(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Zs(t,n,s)}o=o.next}while(o!==r)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _p(e){var t=e.alternate;t!==null&&(e.alternate=null,_p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[Bi],delete t[zs],delete t[tm],delete t[nm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bp(e){return e.tag===5||e.tag===3||e.tag===4}function yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Go));else if(r!==4&&(e=e.child,e!==null))for(tu(e,t,n),e=e.sibling;e!==null;)tu(e,t,n),e=e.sibling}function nu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nu(e,t,n),e=e.sibling;e!==null;)nu(e,t,n),e=e.sibling}var zt=null,kn=!1;function Kn(e,t,n){for(n=n.child;n!==null;)Ip(e,t,n),n=n.sibling}function Ip(e,t,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(da,n)}catch{}switch(n.tag){case 5:$t||Br(n,t);case 6:var r=zt,o=kn;zt=null,Kn(e,t,n),zt=r,kn=o,zt!==null&&(kn?(e=zt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(kn?(e=zt,n=n.stateNode,e.nodeType===8?rs(e.parentNode,n):e.nodeType===1&&rs(e,n),Oi(e)):rs(zt,n.stateNode));break;case 4:r=zt,o=kn,zt=n.stateNode.containerInfo,kn=!0,Kn(e,t,n),zt=r,kn=o;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,d=s.destroy;s=s.tag,d!==void 0&&((s&2)!==0||(s&4)!==0)&&Zs(n,t,d),o=o.next}while(o!==r)}Kn(e,t,n);break;case 1:if(!$t&&(Br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(S){At(n,t,S)}Kn(e,t,n);break;case 21:Kn(e,t,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Kn(e,t,n),$t=r):Kn(e,t,n);break;default:Kn(e,t,n)}}function kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ym),t.forEach(function(r){var o=Em.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,d=t,S=d;e:for(;S!==null;){switch(S.tag){case 5:zt=S.stateNode,kn=!1;break e;case 3:zt=S.stateNode.containerInfo,kn=!0;break e;case 4:zt=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(zt===null)throw Error(Te(160));Ip(s,d,o),zt=null,kn=!1;var D=o.alternate;D!==null&&(D.return=null),o.return=null}catch(Z){At(o,t,Z)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rp(t,e),t=t.sibling}function Rp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),In(e),r&4){try{Ri(3,e,e.return),Sa(3,e)}catch(Pe){At(e,e.return,Pe)}try{Ri(5,e,e.return)}catch(Pe){At(e,e.return,Pe)}}break;case 1:vn(t,e),In(e),r&512&&n!==null&&Br(n,n.return);break;case 5:if(vn(t,e),In(e),r&512&&n!==null&&Br(n,n.return),e.flags&32){var o=e.stateNode;try{Di(o,"")}catch(Pe){At(e,e.return,Pe)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,d=n!==null?n.memoizedProps:s,S=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{S==="input"&&s.type==="radio"&&s.name!=null&&Vc(o,s),Rs(S,d);var Z=Rs(S,s);for(d=0;d<D.length;d+=2){var de=D[d],me=D[d+1];de==="style"?Gc(o,me):de==="dangerouslySetInnerHTML"?qc(o,me):de==="children"?Di(o,me):hu(o,de,me,Z)}switch(S){case"input":Ss(o,s);break;case"textarea":Jc(o,s);break;case"select":var ae=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var be=s.value;be!=null?Ur(o,!!s.multiple,be,!1):ae!==!!s.multiple&&(s.defaultValue!=null?Ur(o,!!s.multiple,s.defaultValue,!0):Ur(o,!!s.multiple,s.multiple?[]:"",!1))}o[Bi]=s}catch(Pe){At(e,e.return,Pe)}}break;case 6:if(vn(t,e),In(e),r&4){if(e.stateNode===null)throw Error(Te(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(Pe){At(e,e.return,Pe)}}break;case 3:if(vn(t,e),In(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oi(t.containerInfo)}catch(Pe){At(e,e.return,Pe)}break;case 4:vn(t,e),In(e);break;case 13:vn(t,e),In(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ju=Pt())),r&4&&kc(e);break;case 22:if(de=n!==null&&n.memoizedState!==null,e.mode&1?($t=(Z=$t)||de,vn(t,e),$t=Z):vn(t,e),In(e),r&8192){if(Z=e.memoizedState!==null,(e.stateNode.isHidden=Z)&&!de&&(e.mode&1)!==0)for(Qe=e,de=e.child;de!==null;){for(me=Qe=de;Qe!==null;){switch(ae=Qe,be=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ri(4,ae,ae.return);break;case 1:Br(ae,ae.return);var ke=ae.stateNode;if(typeof ke.componentWillUnmount=="function"){r=ae,n=ae.return;try{t=r,ke.props=t.memoizedProps,ke.state=t.memoizedState,ke.componentWillUnmount()}catch(Pe){At(r,n,Pe)}}break;case 5:Br(ae,ae.return);break;case 22:if(ae.memoizedState!==null){Sc(me);continue}}be!==null?(be.return=ae,Qe=be):Sc(me)}de=de.sibling}e:for(de=null,me=e;;){if(me.tag===5){if(de===null){de=me;try{o=me.stateNode,Z?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(S=me.stateNode,D=me.memoizedProps.style,d=D!=null&&D.hasOwnProperty("display")?D.display:null,S.style.display=Yc("display",d))}catch(Pe){At(e,e.return,Pe)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=Z?"":me.memoizedProps}catch(Pe){At(e,e.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===e)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===e)break e;for(;me.sibling===null;){if(me.return===null||me.return===e)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:vn(t,e),In(e),r&4&&kc(e);break;case 21:break;default:vn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bp(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Di(o,""),r.flags&=-33);var s=yc(e);nu(e,s,o);break;case 3:case 4:var d=r.stateNode.containerInfo,S=yc(e);tu(e,S,d);break;default:throw Error(Te(161))}}catch(D){At(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wm(e,t,n){Qe=e,Cp(e)}function Cp(e,t,n){for(var r=(e.mode&1)!==0;Qe!==null;){var o=Qe,s=o.child;if(o.tag===22&&r){var d=o.memoizedState!==null||Co;if(!d){var S=o.alternate,D=S!==null&&S.memoizedState!==null||$t;S=Co;var Z=$t;if(Co=d,($t=D)&&!Z)for(Qe=o;Qe!==null;)d=Qe,D=d.child,d.tag===22&&d.memoizedState!==null?xc(o):D!==null?(D.return=d,Qe=D):xc(o);for(;s!==null;)Qe=s,Cp(s),s=s.sibling;Qe=o,Co=S,$t=Z}wc(e)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,Qe=s):wc(e)}}function wc(e){for(;Qe!==null;){var t=Qe;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:$t||Sa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$t)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&rc(t,s,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rc(t,d,n)}break;case 5:var S=t.stateNode;if(n===null&&t.flags&4){n=S;var D=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&n.focus();break;case"img":D.src&&(n.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Z=t.alternate;if(Z!==null){var de=Z.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Oi(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}$t||t.flags&512&&eu(t)}catch(ae){At(t,t.return,ae)}}if(t===e){Qe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Qe=n;break}Qe=t.return}}function Sc(e){for(;Qe!==null;){var t=Qe;if(t===e){Qe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Qe=n;break}Qe=t.return}}function xc(e){for(;Qe!==null;){var t=Qe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sa(4,t)}catch(D){At(t,n,D)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(D){At(t,o,D)}}var s=t.return;try{eu(t)}catch(D){At(t,s,D)}break;case 5:var d=t.return;try{eu(t)}catch(D){At(t,d,D)}}}catch(D){At(t,t.return,D)}if(t===e){Qe=null;break}var S=t.sibling;if(S!==null){S.return=t.return,Qe=S;break}Qe=t.return}}var Sm=Math.ceil,ua=Hn.ReactCurrentDispatcher,$u=Hn.ReactCurrentOwner,hn=Hn.ReactCurrentBatchConfig,pt=0,Nt=null,Mt=null,Ut=0,on=0,zr=sr(0),Lt=0,$i=null,wr=0,xa=0,Vu=0,Ci=null,Zt=null,Ju=0,Zr=1/0,Mn=null,la=!1,ru=null,tr=null,Eo=!1,qn=null,ca=0,Ei=0,iu=null,Bo=-1,zo=0;function Qt(){return(pt&6)!==0?Pt():Bo!==-1?Bo:Bo=Pt()}function nr(e){return(e.mode&1)===0?1:(pt&2)!==0&&Ut!==0?Ut&-Ut:im.transition!==null?(zo===0&&(zo=cf()),zo):(e=ht,e!==0||(e=window.event,e=e===void 0?16:vf(e.type)),e)}function xn(e,t,n,r){if(50<Ei)throw Ei=0,iu=null,Error(Te(185));Qi(e,n,r),((pt&2)===0||e!==Nt)&&(e===Nt&&((pt&2)===0&&(xa|=n),Lt===4&&Jn(e,Ut)),rn(e,r),n===1&&pt===0&&(t.mode&1)===0&&(Zr=Pt()+500,ya&&ur()))}function rn(e,t){var n=e.callbackNode;ih(e,t);var r=Jo(e,e===Nt?Ut:0);if(r===0)n!==null&&Pl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pl(n),t===1)e.tag===0?rm(_c.bind(null,e)):Lf(_c.bind(null,e)),Zh(function(){(pt&6)===0&&ur()}),n=null;else{switch(ff(r)){case 1:n=ku;break;case 4:n=uf;break;case 16:n=Vo;break;case 536870912:n=lf;break;default:n=Vo}n=Tp(n,Ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ep(e,t){if(Bo=-1,zo=0,(pt&6)!==0)throw Error(Te(327));var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var r=Jo(e,e===Nt?Ut:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=fa(e,r);else{t=r;var o=pt;pt|=2;var s=Dp();(Nt!==e||Ut!==t)&&(Mn=null,Zr=Pt()+500,mr(e,t));do try{bm();break}catch(S){Ap(e,S)}while(1);Fu(),ua.current=s,pt=o,Mt!==null?t=0:(Nt=null,Ut=0,t=Lt)}if(t!==0){if(t===2&&(o=Ps(e),o!==0&&(r=o,t=ou(e,o))),t===1)throw n=$i,mr(e,0),Jn(e,r),rn(e,Pt()),n;if(t===6)Jn(e,r);else{if(o=e.current.alternate,(r&30)===0&&!xm(o)&&(t=fa(e,r),t===2&&(s=Ps(e),s!==0&&(r=s,t=ou(e,s))),t===1))throw n=$i,mr(e,0),Jn(e,r),rn(e,Pt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:fr(e,Zt,Mn);break;case 3:if(Jn(e,r),(r&130023424)===r&&(t=Ju+500-Pt(),10<t)){if(Jo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Qt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Bs(fr.bind(null,e,Zt,Mn),t);break}fr(e,Zt,Mn);break;case 4:if(Jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var d=31-Sn(r);s=1<<d,d=t[d],d>o&&(o=d),r&=~s}if(r=o,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sm(r/1960))-r,10<r){e.timeoutHandle=Bs(fr.bind(null,e,Zt,Mn),r);break}fr(e,Zt,Mn);break;case 5:fr(e,Zt,Mn);break;default:throw Error(Te(329))}}}return rn(e,Pt()),e.callbackNode===n?Ep.bind(null,e):null}function ou(e,t){var n=Ci;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=fa(e,t),e!==2&&(t=Zt,Zt=n,t!==null&&au(t)),e}function au(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function xm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!_n(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t){for(t&=~Vu,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Sn(t),r=1<<n;e[n]=-1,t&=~r}}function _c(e){if((pt&6)!==0)throw Error(Te(327));Vr();var t=Jo(e,0);if((t&1)===0)return rn(e,Pt()),null;var n=fa(e,t);if(e.tag!==0&&n===2){var r=Ps(e);r!==0&&(t=r,n=ou(e,r))}if(n===1)throw n=$i,mr(e,0),Jn(e,t),rn(e,Pt()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,Zt,Mn),rn(e,Pt()),null}function Qu(e,t){var n=pt;pt|=1;try{return e(t)}finally{pt=n,pt===0&&(Zr=Pt()+500,ya&&ur())}}function Sr(e){qn!==null&&qn.tag===0&&(pt&6)===0&&Vr();var t=pt;pt|=1;var n=hn.transition,r=ht;try{if(hn.transition=null,ht=1,e)return e()}finally{ht=r,hn.transition=n,pt=t,(pt&6)===0&&ur()}}function qu(){on=zr.current,St(zr)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xh(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(Au(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xo();break;case 3:Gr(),St(tn),St(Vt),Nu();break;case 5:ju(r);break;case 4:Gr();break;case 13:St(bt);break;case 19:St(bt);break;case 10:Mu(r.type._context);break;case 22:case 23:qu()}n=n.return}if(Nt=e,Mt=e=rr(e.current,null),Ut=on=t,Lt=0,$i=null,Vu=xa=wr=0,Zt=Ci=null,dr!==null){for(t=0;t<dr.length;t++)if(n=dr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var d=s.next;s.next=o,r.next=d}n.pending=r}dr=null}return e}function Ap(e,t){do{var n=Mt;try{if(Fu(),Lo.current=sa,aa){for(var r=It.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}aa=!1}if(kr=0,jt=Tt=It=null,Ii=!1,Hi=0,$u.current=null,n===null||n.return===null){Lt=1,$i=t,Mt=null;break}e:{var s=e,d=n.return,S=n,D=t;if(t=Ut,S.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=D,de=S,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var ae=de.alternate;ae?(de.updateQueue=ae.updateQueue,de.memoizedState=ae.memoizedState,de.lanes=ae.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=cc(d);if(be!==null){be.flags&=-257,fc(be,d,S,s,t),be.mode&1&&lc(s,Z,t),t=be,D=Z;var ke=t.updateQueue;if(ke===null){var Pe=new Set;Pe.add(D),t.updateQueue=Pe}else ke.add(D);break e}else{if((t&1)===0){lc(s,Z,t),Yu();break e}D=Error(Te(426))}}else if(xt&&S.mode&1){var tt=cc(d);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),fc(tt,d,S,s,t),Du(Xr(D,S));break e}}s=D=Xr(D,S),Lt!==4&&(Lt=2),Ci===null?Ci=[s]:Ci.push(s),s=d;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var le=pp(s,D,t);nc(s,le);break e;case 1:S=D;var J=s.type,fe=s.stateNode;if((s.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(tr===null||!tr.has(fe)))){s.flags|=65536,t&=-t,s.lanes|=t;var xe=dp(s,S,t);nc(s,xe);break e}}s=s.return}while(s!==null)}Fp(n)}catch(Be){t=Be,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(1)}function Dp(){var e=ua.current;return ua.current=sa,e===null?sa:e}function Yu(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Nt===null||(wr&268435455)===0&&(xa&268435455)===0||Jn(Nt,Ut)}function fa(e,t){var n=pt;pt|=2;var r=Dp();(Nt!==e||Ut!==t)&&(Mn=null,mr(e,t));do try{_m();break}catch(o){Ap(e,o)}while(1);if(Fu(),pt=n,ua.current=r,Mt!==null)throw Error(Te(261));return Nt=null,Ut=0,Lt}function _m(){for(;Mt!==null;)Pp(Mt)}function bm(){for(;Mt!==null&&!qd();)Pp(Mt)}function Pp(e){var t=Op(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?Fp(e):Mt=t,$u.current=null}function Fp(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=gm(n,t,on),n!==null){Mt=n;return}}else{if(n=vm(n,t),n!==null){n.flags&=32767,Mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,Mt=null;return}}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Lt===0&&(Lt=5)}function fr(e,t,n){var r=ht,o=hn.transition;try{hn.transition=null,ht=1,Im(e,t,n,r)}finally{hn.transition=o,ht=r}return null}function Im(e,t,n,r){do Vr();while(qn!==null);if((pt&6)!==0)throw Error(Te(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(oh(e,s),e===Nt&&(Mt=Nt=null,Ut=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Eo||(Eo=!0,Tp(Vo,function(){return Vr(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=hn.transition,hn.transition=null;var d=ht;ht=1;var S=pt;pt|=4,$u.current=null,km(e,n),Rp(n,e),$h(js),Qo=!!Ls,js=Ls=null,e.current=n,wm(n),Yd(),pt=S,ht=d,hn.transition=s}else e.current=n;if(Eo&&(Eo=!1,qn=e,ca=o),s=e.pendingLanes,s===0&&(tr=null),Zd(n.stateNode),rn(e,Pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(la)throw la=!1,e=ru,ru=null,e;return(ca&1)!==0&&e.tag!==0&&Vr(),s=e.pendingLanes,(s&1)!==0?e===iu?Ei++:(Ei=0,iu=e):Ei=0,ur(),null}function Vr(){if(qn!==null){var e=ff(ca),t=hn.transition,n=ht;try{if(hn.transition=null,ht=16>e?16:e,qn===null)var r=!1;else{if(e=qn,qn=null,ca=0,(pt&6)!==0)throw Error(Te(331));var o=pt;for(pt|=4,Qe=e.current;Qe!==null;){var s=Qe,d=s.child;if((Qe.flags&16)!==0){var S=s.deletions;if(S!==null){for(var D=0;D<S.length;D++){var Z=S[D];for(Qe=Z;Qe!==null;){var de=Qe;switch(de.tag){case 0:case 11:case 15:Ri(8,de,s)}var me=de.child;if(me!==null)me.return=de,Qe=me;else for(;Qe!==null;){de=Qe;var ae=de.sibling,be=de.return;if(_p(de),de===Z){Qe=null;break}if(ae!==null){ae.return=be,Qe=ae;break}Qe=be}}}var ke=s.alternate;if(ke!==null){var Pe=ke.child;if(Pe!==null){ke.child=null;do{var tt=Pe.sibling;Pe.sibling=null,Pe=tt}while(Pe!==null)}}Qe=s}}if((s.subtreeFlags&2064)!==0&&d!==null)d.return=s,Qe=d;else e:for(;Qe!==null;){if(s=Qe,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Ri(9,s,s.return)}var le=s.sibling;if(le!==null){le.return=s.return,Qe=le;break e}Qe=s.return}}var J=e.current;for(Qe=J;Qe!==null;){d=Qe;var fe=d.child;if((d.subtreeFlags&2064)!==0&&fe!==null)fe.return=d,Qe=fe;else e:for(d=J;Qe!==null;){if(S=Qe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Sa(9,S)}}catch(Be){At(S,S.return,Be)}if(S===d){Qe=null;break e}var xe=S.sibling;if(xe!==null){xe.return=S.return,Qe=xe;break e}Qe=S.return}}if(pt=o,ur(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(da,e)}catch{}r=!0}return r}finally{ht=n,hn.transition=t}}return!1}function bc(e,t,n){t=Xr(n,t),t=pp(e,t,1),e=er(e,t,1),t=Qt(),e!==null&&(Qi(e,1,t),rn(e,t))}function At(e,t,n){if(e.tag===3)bc(e,e,n);else for(;t!==null;){if(t.tag===3){bc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=Xr(n,e),e=dp(t,e,1),t=er(t,e,1),e=Qt(),t!==null&&(Qi(t,1,e),rn(t,e));break}}t=t.return}}function Rm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(Ut&n)===n&&(Lt===4||Lt===3&&(Ut&130023424)===Ut&&500>Pt()-Ju?mr(e,0):Vu|=n),rn(e,t)}function Mp(e,t){t===0&&((e.mode&1)===0?t=1:(t=yo,yo<<=1,(yo&130023424)===0&&(yo=4194304)));var n=Qt();e=zn(e,t),e!==null&&(Qi(e,t,n),rn(e,n))}function Cm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mp(e,n)}function Em(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),Mp(e,n)}var Op;Op=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)en=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return en=!1,mm(e,t,n);en=(e.flags&131072)!==0}else en=!1,xt&&(t.flags&1048576)!==0&&jf(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;No(e,t),e=t.pendingProps;var o=Qr(t,Vt.current);$r(t,n),o=zu(null,t,r,e,o,n);var s=Uu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(r)?(s=!0,Zo(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Tu(t),o.updater=ka,t.stateNode=o,o._reactInternals=t,Vs(t,r,e,n),t=qs(null,t,r,!0,s,n)):(t.tag=0,xt&&s&&Eu(t),Jt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(No(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Dm(r),e=yn(r,e),o){case 0:t=Qs(null,t,r,e,n);break e;case 1:t=hc(null,t,r,e,n);break e;case 11:t=pc(null,t,r,e,n);break e;case 14:t=dc(null,t,r,yn(r.type,e),n);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yn(r,o),Qs(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yn(r,o),hc(e,t,r,o,n);case 3:e:{if(vp(t),e===null)throw Error(Te(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Uf(e,t),ia(t,r,null,n);var d=t.memoizedState;if(r=d.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Xr(Error(Te(423)),t),t=mc(e,t,r,n,o);break e}else if(r!==o){o=Xr(Error(Te(424)),t),t=mc(e,t,r,n,o);break e}else for(an=Zn(t.stateNode.containerInfo.firstChild),sn=t,xt=!0,wn=null,n=$f(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qr(),r===o){t=Un(e,t,n);break e}Jt(e,t,r,n)}t=t.child}return t;case 5:return Vf(t),e===null&&Ks(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,d=o.children,Ns(r,o)?d=null:s!==null&&Ns(r,s)&&(t.flags|=32),gp(e,t),Jt(e,t,d,n),t.child;case 6:return e===null&&Ks(t),null;case 13:return yp(e,t,n);case 4:return Lu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yr(t,null,r,n):Jt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yn(r,o),pc(e,t,r,o,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,d=o.value,vt(na,r._currentValue),r._currentValue=d,s!==null)if(_n(s.value,d)){if(s.children===o.children&&!tn.current){t=Un(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var S=s.dependencies;if(S!==null){d=s.child;for(var D=S.firstContext;D!==null;){if(D.context===r){if(s.tag===1){D=jn(-1,n&-n),D.tag=2;var Z=s.updateQueue;if(Z!==null){Z=Z.shared;var de=Z.pending;de===null?D.next=D:(D.next=de.next,de.next=D),Z.pending=D}}s.lanes|=n,D=s.alternate,D!==null&&(D.lanes|=n),Ws(s.return,n,t),S.lanes|=n;break}D=D.next}}else if(s.tag===10)d=s.type===t.type?null:s.child;else if(s.tag===18){if(d=s.return,d===null)throw Error(Te(341));d.lanes|=n,S=d.alternate,S!==null&&(S.lanes|=n),Ws(d,n,t),d=s.sibling}else d=s.child;if(d!==null)d.return=s;else for(d=s;d!==null;){if(d===t){d=null;break}if(s=d.sibling,s!==null){s.return=d.return,d=s;break}d=d.return}s=d}Jt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,$r(t,n),o=mn(o),r=r(o),t.flags|=1,Jt(e,t,r,n),t.child;case 14:return r=t.type,o=yn(r,t.pendingProps),o=yn(r.type,o),dc(e,t,r,o,n);case 15:return hp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yn(r,o),No(e,t),t.tag=1,nn(r)?(e=!0,Zo(t)):e=!1,$r(t,n),Kf(t,r,o),Vs(t,r,o,n),qs(null,t,r,!0,e,n);case 19:return kp(e,t,n);case 22:return mp(e,t,n)}throw Error(Te(156,t.tag))};function Tp(e,t){return sf(e,t)}function Am(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,r){return new Am(e,t,n,r)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dm(e){if(typeof e=="function")return Gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gu)return 11;if(e===vu)return 14}return 2}function rr(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uo(e,t,n,r,o,s){var d=2;if(r=e,typeof e=="function")Gu(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Dr:return gr(n.children,o,s,t);case mu:d=8,o|=8;break;case gs:return e=dn(12,n,t,o|2),e.elementType=gs,e.lanes=s,e;case vs:return e=dn(13,n,t,o),e.elementType=vs,e.lanes=s,e;case ys:return e=dn(19,n,t,o),e.elementType=ys,e.lanes=s,e;case Kc:return _a(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uc:d=10;break e;case Hc:d=9;break e;case gu:d=11;break e;case vu:d=14;break e;case Wn:d=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=dn(d,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function gr(e,t,n,r){return e=dn(7,e,r,t),e.lanes=n,e}function _a(e,t,n,r){return e=dn(22,e,r,t),e.elementType=Kc,e.lanes=n,e.stateNode={isHidden:!1},e}function fs(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function ps(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pm(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Xu(e,t,n,r,o,s,d,S,D){return e=new Pm(e,t,n,S,D),t===1?(t=1,s===!0&&(t|=8)):t=0,s=dn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(s),e}function Fm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lp(e){if(!e)return or;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(nn(n))return Tf(e,n,t)}return t}function jp(e,t,n,r,o,s,d,S,D){return e=Xu(n,r,!0,e,o,s,d,S,D),e.context=Lp(null),n=e.current,r=Qt(),o=nr(n),s=jn(r,o),s.callback=t!=null?t:null,er(n,s,o),e.current.lanes=o,Qi(e,o,r),rn(e,r),e}function ba(e,t,n,r){var o=t.current,s=Qt(),d=nr(o);return n=Lp(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(s,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(o,t,d),e!==null&&(xn(e,o,d,s),To(e,o,d)),d}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ic(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zu(e,t){Ic(e,t),(e=e.alternate)&&Ic(e,t)}function Mm(){return null}var Np=typeof reportError=="function"?reportError:function(e){console.error(e)};function el(e){this._internalRoot=e}Ia.prototype.render=el.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));ba(e,t,null,null)};Ia.prototype.unmount=el.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){ba(null,e,null,null)}),t[Bn]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=hf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vn.length&&t!==0&&t<Vn[n].priority;n++);Vn.splice(n,0,e),n===0&&gf(e)}};function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rc(){}function Om(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var Z=pa(d);s.call(Z)}}var d=jp(t,r,e,0,null,!1,!1,"",Rc);return e._reactRootContainer=d,e[Bn]=d.current,ji(e.nodeType===8?e.parentNode:e),Sr(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var S=r;r=function(){var Z=pa(D);S.call(Z)}}var D=Xu(e,0,!1,null,null,!1,!1,"",Rc);return e._reactRootContainer=D,e[Bn]=D.current,ji(e.nodeType===8?e.parentNode:e),Sr(function(){ba(t,D,n,r)}),D}function Ca(e,t,n,r,o){var s=n._reactRootContainer;if(s){var d=s;if(typeof o=="function"){var S=o;o=function(){var D=pa(d);S.call(D)}}ba(t,d,e,o)}else d=Om(n,t,e,o,r);return pa(d)}pf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yi(t.pendingLanes);n!==0&&(wu(t,n|1),rn(t,Pt()),(pt&6)===0&&(Zr=Pt()+500,ur()))}break;case 13:Sr(function(){var r=zn(e,1);if(r!==null){var o=Qt();xn(r,e,1,o)}}),Zu(e,1)}};Su=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var n=Qt();xn(t,e,134217728,n)}Zu(e,134217728)}};df=function(e){if(e.tag===13){var t=nr(e),n=zn(e,t);if(n!==null){var r=Qt();xn(n,e,t,r)}Zu(e,t)}};hf=function(){return ht};mf=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};Es=function(e,t,n){switch(t){case"input":if(Ss(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=va(r);if(!o)throw Error(Te(90));$c(r),Ss(r,o)}}}break;case"textarea":Jc(e,n);break;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}};ef=Qu;tf=Sr;var Tm={usingClientEntryPoint:!1,Events:[Yi,Or,va,Xc,Zc,Qu]},mi={findFiberByHostInstance:pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Lm={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=of(e),e===null?null:e.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||Mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{da=Ao.inject(Lm),En=Ao}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tm;ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tl(t))throw Error(Te(200));return Fm(e,t,null,n)};ln.createRoot=function(e,t){if(!tl(e))throw Error(Te(299));var n=!1,r="",o=Np;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Xu(e,1,!1,null,null,n,!1,r,o),e[Bn]=t.current,ji(e.nodeType===8?e.parentNode:e),new el(t)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=of(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return Sr(e)};ln.hydrate=function(e,t,n){if(!Ra(t))throw Error(Te(200));return Ca(null,e,t,!0,n)};ln.hydrateRoot=function(e,t,n){if(!tl(e))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",d=Np;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=jp(t,null,e,1,n!=null?n:null,o,!1,s,d),e[Bn]=t.current,ji(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ia(t)};ln.render=function(e,t,n){if(!Ra(t))throw Error(Te(200));return Ca(null,e,t,!1,n)};ln.unmountComponentAtNode=function(e){if(!Ra(e))throw Error(Te(40));return e._reactRootContainer?(Sr(function(){Ca(null,null,e,!1,function(){e._reactRootContainer=null,e[Bn]=null})}),!0):!1};ln.unstable_batchedUpdates=Qu;ln.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ra(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return Ca(e,t,n,!1,r)};ln.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=ln})(Lc);var Cc=Lc.exports;hs.createRoot=Cc.createRoot,hs.hydrateRoot=Cc.hydrateRoot;var su={exports:{}},ds,Ec;function jm(){return Ec||(Ec=1,ds=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(r,o,s){n.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,o){if(1&o&&(r=n(r)),8&o||4&o&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&o&&typeof r!="string")for(var d in r)n.d(s,d,function(S){return r[S]}.bind(null,d));return s},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=5)}([function(e,t,n){(function(r){e.exports=function o(s,d,S){function D(me,ae){if(!d[me]){if(!s[me]){if(Z)return Z(me,!0);var be=new Error("Cannot find module '"+me+"'");throw be.code="MODULE_NOT_FOUND",be}var ke=d[me]={exports:{}};s[me][0].call(ke.exports,function(Pe){return D(s[me][1][Pe]||Pe)},ke,ke.exports,o,s,d,S)}return d[me].exports}for(var Z=!1,de=0;de<S.length;de++)D(S[de]);return D}({1:[function(o,s,d){(function(S){var D,Z,de,me,ae,be,ke=ke||function(c,v){var h={},y=h.lib={},U=function(){},R=y.Base={extend:function(i){U.prototype=this;var u=new U;return i&&u.mixIn(i),u.hasOwnProperty("init")||(u.init=function(){u.$super.init.apply(this,arguments)}),u.init.prototype=u,u.$super=this,u},create:function(){var i=this.extend();return i.init.apply(i,arguments),i},init:function(){},mixIn:function(i){for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);i.hasOwnProperty("toString")&&(this.toString=i.toString)},clone:function(){return this.init.prototype.extend(this)}},M=y.WordArray=R.extend({init:function(i,u){i=this.words=i||[],this.sigBytes=u!=null?u:4*i.length},toString:function(i){return(i||L).stringify(this)},concat:function(i){var u=this.words,f=i.words,l=this.sigBytes;if(i=i.sigBytes,this.clamp(),l%4)for(var p=0;p<i;p++)u[l+p>>>2]|=(f[p>>>2]>>>24-p%4*8&255)<<24-(l+p)%4*8;else if(65535<f.length)for(p=0;p<i;p+=4)u[l+p>>>2]=f[p>>>2];else u.push.apply(u,f);return this.sigBytes+=i,this},clamp:function(){var i=this.words,u=this.sigBytes;i[u>>>2]&=4294967295<<32-u%4*8,i.length=c.ceil(u/4)},clone:function(){var i=R.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var u=[],f=0;f<i;f+=4)u.push(4294967296*c.random()|0);return new M.init(u,i)}}),E=h.enc={},L=E.Hex={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++){var p=u[l>>>2]>>>24-l%4*8&255;f.push((p>>>4).toString(16)),f.push((15&p).toString(16))}return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l+=2)f[l>>>3]|=parseInt(i.substr(l,2),16)<<24-l%8*4;return new M.init(f,u/2)}},k=E.Latin1={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++)f.push(String.fromCharCode(u[l>>>2]>>>24-l%4*8&255));return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l++)f[l>>>2]|=(255&i.charCodeAt(l))<<24-l%4*8;return new M.init(f,u)}},N=E.Utf8={stringify:function(i){try{return decodeURIComponent(escape(k.stringify(i)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(i){return k.parse(unescape(encodeURIComponent(i)))}},I=y.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=N.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var u=this._data,f=u.words,l=u.sigBytes,p=this.blockSize,g=l/(4*p);if(i=(g=i?c.ceil(g):c.max((0|g)-this._minBufferSize,0))*p,l=c.min(4*i,l),i){for(var j=0;j<i;j+=p)this._doProcessBlock(f,j);j=f.splice(0,i),u.sigBytes-=l}return new M.init(j,l)},clone:function(){var i=R.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0});y.Hasher=I.extend({cfg:R.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){return i&&this._append(i),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(u,f){return new i.init(f).finalize(u)}},_createHmacHelper:function(i){return function(u,f){return new P.HMAC.init(i,f).finalize(u)}}});var P=h.algo={};return h}(Math);function Pe(c,v){return!v||xe(v)!=="object"&&typeof v!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(c):v}function tt(c){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(c)}function le(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(v&&v.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),v&&J(c,v)}function J(c,v){return(J=Object.setPrototypeOf||function(h,y){return h.__proto__=y,h})(c,v)}function fe(c,v){return function(h){if(Array.isArray(h))return h}(c)||function(h,y){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]"){var U=[],R=!0,M=!1,E=void 0;try{for(var L,k=h[Symbol.iterator]();!(R=(L=k.next()).done)&&(U.push(L.value),!y||U.length!==y);R=!0);}catch(N){M=!0,E=N}finally{try{R||k.return==null||k.return()}finally{if(M)throw E}}return U}}(c,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xe(c){return(xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(c)}function Be(c,v,h,y,U,R,M){try{var E=c[R](M),L=E.value}catch(k){return void h(k)}E.done?v(L):Promise.resolve(L).then(y,U)}function A(c){return function(){var v=this,h=arguments;return new Promise(function(y,U){var R=c.apply(v,h);function M(L){Be(R,y,U,M,E,"next",L)}function E(L){Be(R,y,U,M,E,"throw",L)}M(void 0)})}}function Fe(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}function He(c,v){for(var h=0;h<v.length;h++){var y=v[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}function ze(c,v,h){return v&&He(c.prototype,v),h&&He(c,h),c}Z=(D=ke).lib.WordArray,D.enc.Base64={stringify:function(c){var v=c.words,h=c.sigBytes,y=this._map;c.clamp(),c=[];for(var U=0;U<h;U+=3)for(var R=(v[U>>>2]>>>24-U%4*8&255)<<16|(v[U+1>>>2]>>>24-(U+1)%4*8&255)<<8|v[U+2>>>2]>>>24-(U+2)%4*8&255,M=0;4>M&&U+.75*M<h;M++)c.push(y.charAt(R>>>6*(3-M)&63));if(v=y.charAt(64))for(;c.length%4;)c.push(v);return c.join("")},parse:function(c){var v=c.length,h=this._map;(y=h.charAt(64))&&(y=c.indexOf(y))!=-1&&(v=y);for(var y=[],U=0,R=0;R<v;R++)if(R%4){var M=h.indexOf(c.charAt(R-1))<<R%4*2,E=h.indexOf(c.charAt(R))>>>6-R%4*2;y[U>>>2]|=(M|E)<<24-U%4*8,U++}return Z.create(y,U)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(c){function v(I,P,i,u,f,l,p){return((I=I+(P&i|~P&u)+f+p)<<l|I>>>32-l)+P}function h(I,P,i,u,f,l,p){return((I=I+(P&u|i&~u)+f+p)<<l|I>>>32-l)+P}function y(I,P,i,u,f,l,p){return((I=I+(P^i^u)+f+p)<<l|I>>>32-l)+P}function U(I,P,i,u,f,l,p){return((I=I+(i^(P|~u))+f+p)<<l|I>>>32-l)+P}for(var R=ke,M=(L=R.lib).WordArray,E=L.Hasher,L=R.algo,k=[],N=0;64>N;N++)k[N]=4294967296*c.abs(c.sin(N+1))|0;L=L.MD5=E.extend({_doReset:function(){this._hash=new M.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(I,P){for(var i=0;16>i;i++){var u=I[f=P+i];I[f]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}i=this._hash.words;var f=I[P+0],l=(u=I[P+1],I[P+2]),p=I[P+3],g=I[P+4],j=I[P+5],q=I[P+6],B=I[P+7],X=I[P+8],H=I[P+9],$=I[P+10],w=I[P+11],O=I[P+12],ee=I[P+13],pe=I[P+14],Se=I[P+15],oe=v(oe=i[0],ue=i[1],Q=i[2],Y=i[3],f,7,k[0]),Y=v(Y,oe,ue,Q,u,12,k[1]),Q=v(Q,Y,oe,ue,l,17,k[2]),ue=v(ue,Q,Y,oe,p,22,k[3]);oe=v(oe,ue,Q,Y,g,7,k[4]),Y=v(Y,oe,ue,Q,j,12,k[5]),Q=v(Q,Y,oe,ue,q,17,k[6]),ue=v(ue,Q,Y,oe,B,22,k[7]),oe=v(oe,ue,Q,Y,X,7,k[8]),Y=v(Y,oe,ue,Q,H,12,k[9]),Q=v(Q,Y,oe,ue,$,17,k[10]),ue=v(ue,Q,Y,oe,w,22,k[11]),oe=v(oe,ue,Q,Y,O,7,k[12]),Y=v(Y,oe,ue,Q,ee,12,k[13]),Q=v(Q,Y,oe,ue,pe,17,k[14]),oe=h(oe,ue=v(ue,Q,Y,oe,Se,22,k[15]),Q,Y,u,5,k[16]),Y=h(Y,oe,ue,Q,q,9,k[17]),Q=h(Q,Y,oe,ue,w,14,k[18]),ue=h(ue,Q,Y,oe,f,20,k[19]),oe=h(oe,ue,Q,Y,j,5,k[20]),Y=h(Y,oe,ue,Q,$,9,k[21]),Q=h(Q,Y,oe,ue,Se,14,k[22]),ue=h(ue,Q,Y,oe,g,20,k[23]),oe=h(oe,ue,Q,Y,H,5,k[24]),Y=h(Y,oe,ue,Q,pe,9,k[25]),Q=h(Q,Y,oe,ue,p,14,k[26]),ue=h(ue,Q,Y,oe,X,20,k[27]),oe=h(oe,ue,Q,Y,ee,5,k[28]),Y=h(Y,oe,ue,Q,l,9,k[29]),Q=h(Q,Y,oe,ue,B,14,k[30]),oe=y(oe,ue=h(ue,Q,Y,oe,O,20,k[31]),Q,Y,j,4,k[32]),Y=y(Y,oe,ue,Q,X,11,k[33]),Q=y(Q,Y,oe,ue,w,16,k[34]),ue=y(ue,Q,Y,oe,pe,23,k[35]),oe=y(oe,ue,Q,Y,u,4,k[36]),Y=y(Y,oe,ue,Q,g,11,k[37]),Q=y(Q,Y,oe,ue,B,16,k[38]),ue=y(ue,Q,Y,oe,$,23,k[39]),oe=y(oe,ue,Q,Y,ee,4,k[40]),Y=y(Y,oe,ue,Q,f,11,k[41]),Q=y(Q,Y,oe,ue,p,16,k[42]),ue=y(ue,Q,Y,oe,q,23,k[43]),oe=y(oe,ue,Q,Y,H,4,k[44]),Y=y(Y,oe,ue,Q,O,11,k[45]),Q=y(Q,Y,oe,ue,Se,16,k[46]),oe=U(oe,ue=y(ue,Q,Y,oe,l,23,k[47]),Q,Y,f,6,k[48]),Y=U(Y,oe,ue,Q,B,10,k[49]),Q=U(Q,Y,oe,ue,pe,15,k[50]),ue=U(ue,Q,Y,oe,j,21,k[51]),oe=U(oe,ue,Q,Y,O,6,k[52]),Y=U(Y,oe,ue,Q,p,10,k[53]),Q=U(Q,Y,oe,ue,$,15,k[54]),ue=U(ue,Q,Y,oe,u,21,k[55]),oe=U(oe,ue,Q,Y,X,6,k[56]),Y=U(Y,oe,ue,Q,Se,10,k[57]),Q=U(Q,Y,oe,ue,q,15,k[58]),ue=U(ue,Q,Y,oe,ee,21,k[59]),oe=U(oe,ue,Q,Y,g,6,k[60]),Y=U(Y,oe,ue,Q,w,10,k[61]),Q=U(Q,Y,oe,ue,l,15,k[62]),ue=U(ue,Q,Y,oe,H,21,k[63]),i[0]=i[0]+oe|0,i[1]=i[1]+ue|0,i[2]=i[2]+Q|0,i[3]=i[3]+Y|0},_doFinalize:function(){var I=this._data,P=I.words,i=8*this._nDataBytes,u=8*I.sigBytes;P[u>>>5]|=128<<24-u%32;var f=c.floor(i/4294967296);for(P[15+(u+64>>>9<<4)]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),P[14+(u+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),I.sigBytes=4*(P.length+1),this._process(),P=(I=this._hash).words,i=0;4>i;i++)u=P[i],P[i]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8);return I},clone:function(){var I=E.clone.call(this);return I._hash=this._hash.clone(),I}}),R.MD5=E._createHelper(L),R.HmacMD5=E._createHmacHelper(L)}(Math),function(){var c,v=ke,h=(c=v.lib).Base,y=c.WordArray,U=(c=v.algo).EvpKDF=h.extend({cfg:h.extend({keySize:4,hasher:c.MD5,iterations:1}),init:function(R){this.cfg=this.cfg.extend(R)},compute:function(R,M){for(var E=(I=this.cfg).hasher.create(),L=y.create(),k=L.words,N=I.keySize,I=I.iterations;k.length<N;){P&&E.update(P);var P=E.update(R).finalize(M);E.reset();for(var i=1;i<I;i++)P=E.finalize(P),E.reset();L.concat(P)}return L.sigBytes=4*N,L}});v.EvpKDF=function(R,M,E){return U.create(E).compute(R,M)}}(),ke.lib.Cipher||function(c){var v=(i=ke).lib,h=v.Base,y=v.WordArray,U=v.BufferedBlockAlgorithm,R=i.enc.Base64,M=i.algo.EvpKDF,E=v.Cipher=U.extend({cfg:h.extend(),createEncryptor:function(f,l){return this.create(this._ENC_XFORM_MODE,f,l)},createDecryptor:function(f,l){return this.create(this._DEC_XFORM_MODE,f,l)},init:function(f,l,p){this.cfg=this.cfg.extend(p),this._xformMode=f,this._key=l,this.reset()},reset:function(){U.reset.call(this),this._doReset()},process:function(f){return this._append(f),this._process()},finalize:function(f){return f&&this._append(f),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(f){return{encrypt:function(l,p,g){return(typeof p=="string"?u:P).encrypt(f,l,p,g)},decrypt:function(l,p,g){return(typeof p=="string"?u:P).decrypt(f,l,p,g)}}}});v.StreamCipher=E.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var L=i.mode={},k=function(f,l,p){var g=this._iv;g?this._iv=void 0:g=this._prevBlock;for(var j=0;j<p;j++)f[l+j]^=g[j]},N=(v.BlockCipherMode=h.extend({createEncryptor:function(f,l){return this.Encryptor.create(f,l)},createDecryptor:function(f,l){return this.Decryptor.create(f,l)},init:function(f,l){this._cipher=f,this._iv=l}})).extend();N.Encryptor=N.extend({processBlock:function(f,l){var p=this._cipher,g=p.blockSize;k.call(this,f,l,g),p.encryptBlock(f,l),this._prevBlock=f.slice(l,l+g)}}),N.Decryptor=N.extend({processBlock:function(f,l){var p=this._cipher,g=p.blockSize,j=f.slice(l,l+g);p.decryptBlock(f,l),k.call(this,f,l,g),this._prevBlock=j}}),L=L.CBC=N,N=(i.pad={}).Pkcs7={pad:function(f,l){for(var p,g=(p=(p=4*l)-f.sigBytes%p)<<24|p<<16|p<<8|p,j=[],q=0;q<p;q+=4)j.push(g);p=y.create(j,p),f.concat(p)},unpad:function(f){f.sigBytes-=255&f.words[f.sigBytes-1>>>2]}},v.BlockCipher=E.extend({cfg:E.cfg.extend({mode:L,padding:N}),reset:function(){E.reset.call(this);var f=(l=this.cfg).iv,l=l.mode;if(this._xformMode==this._ENC_XFORM_MODE)var p=l.createEncryptor;else p=l.createDecryptor,this._minBufferSize=1;this._mode=p.call(l,this,f&&f.words)},_doProcessBlock:function(f,l){this._mode.processBlock(f,l)},_doFinalize:function(){var f=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){f.pad(this._data,this.blockSize);var l=this._process(!0)}else l=this._process(!0),f.unpad(l);return l},blockSize:4});var I=v.CipherParams=h.extend({init:function(f){this.mixIn(f)},toString:function(f){return(f||this.formatter).stringify(this)}}),P=(L=(i.format={}).OpenSSL={stringify:function(f){var l=f.ciphertext;return((f=f.salt)?y.create([1398893684,1701076831]).concat(f).concat(l):l).toString(R)},parse:function(f){var l=(f=R.parse(f)).words;if(l[0]==1398893684&&l[1]==1701076831){var p=y.create(l.slice(2,4));l.splice(0,4),f.sigBytes-=16}return I.create({ciphertext:f,salt:p})}},v.SerializableCipher=h.extend({cfg:h.extend({format:L}),encrypt:function(f,l,p,g){g=this.cfg.extend(g);var j=f.createEncryptor(p,g);return l=j.finalize(l),j=j.cfg,I.create({ciphertext:l,key:p,iv:j.iv,algorithm:f,mode:j.mode,padding:j.padding,blockSize:f.blockSize,formatter:g.format})},decrypt:function(f,l,p,g){return g=this.cfg.extend(g),l=this._parse(l,g.format),f.createDecryptor(p,g).finalize(l.ciphertext)},_parse:function(f,l){return typeof f=="string"?l.parse(f,this):f}})),i=(i.kdf={}).OpenSSL={execute:function(f,l,p,g){return g||(g=y.random(8)),f=M.create({keySize:l+p}).compute(f,g),p=y.create(f.words.slice(l),4*p),f.sigBytes=4*l,I.create({key:f,iv:p,salt:g})}},u=v.PasswordBasedCipher=P.extend({cfg:P.cfg.extend({kdf:i}),encrypt:function(f,l,p,g){return p=(g=this.cfg.extend(g)).kdf.execute(p,f.keySize,f.ivSize),g.iv=p.iv,(f=P.encrypt.call(this,f,l,p.key,g)).mixIn(p),f},decrypt:function(f,l,p,g){return g=this.cfg.extend(g),l=this._parse(l,g.format),p=g.kdf.execute(p,f.keySize,f.ivSize,l.salt),g.iv=p.iv,P.decrypt.call(this,f,l,p.key,g)}})}(),function(){for(var c=ke,v=c.lib.BlockCipher,h=c.algo,y=[],U=[],R=[],M=[],E=[],L=[],k=[],N=[],I=[],P=[],i=[],u=0;256>u;u++)i[u]=128>u?u<<1:u<<1^283;var f=0,l=0;for(u=0;256>u;u++){var p=(p=l^l<<1^l<<2^l<<3^l<<4)>>>8^255&p^99;y[f]=p,U[p]=f;var g=i[f],j=i[g],q=i[j],B=257*i[p]^16843008*p;R[f]=B<<24|B>>>8,M[f]=B<<16|B>>>16,E[f]=B<<8|B>>>24,L[f]=B,B=16843009*q^65537*j^257*g^16843008*f,k[p]=B<<24|B>>>8,N[p]=B<<16|B>>>16,I[p]=B<<8|B>>>24,P[p]=B,f?(f=g^i[i[i[q^g]]],l^=i[i[l]]):f=l=1}var X=[0,1,2,4,8,16,32,64,128,27,54];h=h.AES=v.extend({_doReset:function(){for(var H=(w=this._key).words,$=w.sigBytes/4,w=4*((this._nRounds=$+6)+1),O=this._keySchedule=[],ee=0;ee<w;ee++)if(ee<$)O[ee]=H[ee];else{var pe=O[ee-1];ee%$?6<$&&ee%$==4&&(pe=y[pe>>>24]<<24|y[pe>>>16&255]<<16|y[pe>>>8&255]<<8|y[255&pe]):(pe=y[(pe=pe<<8|pe>>>24)>>>24]<<24|y[pe>>>16&255]<<16|y[pe>>>8&255]<<8|y[255&pe],pe^=X[ee/$|0]<<24),O[ee]=O[ee-$]^pe}for(H=this._invKeySchedule=[],$=0;$<w;$++)ee=w-$,pe=$%4?O[ee]:O[ee-4],H[$]=4>$||4>=ee?pe:k[y[pe>>>24]]^N[y[pe>>>16&255]]^I[y[pe>>>8&255]]^P[y[255&pe]]},encryptBlock:function(H,$){this._doCryptBlock(H,$,this._keySchedule,R,M,E,L,y)},decryptBlock:function(H,$){var w=H[$+1];H[$+1]=H[$+3],H[$+3]=w,this._doCryptBlock(H,$,this._invKeySchedule,k,N,I,P,U),w=H[$+1],H[$+1]=H[$+3],H[$+3]=w},_doCryptBlock:function(H,$,w,O,ee,pe,Se,oe){for(var Y=this._nRounds,Q=H[$]^w[0],ue=H[$+1]^w[1],je=H[$+2]^w[2],De=H[$+3]^w[3],Re=4,Oe=1;Oe<Y;Oe++){var ye=O[Q>>>24]^ee[ue>>>16&255]^pe[je>>>8&255]^Se[255&De]^w[Re++],$e=O[ue>>>24]^ee[je>>>16&255]^pe[De>>>8&255]^Se[255&Q]^w[Re++],et=O[je>>>24]^ee[De>>>16&255]^pe[Q>>>8&255]^Se[255&ue]^w[Re++];De=O[De>>>24]^ee[Q>>>16&255]^pe[ue>>>8&255]^Se[255&je]^w[Re++],Q=ye,ue=$e,je=et}ye=(oe[Q>>>24]<<24|oe[ue>>>16&255]<<16|oe[je>>>8&255]<<8|oe[255&De])^w[Re++],$e=(oe[ue>>>24]<<24|oe[je>>>16&255]<<16|oe[De>>>8&255]<<8|oe[255&Q])^w[Re++],et=(oe[je>>>24]<<24|oe[De>>>16&255]<<16|oe[Q>>>8&255]<<8|oe[255&ue])^w[Re++],De=(oe[De>>>24]<<24|oe[Q>>>16&255]<<16|oe[ue>>>8&255]<<8|oe[255&je])^w[Re++],H[$]=ye,H[$+1]=$e,H[$+2]=et,H[$+3]=De},keySize:8}),c.AES=v._createHelper(h)}(),ke=ke||function(c,v){var h={},y=h.lib={},U=function(){},R=y.Base={extend:function(i){U.prototype=this;var u=new U;return i&&u.mixIn(i),u.hasOwnProperty("init")||(u.init=function(){u.$super.init.apply(this,arguments)}),u.init.prototype=u,u.$super=this,u},create:function(){var i=this.extend();return i.init.apply(i,arguments),i},init:function(){},mixIn:function(i){for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);i.hasOwnProperty("toString")&&(this.toString=i.toString)},clone:function(){return this.init.prototype.extend(this)}},M=y.WordArray=R.extend({init:function(i,u){i=this.words=i||[],this.sigBytes=u!=null?u:4*i.length},toString:function(i){return(i||L).stringify(this)},concat:function(i){var u=this.words,f=i.words,l=this.sigBytes;if(i=i.sigBytes,this.clamp(),l%4)for(var p=0;p<i;p++)u[l+p>>>2]|=(f[p>>>2]>>>24-p%4*8&255)<<24-(l+p)%4*8;else if(65535<f.length)for(p=0;p<i;p+=4)u[l+p>>>2]=f[p>>>2];else u.push.apply(u,f);return this.sigBytes+=i,this},clamp:function(){var i=this.words,u=this.sigBytes;i[u>>>2]&=4294967295<<32-u%4*8,i.length=c.ceil(u/4)},clone:function(){var i=R.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var u=[],f=0;f<i;f+=4)u.push(4294967296*c.random()|0);return new M.init(u,i)}}),E=h.enc={},L=E.Hex={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++){var p=u[l>>>2]>>>24-l%4*8&255;f.push((p>>>4).toString(16)),f.push((15&p).toString(16))}return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l+=2)f[l>>>3]|=parseInt(i.substr(l,2),16)<<24-l%8*4;return new M.init(f,u/2)}},k=E.Latin1={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++)f.push(String.fromCharCode(u[l>>>2]>>>24-l%4*8&255));return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l++)f[l>>>2]|=(255&i.charCodeAt(l))<<24-l%4*8;return new M.init(f,u)}},N=E.Utf8={stringify:function(i){try{return decodeURIComponent(escape(k.stringify(i)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(i){return k.parse(unescape(encodeURIComponent(i)))}},I=y.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=N.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var u=this._data,f=u.words,l=u.sigBytes,p=this.blockSize,g=l/(4*p);if(i=(g=i?c.ceil(g):c.max((0|g)-this._minBufferSize,0))*p,l=c.min(4*i,l),i){for(var j=0;j<i;j+=p)this._doProcessBlock(f,j);j=f.splice(0,i),u.sigBytes-=l}return new M.init(j,l)},clone:function(){var i=R.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0});y.Hasher=I.extend({cfg:R.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){return i&&this._append(i),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(u,f){return new i.init(f).finalize(u)}},_createHmacHelper:function(i){return function(u,f){return new P.HMAC.init(i,f).finalize(u)}}});var P=h.algo={};return h}(Math),function(c){for(var v=ke,h=(U=v.lib).WordArray,y=U.Hasher,U=v.algo,R=[],M=[],E=function(u){return 4294967296*(u-(0|u))|0},L=2,k=0;64>k;){var N;e:{N=L;for(var I=c.sqrt(N),P=2;P<=I;P++)if(!(N%P)){N=!1;break e}N=!0}N&&(8>k&&(R[k]=E(c.pow(L,.5))),M[k]=E(c.pow(L,1/3)),k++),L++}var i=[];U=U.SHA256=y.extend({_doReset:function(){this._hash=new h.init(R.slice(0))},_doProcessBlock:function(u,f){for(var l=this._hash.words,p=l[0],g=l[1],j=l[2],q=l[3],B=l[4],X=l[5],H=l[6],$=l[7],w=0;64>w;w++){if(16>w)i[w]=0|u[f+w];else{var O=i[w-15],ee=i[w-2];i[w]=((O<<25|O>>>7)^(O<<14|O>>>18)^O>>>3)+i[w-7]+((ee<<15|ee>>>17)^(ee<<13|ee>>>19)^ee>>>10)+i[w-16]}O=$+((B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25))+(B&X^~B&H)+M[w]+i[w],ee=((p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22))+(p&g^p&j^g&j),$=H,H=X,X=B,B=q+O|0,q=j,j=g,g=p,p=O+ee|0}l[0]=l[0]+p|0,l[1]=l[1]+g|0,l[2]=l[2]+j|0,l[3]=l[3]+q|0,l[4]=l[4]+B|0,l[5]=l[5]+X|0,l[6]=l[6]+H|0,l[7]=l[7]+$|0},_doFinalize:function(){var u=this._data,f=u.words,l=8*this._nDataBytes,p=8*u.sigBytes;return f[p>>>5]|=128<<24-p%32,f[14+(p+64>>>9<<4)]=c.floor(l/4294967296),f[15+(p+64>>>9<<4)]=l,u.sigBytes=4*f.length,this._process(),this._hash},clone:function(){var u=y.clone.call(this);return u._hash=this._hash.clone(),u}}),v.SHA256=y._createHelper(U),v.HmacSHA256=y._createHmacHelper(U)}(Math),me=(de=ke).enc.Utf8,de.algo.HMAC=de.lib.Base.extend({init:function(c,v){c=this._hasher=new c.init,typeof v=="string"&&(v=me.parse(v));var h=c.blockSize,y=4*h;v.sigBytes>y&&(v=c.finalize(v)),v.clamp();for(var U=this._oKey=v.clone(),R=this._iKey=v.clone(),M=U.words,E=R.words,L=0;L<h;L++)M[L]^=1549556828,E[L]^=909522486;U.sigBytes=R.sigBytes=y,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var v=this._hasher;return c=v.finalize(c),v.reset(),v.finalize(this._oKey.clone().concat(c))}}),ke=ke||function(c,v){var h={},y=h.lib={},U=function(){},R=y.Base={extend:function(i){U.prototype=this;var u=new U;return i&&u.mixIn(i),u.hasOwnProperty("init")||(u.init=function(){u.$super.init.apply(this,arguments)}),u.init.prototype=u,u.$super=this,u},create:function(){var i=this.extend();return i.init.apply(i,arguments),i},init:function(){},mixIn:function(i){for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);i.hasOwnProperty("toString")&&(this.toString=i.toString)},clone:function(){return this.init.prototype.extend(this)}},M=y.WordArray=R.extend({init:function(i,u){i=this.words=i||[],this.sigBytes=u!=null?u:4*i.length},toString:function(i){return(i||L).stringify(this)},concat:function(i){var u=this.words,f=i.words,l=this.sigBytes;if(i=i.sigBytes,this.clamp(),l%4)for(var p=0;p<i;p++)u[l+p>>>2]|=(f[p>>>2]>>>24-p%4*8&255)<<24-(l+p)%4*8;else if(65535<f.length)for(p=0;p<i;p+=4)u[l+p>>>2]=f[p>>>2];else u.push.apply(u,f);return this.sigBytes+=i,this},clamp:function(){var i=this.words,u=this.sigBytes;i[u>>>2]&=4294967295<<32-u%4*8,i.length=c.ceil(u/4)},clone:function(){var i=R.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var u=[],f=0;f<i;f+=4)u.push(4294967296*c.random()|0);return new M.init(u,i)}}),E=h.enc={},L=E.Hex={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++){var p=u[l>>>2]>>>24-l%4*8&255;f.push((p>>>4).toString(16)),f.push((15&p).toString(16))}return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l+=2)f[l>>>3]|=parseInt(i.substr(l,2),16)<<24-l%8*4;return new M.init(f,u/2)}},k=E.Latin1={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++)f.push(String.fromCharCode(u[l>>>2]>>>24-l%4*8&255));return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l++)f[l>>>2]|=(255&i.charCodeAt(l))<<24-l%4*8;return new M.init(f,u)}},N=E.Utf8={stringify:function(i){try{return decodeURIComponent(escape(k.stringify(i)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(i){return k.parse(unescape(encodeURIComponent(i)))}},I=y.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=N.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var u=this._data,f=u.words,l=u.sigBytes,p=this.blockSize,g=l/(4*p);if(i=(g=i?c.ceil(g):c.max((0|g)-this._minBufferSize,0))*p,l=c.min(4*i,l),i){for(var j=0;j<i;j+=p)this._doProcessBlock(f,j);j=f.splice(0,i),u.sigBytes-=l}return new M.init(j,l)},clone:function(){var i=R.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0});y.Hasher=I.extend({cfg:R.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){return i&&this._append(i),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(u,f){return new i.init(f).finalize(u)}},_createHmacHelper:function(i){return function(u,f){return new P.HMAC.init(i,f).finalize(u)}}});var P=h.algo={};return h}(Math),function(c){var v,h=(v=ke).lib,y=h.Base,U=h.WordArray;(v=v.x64={}).Word=y.extend({init:function(R,M){this.high=R,this.low=M}}),v.WordArray=y.extend({init:function(R,M){R=this.words=R||[],this.sigBytes=M!=null?M:8*R.length},toX32:function(){for(var R=this.words,M=R.length,E=[],L=0;L<M;L++){var k=R[L];E.push(k.high),E.push(k.low)}return U.create(E,this.sigBytes)},clone:function(){for(var R=y.clone.call(this),M=R.words=this.words.slice(0),E=M.length,L=0;L<E;L++)M[L]=M[L].clone();return R}})}(),function(){function c(){return y.create.apply(y,arguments)}for(var v=ke,h=v.lib.Hasher,y=(R=v.x64).Word,U=R.WordArray,R=v.algo,M=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],E=[],L=0;80>L;L++)E[L]=c();R=R.SHA512=h.extend({_doReset:function(){this._hash=new U.init([new y.init(1779033703,4089235720),new y.init(3144134277,2227873595),new y.init(1013904242,4271175723),new y.init(2773480762,1595750129),new y.init(1359893119,2917565137),new y.init(2600822924,725511199),new y.init(528734635,4215389547),new y.init(1541459225,327033209)])},_doProcessBlock:function(k,N){for(var I=(g=this._hash.words)[0],P=g[1],i=g[2],u=g[3],f=g[4],l=g[5],p=g[6],g=g[7],j=I.high,q=I.low,B=P.high,X=P.low,H=i.high,$=i.low,w=u.high,O=u.low,ee=f.high,pe=f.low,Se=l.high,oe=l.low,Y=p.high,Q=p.low,ue=g.high,je=g.low,De=j,Re=q,Oe=B,ye=X,$e=H,et=$,ct=w,Le=O,Ge=ee,st=pe,qe=Se,rt=oe,Ne=Y,it=Q,yt=ue,Ot=je,Dt=0;80>Dt;Dt++){var Ft=E[Dt];if(16>Dt)var Je=Ft.high=0|k[N+2*Dt],Me=Ft.low=0|k[N+2*Dt+1];else{Je=((Me=(Je=E[Dt-15]).high)>>>1|(Ct=Je.low)<<31)^(Me>>>8|Ct<<24)^Me>>>7;var Ct=(Ct>>>1|Me<<31)^(Ct>>>8|Me<<24)^(Ct>>>7|Me<<25),Gt=((Me=(Gt=E[Dt-2]).high)>>>19|(Ue=Gt.low)<<13)^(Me<<3|Ue>>>29)^Me>>>6,Ue=(Ue>>>19|Me<<13)^(Ue<<3|Me>>>29)^(Ue>>>6|Me<<26),ii=(Me=E[Dt-7]).high,Dn=(Pn=E[Dt-16]).high,Pn=Pn.low;Je=(Je=(Je=Je+ii+((Me=Ct+Me.low)>>>0<Ct>>>0?1:0))+Gt+((Me+=Ue)>>>0<Ue>>>0?1:0))+Dn+((Me+=Pn)>>>0<Pn>>>0?1:0),Ft.high=Je,Ft.low=Me}ii=Ge&qe^~Ge&Ne,Pn=st&rt^~st&it,Ft=De&Oe^De&$e^Oe&$e;var Aa=Re&ye^Re&et^ye&et,Da=(Ct=(De>>>28|Re<<4)^(De<<30|Re>>>2)^(De<<25|Re>>>7),Gt=(Re>>>28|De<<4)^(Re<<30|De>>>2)^(Re<<25|De>>>7),(Ue=M[Dt]).high),Xi=Ue.low;Dn=yt+((Ge>>>14|st<<18)^(Ge>>>18|st<<14)^(Ge<<23|st>>>9))+((Ue=Ot+((st>>>14|Ge<<18)^(st>>>18|Ge<<14)^(st<<23|Ge>>>9)))>>>0<Ot>>>0?1:0),yt=Ne,Ot=it,Ne=qe,it=rt,qe=Ge,rt=st,Ge=ct+(Dn=(Dn=(Dn=Dn+ii+((Ue+=Pn)>>>0<Pn>>>0?1:0))+Da+((Ue+=Xi)>>>0<Xi>>>0?1:0))+Je+((Ue+=Me)>>>0<Me>>>0?1:0))+((st=Le+Ue|0)>>>0<Le>>>0?1:0)|0,ct=$e,Le=et,$e=Oe,et=ye,Oe=De,ye=Re,De=Dn+(Ft=Ct+Ft+((Me=Gt+Aa)>>>0<Gt>>>0?1:0))+((Re=Ue+Me|0)>>>0<Ue>>>0?1:0)|0}q=I.low=q+Re,I.high=j+De+(q>>>0<Re>>>0?1:0),X=P.low=X+ye,P.high=B+Oe+(X>>>0<ye>>>0?1:0),$=i.low=$+et,i.high=H+$e+($>>>0<et>>>0?1:0),O=u.low=O+Le,u.high=w+ct+(O>>>0<Le>>>0?1:0),pe=f.low=pe+st,f.high=ee+Ge+(pe>>>0<st>>>0?1:0),oe=l.low=oe+rt,l.high=Se+qe+(oe>>>0<rt>>>0?1:0),Q=p.low=Q+it,p.high=Y+Ne+(Q>>>0<it>>>0?1:0),je=g.low=je+Ot,g.high=ue+yt+(je>>>0<Ot>>>0?1:0)},_doFinalize:function(){var k=this._data,N=k.words,I=8*this._nDataBytes,P=8*k.sigBytes;return N[P>>>5]|=128<<24-P%32,N[30+(P+128>>>10<<5)]=Math.floor(I/4294967296),N[31+(P+128>>>10<<5)]=I,k.sigBytes=4*N.length,this._process(),this._hash.toX32()},clone:function(){var k=h.clone.call(this);return k._hash=this._hash.clone(),k},blockSize:32}),v.SHA512=h._createHelper(R),v.HmacSHA512=h._createHmacHelper(R)}(),be=(ae=ke).enc.Utf8,ae.algo.HMAC=ae.lib.Base.extend({init:function(c,v){c=this._hasher=new c.init,typeof v=="string"&&(v=be.parse(v));var h=c.blockSize,y=4*h;v.sigBytes>y&&(v=c.finalize(v)),v.clamp();for(var U=this._oKey=v.clone(),R=this._iKey=v.clone(),M=U.words,E=R.words,L=0;L<h;L++)M[L]^=1549556828,E[L]^=909522486;U.sigBytes=R.sigBytes=y,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var v=this._hasher;return c=v.finalize(c),v.reset(),v.finalize(this._oKey.clone().concat(c))}}),ke=ke||function(c,v){var h={},y=h.lib={},U=function(){},R=y.Base={extend:function(i){U.prototype=this;var u=new U;return i&&u.mixIn(i),u.hasOwnProperty("init")||(u.init=function(){u.$super.init.apply(this,arguments)}),u.init.prototype=u,u.$super=this,u},create:function(){var i=this.extend();return i.init.apply(i,arguments),i},init:function(){},mixIn:function(i){for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);i.hasOwnProperty("toString")&&(this.toString=i.toString)},clone:function(){return this.init.prototype.extend(this)}},M=y.WordArray=R.extend({init:function(i,u){i=this.words=i||[],this.sigBytes=u!=null?u:4*i.length},toString:function(i){return(i||L).stringify(this)},concat:function(i){var u=this.words,f=i.words,l=this.sigBytes;if(i=i.sigBytes,this.clamp(),l%4)for(var p=0;p<i;p++)u[l+p>>>2]|=(f[p>>>2]>>>24-p%4*8&255)<<24-(l+p)%4*8;else if(65535<f.length)for(p=0;p<i;p+=4)u[l+p>>>2]=f[p>>>2];else u.push.apply(u,f);return this.sigBytes+=i,this},clamp:function(){var i=this.words,u=this.sigBytes;i[u>>>2]&=4294967295<<32-u%4*8,i.length=c.ceil(u/4)},clone:function(){var i=R.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var u=[],f=0;f<i;f+=4)u.push(4294967296*c.random()|0);return new M.init(u,i)}}),E=h.enc={},L=E.Hex={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++){var p=u[l>>>2]>>>24-l%4*8&255;f.push((p>>>4).toString(16)),f.push((15&p).toString(16))}return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l+=2)f[l>>>3]|=parseInt(i.substr(l,2),16)<<24-l%8*4;return new M.init(f,u/2)}},k=E.Latin1={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++)f.push(String.fromCharCode(u[l>>>2]>>>24-l%4*8&255));return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l++)f[l>>>2]|=(255&i.charCodeAt(l))<<24-l%4*8;return new M.init(f,u)}},N=E.Utf8={stringify:function(i){try{return decodeURIComponent(escape(k.stringify(i)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(i){return k.parse(unescape(encodeURIComponent(i)))}},I=y.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=N.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var u=this._data,f=u.words,l=u.sigBytes,p=this.blockSize,g=l/(4*p);if(i=(g=i?c.ceil(g):c.max((0|g)-this._minBufferSize,0))*p,l=c.min(4*i,l),i){for(var j=0;j<i;j+=p)this._doProcessBlock(f,j);j=f.splice(0,i),u.sigBytes-=l}return new M.init(j,l)},clone:function(){var i=R.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0});y.Hasher=I.extend({cfg:R.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){return i&&this._append(i),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(u,f){return new i.init(f).finalize(u)}},_createHmacHelper:function(i){return function(u,f){return new P.HMAC.init(i,f).finalize(u)}}});var P=h.algo={};return h}(Math),function(){var c=ke,v=(U=c.lib).WordArray,h=U.Hasher,y=[],U=c.algo.SHA1=h.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(R,M){for(var E=this._hash.words,L=E[0],k=E[1],N=E[2],I=E[3],P=E[4],i=0;80>i;i++){if(16>i)y[i]=0|R[M+i];else{var u=y[i-3]^y[i-8]^y[i-14]^y[i-16];y[i]=u<<1|u>>>31}u=(L<<5|L>>>27)+P+y[i],u=20>i?u+(1518500249+(k&N|~k&I)):40>i?u+(1859775393+(k^N^I)):60>i?u+((k&N|k&I|N&I)-1894007588):u+((k^N^I)-899497514),P=I,I=N,N=k<<30|k>>>2,k=L,L=u}E[0]=E[0]+L|0,E[1]=E[1]+k|0,E[2]=E[2]+N|0,E[3]=E[3]+I|0,E[4]=E[4]+P|0},_doFinalize:function(){var R=this._data,M=R.words,E=8*this._nDataBytes,L=8*R.sigBytes;return M[L>>>5]|=128<<24-L%32,M[14+(L+64>>>9<<4)]=Math.floor(E/4294967296),M[15+(L+64>>>9<<4)]=E,R.sigBytes=4*M.length,this._process(),this._hash},clone:function(){var R=h.clone.call(this);return R._hash=this._hash.clone(),R}});c.SHA1=h._createHelper(U),c.HmacSHA1=h._createHmacHelper(U)}(),function(){var c=ke,v=c.enc.Utf8;c.algo.HMAC=c.lib.Base.extend({init:function(h,y){h=this._hasher=new h.init,typeof y=="string"&&(y=v.parse(y));var U=h.blockSize,R=4*U;y.sigBytes>R&&(y=h.finalize(y)),y.clamp();for(var M=this._oKey=y.clone(),E=this._iKey=y.clone(),L=M.words,k=E.words,N=0;N<U;N++)L[N]^=1549556828,k[N]^=909522486;M.sigBytes=E.sigBytes=R,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var y=this._hasher;return h=y.finalize(h),y.reset(),y.finalize(this._oKey.clone().concat(h))}})}(),function(){var c,v=ke,h=(c=v.lib).Base,y=c.WordArray,U=(c=v.algo).HMAC,R=c.PBKDF2=h.extend({cfg:h.extend({keySize:4,hasher:c.SHA1,iterations:1}),init:function(M){this.cfg=this.cfg.extend(M)},compute:function(M,E){var L=this.cfg,k=U.create(L.hasher,M),N=y.create(),I=y.create([1]),P=N.words,i=I.words,u=L.keySize;for(L=L.iterations;P.length<u;){var f=k.update(E).finalize(I);k.reset();for(var l=f.words,p=l.length,g=f,j=1;j<L;j++){g=k.finalize(g),k.reset();for(var q=g.words,B=0;B<p;B++)l[B]^=q[B]}N.concat(f),i[0]++}return N.sigBytes=4*u,N}});v.PBKDF2=function(M,E,L){return R.create(L).compute(M,E)}}(),ke=ke||function(c,v){var h={},y=h.lib={},U=function(){},R=y.Base={extend:function(i){U.prototype=this;var u=new U;return i&&u.mixIn(i),u.hasOwnProperty("init")||(u.init=function(){u.$super.init.apply(this,arguments)}),u.init.prototype=u,u.$super=this,u},create:function(){var i=this.extend();return i.init.apply(i,arguments),i},init:function(){},mixIn:function(i){for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);i.hasOwnProperty("toString")&&(this.toString=i.toString)},clone:function(){return this.init.prototype.extend(this)}},M=y.WordArray=R.extend({init:function(i,u){i=this.words=i||[],this.sigBytes=u!=null?u:4*i.length},toString:function(i){return(i||L).stringify(this)},concat:function(i){var u=this.words,f=i.words,l=this.sigBytes;if(i=i.sigBytes,this.clamp(),l%4)for(var p=0;p<i;p++)u[l+p>>>2]|=(f[p>>>2]>>>24-p%4*8&255)<<24-(l+p)%4*8;else if(65535<f.length)for(p=0;p<i;p+=4)u[l+p>>>2]=f[p>>>2];else u.push.apply(u,f);return this.sigBytes+=i,this},clamp:function(){var i=this.words,u=this.sigBytes;i[u>>>2]&=4294967295<<32-u%4*8,i.length=c.ceil(u/4)},clone:function(){var i=R.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var u=[],f=0;f<i;f+=4)u.push(4294967296*c.random()|0);return new M.init(u,i)}}),E=h.enc={},L=E.Hex={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++){var p=u[l>>>2]>>>24-l%4*8&255;f.push((p>>>4).toString(16)),f.push((15&p).toString(16))}return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l+=2)f[l>>>3]|=parseInt(i.substr(l,2),16)<<24-l%8*4;return new M.init(f,u/2)}},k=E.Latin1={stringify:function(i){var u=i.words;i=i.sigBytes;for(var f=[],l=0;l<i;l++)f.push(String.fromCharCode(u[l>>>2]>>>24-l%4*8&255));return f.join("")},parse:function(i){for(var u=i.length,f=[],l=0;l<u;l++)f[l>>>2]|=(255&i.charCodeAt(l))<<24-l%4*8;return new M.init(f,u)}},N=E.Utf8={stringify:function(i){try{return decodeURIComponent(escape(k.stringify(i)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(i){return k.parse(unescape(encodeURIComponent(i)))}},I=y.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=N.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var u=this._data,f=u.words,l=u.sigBytes,p=this.blockSize,g=l/(4*p);if(i=(g=i?c.ceil(g):c.max((0|g)-this._minBufferSize,0))*p,l=c.min(4*i,l),i){for(var j=0;j<i;j+=p)this._doProcessBlock(f,j);j=f.splice(0,i),u.sigBytes-=l}return new M.init(j,l)},clone:function(){var i=R.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0});y.Hasher=I.extend({cfg:R.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){return i&&this._append(i),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(u,f){return new i.init(f).finalize(u)}},_createHmacHelper:function(i){return function(u,f){return new P.HMAC.init(i,f).finalize(u)}}});var P=h.algo={};return h}(Math),function(){var c=ke,v=(U=c.lib).WordArray,h=U.Hasher,y=[],U=c.algo.SHA1=h.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(R,M){for(var E=this._hash.words,L=E[0],k=E[1],N=E[2],I=E[3],P=E[4],i=0;80>i;i++){if(16>i)y[i]=0|R[M+i];else{var u=y[i-3]^y[i-8]^y[i-14]^y[i-16];y[i]=u<<1|u>>>31}u=(L<<5|L>>>27)+P+y[i],u=20>i?u+(1518500249+(k&N|~k&I)):40>i?u+(1859775393+(k^N^I)):60>i?u+((k&N|k&I|N&I)-1894007588):u+((k^N^I)-899497514),P=I,I=N,N=k<<30|k>>>2,k=L,L=u}E[0]=E[0]+L|0,E[1]=E[1]+k|0,E[2]=E[2]+N|0,E[3]=E[3]+I|0,E[4]=E[4]+P|0},_doFinalize:function(){var R=this._data,M=R.words,E=8*this._nDataBytes,L=8*R.sigBytes;return M[L>>>5]|=128<<24-L%32,M[14+(L+64>>>9<<4)]=Math.floor(E/4294967296),M[15+(L+64>>>9<<4)]=E,R.sigBytes=4*M.length,this._process(),this._hash},clone:function(){var R=h.clone.call(this);return R._hash=this._hash.clone(),R}});c.SHA1=h._createHelper(U),c.HmacSHA1=h._createHmacHelper(U)}(),Object.defineProperty(d,"__esModule",{value:!0}),d.StandardFile=d.SFItemTransformer=d.SFCryptoWeb=d.SFCryptoJS=d.SFAbstractCrypto=d.SFItemHistoryEntry=d.SFItemHistory=d.SFHistorySession=d.SFPrivileges=d.SFPredicate=d.SFItemParams=d.SFItem=d.SFSyncManager=d.SFStorageManager=d.SFSingletonManager=d.SFSessionHistoryManager=d.SFPrivilegesManager=d.SFModelManager=d.SFMigrationManager=d.SFHttpManager=d.SFAuthManager=d.SFAlertManager=void 0;var Ze=function(){function c(){Fe(this,c)}var v,h;return ze(c,[{key:"alert",value:(h=A(regeneratorRuntime.mark(function y(U){return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",new Promise(function(M,E){window.alert(U.text),M()}));case 1:case"end":return R.stop()}},y)})),function(y){return h.apply(this,arguments)})},{key:"confirm",value:(v=A(regeneratorRuntime.mark(function y(U){return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",new Promise(function(M,E){window.confirm(U.text)?M():E()}));case 1:case"end":return R.stop()}},y)})),function(y){return v.apply(this,arguments)})}]),c}();d.SFAlertManager=Ze;var lt=function(){function c(I,P,i,u){Fe(this,c),c.DidSignOutEvent="DidSignOutEvent",c.WillSignInEvent="WillSignInEvent",c.DidSignInEvent="DidSignInEvent",this.httpManager=P,this.storageManager=I,this.alertManager=i||new Ze,this.$timeout=u||setTimeout.bind(window),this.eventHandlers=[]}var v,h,y,U,R,M,E,L,k,N;return ze(c,[{key:"addEventHandler",value:function(I){return this.eventHandlers.push(I),I}},{key:"removeEventHandler",value:function(I){_.pull(this.eventHandlers,I)}},{key:"notifyEvent",value:function(I,P){var i=!0,u=!1,f=void 0;try{for(var l,p=this.eventHandlers[Symbol.iterator]();!(i=(l=p.next()).done);i=!0)(0,l.value)(I,P||{})}catch(g){u=!0,f=g}finally{try{i||p.return==null||p.return()}finally{if(u)throw f}}}},{key:"saveKeys",value:(N=A(regeneratorRuntime.mark(function I(P){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this._keys=P,i.next=3,this.storageManager.setItem("mk",P.mk);case 3:return i.next=5,this.storageManager.setItem("ak",P.ak);case 5:case"end":return i.stop()}},I,this)})),function(I){return N.apply(this,arguments)})},{key:"signout",value:(k=A(regeneratorRuntime.mark(function I(P){var i=this;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this._keys=null,this._authParams=null,!P){u.next=6;break}return u.abrupt("return",this.storageManager.clearAllData().then(function(){i.notifyEvent(c.DidSignOutEvent)}));case 6:this.notifyEvent(c.DidSignOutEvent);case 7:case"end":return u.stop()}},I,this)})),function(I){return k.apply(this,arguments)})},{key:"keys",value:(L=A(regeneratorRuntime.mark(function I(){var P;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this._keys){i.next=11;break}return i.next=3,this.storageManager.getItem("mk");case 3:if(P=i.sent){i.next=6;break}return i.abrupt("return",null);case 6:return i.t0=P,i.next=9,this.storageManager.getItem("ak");case 9:i.t1=i.sent,this._keys={mk:i.t0,ak:i.t1};case 11:return i.abrupt("return",this._keys);case 12:case"end":return i.stop()}},I,this)})),function(){return L.apply(this,arguments)})},{key:"getAuthParams",value:(E=A(regeneratorRuntime.mark(function I(){var P;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this._authParams){i.next=5;break}return i.next=3,this.storageManager.getItem("auth_params");case 3:P=i.sent,this._authParams=JSON.parse(P);case 5:if(!this._authParams||this._authParams.version){i.next=9;break}return i.next=8,this.defaultProtocolVersion();case 8:this._authParams.version=i.sent;case 9:return i.abrupt("return",this._authParams);case 10:case"end":return i.stop()}},I,this)})),function(){return E.apply(this,arguments)})},{key:"defaultProtocolVersion",value:(M=A(regeneratorRuntime.mark(function I(){var P;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.keys();case 2:if(!(P=i.sent)||!P.ak){i.next=7;break}return i.abrupt("return","002");case 7:return i.abrupt("return","001");case 8:case"end":return i.stop()}},I,this)})),function(){return M.apply(this,arguments)})},{key:"protocolVersion",value:(R=A(regeneratorRuntime.mark(function I(){var P;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getAuthParams();case 2:if(!(P=i.sent)||!P.version){i.next=5;break}return i.abrupt("return",P.version);case 5:return i.abrupt("return",this.defaultProtocolVersion());case 6:case"end":return i.stop()}},I,this)})),function(){return R.apply(this,arguments)})},{key:"getAuthParamsForEmail",value:(U=A(regeneratorRuntime.mark(function I(P,i,u){var f,l=this;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return(f=_.merge({email:i},u)).api=Ee.getApiVersion(),p.abrupt("return",new Promise(function(g,j){var q=P+"/auth/params";l.httpManager.getAbsolute(q,f,function(B){g(B)},function(B){console.error("Error getting auth params",B),xe(B)!=="object"&&(B={error:{message:"A server error occurred while trying to sign in. Please try again."}}),g(B)})}));case 3:case"end":return p.stop()}},I)})),function(I,P,i){return U.apply(this,arguments)})},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"isLocked",value:function(){return this.locked==1}},{key:"unlockAndResolve",value:function(I,P){this.unlock(),I(P)}},{key:"login",value:(y=A(regeneratorRuntime.mark(function I(P,i,u,f,l){var p=this;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",new Promise(function(){var j=A(regeneratorRuntime.mark(function q(B,X){var H,$,w,O,ee,pe,Se,oe,Y,Q;return regeneratorRuntime.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,p.keys();case 2:if(ue.sent==null){ue.next=6;break}return B({error:{message:"Cannot log in because already signed in."}}),ue.abrupt("return");case 6:if(!p.isLocked()){ue.next=9;break}return B({error:{message:"Login already in progress."}}),ue.abrupt("return");case 9:return p.lock(),p.notifyEvent(c.WillSignInEvent),ue.next=13,p.getAuthParamsForEmail(P,i,l);case 13:if((H=ue.sent).identifier=i,!H.error){ue.next=18;break}return p.unlockAndResolve(B,H),ue.abrupt("return");case 18:if(H&&H.pw_cost){ue.next=21;break}return p.unlockAndResolve(B,{error:{message:"Invalid email or password."}}),ue.abrupt("return");case 21:if(SFJS.supportedVersions().includes(H.version)){ue.next=25;break}return $=SFJS.isVersionNewerThanLibraryVersion(H.version)?"This version of the application does not support your newer account type. Please upgrade to the latest version of Standard Notes to sign in.":"The protocol version associated with your account is outdated and no longer supported by this application. Please visit standardnotes.org/help/security for more information.",p.unlockAndResolve(B,{error:{message:$}}),ue.abrupt("return");case 25:if(!SFJS.isProtocolVersionOutdated(H.version)){ue.next=32;break}return w="The encryption version for your account, ".concat(H.version,", is outdated and requires upgrade. You may proceed with login, but are advised to perform a security update using the web or desktop application. Please visit standardnotes.org/help/security for more information."),O=!1,ue.next=30,p.alertManager.confirm({title:"Update Needed",text:w,confirmButtonText:"Sign In"}).catch(function(){p.unlockAndResolve(B,{error:{}}),O=!0});case 30:if(!O){ue.next=32;break}return ue.abrupt("return");case 32:if(SFJS.supportsPasswordDerivationCost(H.pw_cost)){ue.next=36;break}return p.unlockAndResolve(B,{error:{message:"Your account was created on a platform with higher security capabilities than this browser supports. If we attempted to generate your login keys here, it would take hours. Please use a browser with more up to date security capabilities, like Google Chrome or Firefox, to log in."}}),ue.abrupt("return");case 36:if(ee=SFJS.costMinimumForVersion(H.version),!(H.pw_cost<ee)){ue.next=41;break}return p.unlockAndResolve(B,{error:{message:"Unable to login due to insecure password parameters. Please visit standardnotes.org/help/security for more information."}}),ue.abrupt("return");case 41:if(!f){ue.next=47;break}if(pe=SFJS.version(),H.version===pe){ue.next=47;break}return Se="Strict sign in refused server sign in parameters. The latest security version is ".concat(pe,", but your account is reported to have version ").concat(H.version,". If you'd like to proceed with sign in anyway, please disable strict sign in and try again."),p.unlockAndResolve(B,{error:{message:Se}}),ue.abrupt("return");case 47:return ue.next=49,SFJS.crypto.computeEncryptionKeysForUser(u,H);case 49:oe=ue.sent,Y=P+"/auth/sign_in",(Q=_.merge({password:oe.pw,email:i},l)).api=Ee.getApiVersion(),p.httpManager.postAbsolute(Y,Q,function(){var je=A(regeneratorRuntime.mark(function De(Re){return regeneratorRuntime.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.next=2,p.handleAuthResponse(Re,i,P,H,oe);case 2:p.notifyEvent(c.DidSignInEvent),p.$timeout(function(){return p.unlockAndResolve(B,Re)});case 4:case"end":return Oe.stop()}},De)}));return function(De){return je.apply(this,arguments)}}(),function(je){console.error("Error logging in",je),xe(je)!=="object"&&(je={error:{message:"A server error occurred while trying to sign in. Please try again."}}),p.$timeout(function(){return p.unlockAndResolve(B,je)})});case 54:case"end":return ue.stop()}},q)}));return function(q,B){return j.apply(this,arguments)}}()));case 1:case"end":return g.stop()}},I)})),function(I,P,i,u,f){return y.apply(this,arguments)})},{key:"register",value:function(I,P,i){var u=this;return new Promise(function(){var f=A(regeneratorRuntime.mark(function l(p,g){var j,q,B,X,H,$;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!u.isLocked()){w.next=3;break}return p({error:{message:"Register already in progress."}}),w.abrupt("return");case 3:if(!(i.length<8)){w.next=8;break}return j="Your password must be at least ".concat(8," characters in length. For your security, please choose a longer password or, ideally, a passphrase, and try again."),p({error:{message:j}}),w.abrupt("return");case 8:return u.lock(),w.next=11,SFJS.crypto.generateInitialKeysAndAuthParamsForUser(P,i);case 11:q=w.sent,B=q.keys,X=q.authParams,H=I+"/auth",($=_.merge({password:B.pw,email:P},X)).api=Ee.getApiVersion(),u.httpManager.postAbsolute(H,$,function(){var O=A(regeneratorRuntime.mark(function ee(pe){return regeneratorRuntime.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,u.handleAuthResponse(pe,P,I,X,B);case 2:u.unlockAndResolve(p,pe);case 3:case"end":return Se.stop()}},ee)}));return function(ee){return O.apply(this,arguments)}}(),function(O){console.error("Registration error",O),xe(O)!=="object"&&(O={error:{message:"A server error occurred while trying to register. Please try again."}}),u.unlockAndResolve(p,O)});case 18:case"end":return w.stop()}},l)}));return function(l,p){return f.apply(this,arguments)}}())}},{key:"changePassword",value:(h=A(regeneratorRuntime.mark(function I(P,i,u,f,l){var p=this;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",new Promise(function(){var j=A(regeneratorRuntime.mark(function q(B,X){var H,$,w;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!p.isLocked()){O.next=3;break}return B({error:{message:"Change password already in progress."}}),O.abrupt("return");case 3:p.lock(),H=f.pw,$=P+"/auth/change_pw",(w=_.merge({new_password:H,current_password:u},l)).api=Ee.getApiVersion(),p.httpManager.postAuthenticatedAbsolute($,w,function(){var ee=A(regeneratorRuntime.mark(function pe(Se){return regeneratorRuntime.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,p.handleAuthResponse(Se,i,null,l,f);case 2:p.unlockAndResolve(B,Se);case 3:case"end":return oe.stop()}},pe)}));return function(pe){return ee.apply(this,arguments)}}(),function(ee){xe(ee)!=="object"&&(ee={error:{message:"Something went wrong while changing your password. Your password was not changed. Please try again."}}),p.unlockAndResolve(B,ee)});case 9:case"end":return O.stop()}},q)}));return function(q,B){return j.apply(this,arguments)}}()));case 1:case"end":return g.stop()}},I)})),function(I,P,i,u,f){return h.apply(this,arguments)})},{key:"handleAuthResponse",value:(v=A(regeneratorRuntime.mark(function I(P,i,u,f,l){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!u){p.next=3;break}return p.next=3,this.storageManager.setItem("server",u);case 3:return this._authParams=f,p.next=6,this.storageManager.setItem("auth_params",JSON.stringify(f));case 6:return p.next=8,this.storageManager.setItem("jwt",P.token);case 8:return p.abrupt("return",this.saveKeys(l));case 9:case"end":return p.stop()}},I,this)})),function(I,P,i,u,f){return v.apply(this,arguments)})}]),c}();d.SFAuthManager=lt;var Ye=typeof window<"u"?window:S!==void 0?S:null,Ee=function(){function c(E,L){Fe(this,c),this.$timeout=E||setTimeout.bind(Ye)}var v,h,y,U,R,M;return ze(c,null,[{key:"getApiVersion",value:function(){return"20190520"}}]),ze(c,[{key:"setJWTRequestHandler",value:function(E){this.jwtRequestHandler=E}},{key:"setAuthHeadersForRequest",value:(M=A(regeneratorRuntime.mark(function E(L){var k;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,this.jwtRequestHandler();case 2:(k=N.sent)&&L.setRequestHeader("Authorization","Bearer "+k);case 4:case"end":return N.stop()}},E,this)})),function(E){return M.apply(this,arguments)})},{key:"postAbsolute",value:(R=A(regeneratorRuntime.mark(function E(L,k,N,I){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",this.httpRequest("post",L,k,N,I));case 1:case"end":return P.stop()}},E,this)})),function(E,L,k,N){return R.apply(this,arguments)})},{key:"postAuthenticatedAbsolute",value:(U=A(regeneratorRuntime.mark(function E(L,k,N,I){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",this.httpRequest("post",L,k,N,I,!0));case 1:case"end":return P.stop()}},E,this)})),function(E,L,k,N){return U.apply(this,arguments)})},{key:"patchAbsolute",value:(y=A(regeneratorRuntime.mark(function E(L,k,N,I){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",this.httpRequest("patch",L,k,N,I));case 1:case"end":return P.stop()}},E,this)})),function(E,L,k,N){return y.apply(this,arguments)})},{key:"getAbsolute",value:(h=A(regeneratorRuntime.mark(function E(L,k,N,I){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",this.httpRequest("get",L,k,N,I));case 1:case"end":return P.stop()}},E,this)})),function(E,L,k,N){return h.apply(this,arguments)})},{key:"httpRequest",value:(v=A(regeneratorRuntime.mark(function E(L,k,N,I,P){var i,u=this,f=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=f.length>5&&f[5]!==void 0&&f[5],l.abrupt("return",new Promise(function(){var p=A(regeneratorRuntime.mark(function g(j,q){var B;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if((B=new XMLHttpRequest).onreadystatechange=function(){if(B.readyState==4){var H=B.responseText;if(H)try{H=JSON.parse(H)}catch{}B.status>=200&&B.status<=299?u.$timeout(function(){I(H),j(H)}):(console.error("Request error:",H),u.$timeout(function(){P(H,B.status),q(H)}))}},L=="get"&&Object.keys(N).length>0&&(k=u.urlForUrlAndParams(k,N)),B.open(L,k,!0),B.setRequestHeader("Content-type","application/json"),!i){X.next=8;break}return X.next=8,u.setAuthHeadersForRequest(B);case 8:L=="post"||L=="patch"?B.send(JSON.stringify(N)):B.send();case 9:case"end":return X.stop()}},g)}));return function(g,j){return p.apply(this,arguments)}}()));case 2:case"end":return l.stop()}},E)})),function(E,L,k,N,I){return v.apply(this,arguments)})},{key:"urlForUrlAndParams",value:function(E,L){var k=Object.keys(L).map(function(N){return N+"="+encodeURIComponent(L[N])}).join("&");return E.includes("?")?E+"&"+k:E+"?"+k}}]),c}();d.SFHttpManager=Ee;var Ae=function(){function c(k,N,I,P){var i=this;Fe(this,c),this.modelManager=k,this.syncManager=N,this.storageManager=I,this.completionHandlers=[],this.loadMigrations();var u=!1,f=P.addEventHandler(function(l){l==lt.DidSignInEvent&&(u=!0)});this.receivedLocalDataEvent=N.initialDataLoaded(),this.syncManager.addEventHandler(function(){var l=A(regeneratorRuntime.mark(function p(g,j){var q,B,X,H,$,w,O,ee,pe;return regeneratorRuntime.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(B=g=="sync:completed",!(q=g=="local-data-loaded")&&!B){Se.next=40;break}if(q?i.receivedLocalDataEvent=!0:B&&(i.receivedSyncCompletedEvent=!0),!i.receivedLocalDataEvent||!i.receivedSyncCompletedEvent){Se.next=40;break}if(!u){Se.next=39;break}return u=!1,P.removeEventHandler(f),Se.next=10,i.getCompletedMigrations();case 10:X=Se.sent.slice(),H=!0,$=!1,w=void 0,Se.prev=14,O=X[Symbol.iterator]();case 16:if(H=(ee=O.next()).done){Se.next=25;break}return pe=ee.value,Se.next=20,i.migrationForEncodedName(pe);case 20:Se.sent.runOnlyOnce||_.pull(i._completed,pe);case 22:H=!0,Se.next=16;break;case 25:Se.next=31;break;case 27:Se.prev=27,Se.t0=Se.catch(14),$=!0,w=Se.t0;case 31:Se.prev=31,Se.prev=32,H||O.return==null||O.return();case 34:if(Se.prev=34,!$){Se.next=37;break}throw w;case 37:return Se.finish(34);case 38:return Se.finish(31);case 39:i.runPendingMigrations();case 40:case"end":return Se.stop()}},p,null,[[14,27,31,39],[32,,34,38]])}));return function(p,g){return l.apply(this,arguments)}}())}var v,h,y,U,R,M,E,L;return ze(c,[{key:"addCompletionHandler",value:function(k){this.completionHandlers.push(k)}},{key:"removeCompletionHandler",value:function(k){_.pull(this.completionHandlers,k)}},{key:"migrationForEncodedName",value:(L=A(regeneratorRuntime.mark(function k(N){var I;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.decode(N);case 2:return I=P.sent,P.abrupt("return",this.migrations.find(function(i){return i.name==I}));case 4:case"end":return P.stop()}},k,this)})),function(k){return L.apply(this,arguments)})},{key:"loadMigrations",value:function(){this.migrations=this.registeredMigrations()}},{key:"registeredMigrations",value:function(){}},{key:"runPendingMigrations",value:(E=A(regeneratorRuntime.mark(function k(){var N,I,P,i,u,f,l,p,g,j,q,B,X,H,$,w,O,ee,pe,Se,oe,Y,Q,ue,je,De,Re,Oe;return regeneratorRuntime.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,this.getPendingMigrations();case 2:for(N=ye.sent,I=!0,P=!1,i=void 0,ye.prev=6,u=N[Symbol.iterator]();!(I=(f=u.next()).done);I=!0)(l=f.value).items=[];ye.next=14;break;case 10:ye.prev=10,ye.t0=ye.catch(6),P=!0,i=ye.t0;case 14:ye.prev=14,ye.prev=15,I||u.return==null||u.return();case 17:if(ye.prev=17,!P){ye.next=20;break}throw i;case 20:return ye.finish(17);case 21:return ye.finish(14);case 22:p=!0,g=!1,j=void 0,ye.prev=25,q=this.modelManager.allNondummyItems[Symbol.iterator]();case 27:if(p=(B=q.next()).done){ye.next=51;break}for(X=B.value,H=!0,$=!1,w=void 0,ye.prev=32,O=N[Symbol.iterator]();!(H=(ee=O.next()).done);H=!0)l=ee.value,X.content_type==l.content_type&&l.items.push(X);ye.next=40;break;case 36:ye.prev=36,ye.t1=ye.catch(32),$=!0,w=ye.t1;case 40:ye.prev=40,ye.prev=41,H||O.return==null||O.return();case 43:if(ye.prev=43,!$){ye.next=46;break}throw w;case 46:return ye.finish(43);case 47:return ye.finish(40);case 48:p=!0,ye.next=27;break;case 51:ye.next=57;break;case 53:ye.prev=53,ye.t2=ye.catch(25),g=!0,j=ye.t2;case 57:ye.prev=57,ye.prev=58,p||q.return==null||q.return();case 60:if(ye.prev=60,!g){ye.next=63;break}throw j;case 63:return ye.finish(60);case 64:return ye.finish(57);case 65:pe=!0,Se=!1,oe=void 0,ye.prev=68,Y=N[Symbol.iterator]();case 70:if(pe=(Q=Y.next()).done){ye.next=81;break}if(!((l=Q.value).items&&l.items.length>0||l.customHandler)){ye.next=77;break}return ye.next=75,this.runMigration(l,l.items);case 75:ye.next=78;break;case 77:this.markMigrationCompleted(l);case 78:pe=!0,ye.next=70;break;case 81:ye.next=87;break;case 83:ye.prev=83,ye.t3=ye.catch(68),Se=!0,oe=ye.t3;case 87:ye.prev=87,ye.prev=88,pe||Y.return==null||Y.return();case 90:if(ye.prev=90,!Se){ye.next=93;break}throw oe;case 93:return ye.finish(90);case 94:return ye.finish(87);case 95:for(ue=!0,je=!1,De=void 0,ye.prev=98,Re=this.completionHandlers[Symbol.iterator]();!(ue=(Oe=Re.next()).done);ue=!0)(0,Oe.value)();ye.next=106;break;case 102:ye.prev=102,ye.t4=ye.catch(98),je=!0,De=ye.t4;case 106:ye.prev=106,ye.prev=107,ue||Re.return==null||Re.return();case 109:if(ye.prev=109,!je){ye.next=112;break}throw De;case 112:return ye.finish(109);case 113:return ye.finish(106);case 114:case"end":return ye.stop()}},k,this,[[6,10,14,22],[15,,17,21],[25,53,57,65],[32,36,40,48],[41,,43,47],[58,,60,64],[68,83,87,95],[88,,90,94],[98,102,106,114],[107,,109,113]])})),function(){return E.apply(this,arguments)})},{key:"encode",value:(M=A(regeneratorRuntime.mark(function k(N){return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",window.btoa(N));case 1:case"end":return I.stop()}},k)})),function(k){return M.apply(this,arguments)})},{key:"decode",value:(R=A(regeneratorRuntime.mark(function k(N){return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",window.atob(N));case 1:case"end":return I.stop()}},k)})),function(k){return R.apply(this,arguments)})},{key:"getCompletedMigrations",value:(U=A(regeneratorRuntime.mark(function k(){var N;return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(this._completed){I.next=5;break}return I.next=3,this.storageManager.getItem("migrations");case 3:N=I.sent,this._completed=N?JSON.parse(N):[];case 5:return I.abrupt("return",this._completed);case 6:case"end":return I.stop()}},k,this)})),function(){return U.apply(this,arguments)})},{key:"getPendingMigrations",value:(y=A(regeneratorRuntime.mark(function k(){var N,I,P,i,u,f,l,p;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this.getCompletedMigrations();case 2:N=g.sent,I=[],P=!0,i=!1,u=void 0,g.prev=7,f=this.migrations[Symbol.iterator]();case 9:if(P=(l=f.next()).done){g.next=22;break}return p=l.value,g.t0=N,g.next=14,this.encode(p.name);case 14:if(g.t1=g.sent,g.t2=g.t0.indexOf.call(g.t0,g.t1),g.t3=-1,g.t2!=g.t3){g.next=19;break}I.push(p);case 19:P=!0,g.next=9;break;case 22:g.next=28;break;case 24:g.prev=24,g.t4=g.catch(7),i=!0,u=g.t4;case 28:g.prev=28,g.prev=29,P||f.return==null||f.return();case 31:if(g.prev=31,!i){g.next=34;break}throw u;case 34:return g.finish(31);case 35:return g.finish(28);case 36:return g.abrupt("return",I);case 37:case"end":return g.stop()}},k,this,[[7,24,28,36],[29,,31,35]])})),function(){return y.apply(this,arguments)})},{key:"markMigrationCompleted",value:(h=A(regeneratorRuntime.mark(function k(N){var I;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.getCompletedMigrations();case 2:return I=P.sent,P.t0=I,P.next=6,this.encode(N.name);case 6:P.t1=P.sent,P.t0.push.call(P.t0,P.t1),this.storageManager.setItem("migrations",JSON.stringify(I)),N.running=!1;case 10:case"end":return P.stop()}},k,this)})),function(k){return h.apply(this,arguments)})},{key:"runMigration",value:(v=A(regeneratorRuntime.mark(function k(N,I){var P=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!N.running){i.next=2;break}return i.abrupt("return");case 2:if(console.log("Running migration:",N.name),N.running=!0,!N.customHandler){i.next=8;break}return i.abrupt("return",N.customHandler().then(function(){P.markMigrationCompleted(N)}));case 8:return i.abrupt("return",N.handler(I).then(function(){P.markMigrationCompleted(N)}));case 9:case"end":return i.stop()}},k)})),function(k,N){return v.apply(this,arguments)})}]),c}();d.SFMigrationManager=Ae;var Ke=function(){function c(i){Fe(this,c),c.MappingSourceRemoteRetrieved="MappingSourceRemoteRetrieved",c.MappingSourceRemoteSaved="MappingSourceRemoteSaved",c.MappingSourceLocalSaved="MappingSourceLocalSaved",c.MappingSourceLocalRetrieved="MappingSourceLocalRetrieved",c.MappingSourceLocalDirtied="MappingSourceLocalDirtied",c.MappingSourceComponentRetrieved="MappingSourceComponentRetrieved",c.MappingSourceDesktopInstalled="MappingSourceDesktopInstalled",c.MappingSourceRemoteActionRetrieved="MappingSourceRemoteActionRetrieved",c.MappingSourceFileImport="MappingSourceFileImport",c.isMappingSourceRetrieved=function(u){return[c.MappingSourceRemoteRetrieved,c.MappingSourceComponentRetrieved,c.MappingSourceRemoteActionRetrieved].includes(u)},this.$timeout=i||setTimeout.bind(window),this.itemSyncObservers=[],this.items=[],this.itemsHash={},this.missedReferences={},this.uuidChangeObservers=[]}var v,h,y,U,R,M,E,L,k,N,I,P;return ze(c,[{key:"handleSignout",value:function(){this.items.length=0,this.itemsHash={},this.missedReferences={}}},{key:"addModelUuidChangeObserver",value:function(i,u){this.uuidChangeObservers.push({id:i,callback:u})}},{key:"notifyObserversOfUuidChange",value:function(i,u){var f=!0,l=!1,p=void 0;try{for(var g,j=this.uuidChangeObservers[Symbol.iterator]();!(f=(g=j.next()).done);f=!0){var q=g.value;try{q.callback(i,u)}catch(B){console.error("Notify observers of uuid change exception:",B)}}}catch(B){l=!0,p=B}finally{try{f||j.return==null||j.return()}finally{if(l)throw p}}}},{key:"alternateUUIDForItem",value:(P=A(regeneratorRuntime.mark(function i(u){var f,l,p,g,j,q,B;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return f=this.createItem(u),X.next=3,SFJS.crypto.generateUUID();case 3:for(f.uuid=X.sent,f.informReferencesOfUUIDChange(u.uuid,f.uuid),this.informModelsOfUUIDChangeForItem(f,u.uuid,f.uuid),l=!0,p=!1,g=void 0,X.prev=9,j=u.referencingObjects[Symbol.iterator]();!(l=(q=j.next()).done);l=!0)(B=q.value).setIsNoLongerBeingReferencedBy(u),u.setIsNoLongerBeingReferencedBy(B),B.addItemAsRelationship(f);X.next=17;break;case 13:X.prev=13,X.t0=X.catch(9),p=!0,g=X.t0;case 17:X.prev=17,X.prev=18,l||j.return==null||j.return();case 20:if(X.prev=20,!p){X.next=23;break}throw g;case 23:return X.finish(20);case 24:return X.finish(17);case 25:return this.setItemsDirty(u.referencingObjects,!0),this.resolveReferencesForItem(f),this.loggingEnabled&&console.log(u.uuid,"-->",f.uuid),u.deleted=!0,u.content.references=[],this.setItemDirty(u,!1,!1,c.MappingSourceLocalSaved),X.next=33,this.mapResponseItemsToLocalModels([u],c.MappingSourceLocalSaved);case 33:return this.addItem(f),this.setItemDirty(f,!0,!0,c.MappingSourceLocalSaved),this.notifyObserversOfUuidChange(u,f),X.abrupt("return",f);case 37:case"end":return X.stop()}},i,this,[[9,13,17,25],[18,,20,24]])})),function(i){return P.apply(this,arguments)})},{key:"informModelsOfUUIDChangeForItem",value:function(i,u,f){var l=!0,p=!1,g=void 0;try{for(var j,q=this.items[Symbol.iterator]();!(l=(j=q.next()).done);l=!0)j.value.potentialItemOfInterestHasChangedItsUUID(i,u,f)}catch(B){p=!0,g=B}finally{try{l||q.return==null||q.return()}finally{if(p)throw g}}}},{key:"didSyncModelsOffline",value:function(i){this.notifySyncObserversOfModels(i,c.MappingSourceLocalSaved)}},{key:"mapResponseItemsToLocalModels",value:(I=A(regeneratorRuntime.mark(function i(u,f,l){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",this.mapResponseItemsToLocalModelsWithOptions({items:u,source:f,sourceKey:l}));case 1:case"end":return p.stop()}},i,this)})),function(i,u,f){return I.apply(this,arguments)})},{key:"mapResponseItemsToLocalModelsOmittingFields",value:(N=A(regeneratorRuntime.mark(function i(u,f,l,p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this.mapResponseItemsToLocalModelsWithOptions({items:u,omitFields:f,source:l,sourceKey:p}));case 1:case"end":return g.stop()}},i,this)})),function(i,u,f,l){return N.apply(this,arguments)})},{key:"mapResponseItemsToLocalModelsWithOptions",value:(k=A(regeneratorRuntime.mark(function i(u){var f,l,p,g,j,q,B,X,H,$,w,O,ee,pe,Se,oe,Y,Q,ue,je,De,Re,Oe,ye,$e,et,ct,Le,Ge,st,qe,rt,Ne,it,yt,Ot,Dt,Ft,Je;return regeneratorRuntime.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:f=u.items,l=u.omitFields,p=u.source,g=u.sourceKey,u.options,j=[],q=[],B=[],X=!0,H=!1,$=void 0,Me.prev=5,w=f[Symbol.iterator]();case 7:if(X=(O=w.next()).done){Me.next=58;break}if(ee=O.value){Me.next=11;break}return Me.abrupt("continue",55);case 11:if(pe=!ee.content&&!ee.errorDecrypting,ee.content_type&&ee.uuid&&!pe||ee.deleted){Me.next=16;break}return console.error("Server response item is corrupt:",ee),Me.abrupt("continue",55);case 16:if(!Array.isArray(l)){Me.next=36;break}for(Se=!0,oe=!1,Y=void 0,Me.prev=20,Q=l[Symbol.iterator]();!(Se=(ue=Q.next()).done);Se=!0)je=ue.value,delete ee[je];Me.next=28;break;case 24:Me.prev=24,Me.t0=Me.catch(20),oe=!0,Y=Me.t0;case 28:Me.prev=28,Me.prev=29,Se||Q.return==null||Q.return();case 31:if(Me.prev=31,!oe){Me.next=34;break}throw Y;case 34:return Me.finish(31);case 35:return Me.finish(28);case 36:if((De=this.findItem(ee.uuid))&&(De.updateFromJSON(ee),De.dummy=!1),Re=ee.content_type||De&&De.content_type,!this.acceptableContentTypes||this.acceptableContentTypes.includes(Re)){Me.next=42;break}return Me.abrupt("continue",55);case 42:if(Oe=!1,ee.deleted!=1){Me.next=50;break}if(!ee.dirty){Me.next=48;break}Oe=!0,Me.next=50;break;case 48:return De&&(j.push(De),B.push(De),this.removeItemLocally(De)),Me.abrupt("continue",55);case 50:De||(De=this.createItem(ee)),this.addItem(De,Oe),De.errorDecrypting||B.push(De),j.push(De),q.push(ee);case 55:X=!0,Me.next=7;break;case 58:Me.next=64;break;case 60:Me.prev=60,Me.t1=Me.catch(5),H=!0,$=Me.t1;case 64:Me.prev=64,Me.prev=65,X||w.return==null||w.return();case 67:if(Me.prev=67,!H){Me.next=70;break}throw $;case 70:return Me.finish(67);case 71:return Me.finish(64);case 72:for(ye=!0,$e=!1,et=void 0,Me.prev=75,ct=q.entries()[Symbol.iterator]();!(ye=(Le=ct.next()).done);ye=!0)Ge=fe(Le.value,2),st=Ge[0],qe=Ge[1],rt=j[st],qe.content&&this.resolveReferencesForItem(rt),rt.didFinishSyncing();Me.next=83;break;case 79:Me.prev=79,Me.t2=Me.catch(75),$e=!0,et=Me.t2;case 83:Me.prev=83,Me.prev=84,ye||ct.return==null||ct.return();case 86:if(Me.prev=86,!$e){Me.next=89;break}throw et;case 89:return Me.finish(86);case 90:return Me.finish(83);case 91:for(Ne=this.popMissedReferenceStructsForObjects(q),it=!0,yt=!1,Ot=void 0,Me.prev=95,Dt=function(){var Ct=Je.value,Gt=j.find(function(Ue){return Ue.uuid==Ct.reference_uuid});Gt&&Ct.for_item.addItemAsRelationship(Gt)},Ft=Ne[Symbol.iterator]();!(it=(Je=Ft.next()).done);it=!0)Dt();Me.next=104;break;case 100:Me.prev=100,Me.t3=Me.catch(95),yt=!0,Ot=Me.t3;case 104:Me.prev=104,Me.prev=105,it||Ft.return==null||Ft.return();case 107:if(Me.prev=107,!yt){Me.next=110;break}throw Ot;case 110:return Me.finish(107);case 111:return Me.finish(104);case 112:return Me.next=114,this.notifySyncObserversOfModels(B,p,g);case 114:return Me.abrupt("return",j);case 115:case"end":return Me.stop()}},i,this,[[5,60,64,72],[20,24,28,36],[29,,31,35],[65,,67,71],[75,79,83,91],[84,,86,90],[95,100,104,112],[105,,107,111]])})),function(i){return k.apply(this,arguments)})},{key:"missedReferenceBuildKey",value:function(i,u){return"".concat(i,":").concat(u)}},{key:"popMissedReferenceStructsForObjects",value:function(i){if(!i||i.length==0)return[];for(var u=[],f=[],l=i.map(function($){return $.uuid}),p=l[0].length,g=0,j=Object.keys(this.missedReferences);g<j.length;g++){var q=j[g];l.includes(q.substring(0,p))&&(u.push(this.missedReferences[q]),f.push(q))}for(var B=0,X=f;B<X.length;B++){var H=X[B];delete this.missedReferences[H]}return u}},{key:"resolveReferencesForItem",value:function(i){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!i.errorDecrypting){var f=i.contentObject;if(i.updateLocalRelationships(),f.references){var l=f.references.slice(),p=l.map(function(Y){return Y.uuid}),g=!0,j=this.findItems(p,g),q=!0,B=!1,X=void 0;try{for(var H,$=j.entries()[Symbol.iterator]();!(q=(H=$.next()).done);q=!0){var w=fe(H.value,2),O=w[0],ee=w[1];if(ee)i.addItemAsRelationship(ee),u&&this.setItemDirty(ee,!0);else{var pe=p[O],Se=this.missedReferenceBuildKey(pe,i.uuid);if(!this.missedReferences[Se]){var oe={reference_uuid:pe,for_item:i};this.missedReferences[Se]=oe}}}}catch(Y){B=!0,X=Y}finally{try{q||$.return==null||$.return()}finally{if(B)throw X}}}}}},{key:"notifySyncObserversOfModels",value:(L=A(regeneratorRuntime.mark(function i(u,f,l){var p,g,j,q,B,X,H,$=this;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:p=this.itemSyncObservers.sort(function(O,ee){return O.priority<ee.priority?-1:1}),g=!0,j=!1,q=void 0,w.prev=4,B=regeneratorRuntime.mark(function O(){var ee,pe,Se,oe,Y,Q,ue,je,De,Re;return regeneratorRuntime.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:for(ee=H.value,pe=ee.types.includes("*")?u:u.filter(function(ye){return ee.types.includes(ye.content_type)}),Se=[],oe=[],Y=!0,Q=!1,ue=void 0,Oe.prev=6,je=pe[Symbol.iterator]();!(Y=(De=je.next()).done);Y=!0)(Re=De.value).deleted?oe.push(Re):Se.push(Re);Oe.next=14;break;case 10:Oe.prev=10,Oe.t0=Oe.catch(6),Q=!0,ue=Oe.t0;case 14:Oe.prev=14,Oe.prev=15,Y||je.return==null||je.return();case 17:if(Oe.prev=17,!Q){Oe.next=20;break}throw ue;case 20:return Oe.finish(17);case 21:return Oe.finish(14);case 22:if(!(pe.length>0)){Oe.next=25;break}return Oe.next=25,$._callSyncObserverCallbackWithTimeout(ee,pe,Se,oe,f,l);case 25:case"end":return Oe.stop()}},O,null,[[6,10,14,22],[15,,17,21]])}),X=p[Symbol.iterator]();case 7:if(g=(H=X.next()).done){w.next=12;break}return w.delegateYield(B(),"t0",9);case 9:g=!0,w.next=7;break;case 12:w.next=18;break;case 14:w.prev=14,w.t1=w.catch(4),j=!0,q=w.t1;case 18:w.prev=18,w.prev=19,g||X.return==null||X.return();case 21:if(w.prev=21,!j){w.next=24;break}throw q;case 24:return w.finish(21);case 25:return w.finish(18);case 26:case"end":return w.stop()}},i,this,[[4,14,18,26],[19,,21,25]])})),function(i,u,f){return L.apply(this,arguments)})},{key:"_callSyncObserverCallbackWithTimeout",value:(E=A(regeneratorRuntime.mark(function i(u,f,l,p,g,j){var q=this;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",new Promise(function(X,H){q.$timeout(function(){try{u.callback(f,l,p,g,j)}catch($){console.error("Sync observer exception",$)}finally{X()}})}));case 1:case"end":return B.stop()}},i)})),function(i,u,f,l,p,g){return E.apply(this,arguments)})},{key:"setItemDirty",value:function(i){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],f=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,p=arguments.length>4?arguments[4]:void 0;this.setItemsDirty([i],u,f,l,p)}},{key:"setItemsDirty",value:function(i){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],f=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,p=arguments.length>4?arguments[4]:void 0,g=!0,j=!1,q=void 0;try{for(var B,X=i[Symbol.iterator]();!(g=(B=X.next()).done);g=!0){var H=B.value;H.setDirty(u,f)}}catch($){j=!0,q=$}finally{try{g||X.return==null||X.return()}finally{if(j)throw q}}this.notifySyncObserversOfModels(i,l||c.MappingSourceLocalDirtied,p)}},{key:"createItem",value:function(i){var u=c.ContentTypeClassMapping&&c.ContentTypeClassMapping[i.content_type];return u||(u=se),new u(i)}},{key:"createDuplicateItemFromResponseItem",value:(M=A(regeneratorRuntime.mark(function i(u){var f,l;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(typeof u.setDirty!="function"){p.next=3;break}return console.error("Attempting to create conflicted copy of non-response item."),p.abrupt("return",null);case 3:return f=JSON.parse(JSON.stringify(u)),p.next=6,SFJS.crypto.generateUUID();case 6:return f.uuid=p.sent,l=this.createItem(f),p.abrupt("return",l);case 9:case"end":return p.stop()}},i,this)})),function(i){return M.apply(this,arguments)})},{key:"duplicateItemAndAddAsConflict",value:function(i){return this.duplicateItemWithCustomContentAndAddAsConflict({content:i.content,duplicateOf:i})}},{key:"duplicateItemWithCustomContentAndAddAsConflict",value:function(i){var u=i.content,f=i.duplicateOf,l=this.duplicateItemWithCustomContent({content:u,duplicateOf:f});return this.addDuplicatedItemAsConflict({duplicate:l,duplicateOf:f}),l}},{key:"addDuplicatedItemAsConflict",value:function(i){var u=i.duplicate,f=i.duplicateOf;this.addDuplicatedItem(u,f),u.content.conflict_of=f.uuid}},{key:"duplicateItemWithCustomContent",value:function(i){var u=i.content,f=i.duplicateOf,l=new f.constructor({content:u});return l.created_at=f.created_at,l.content_type||(l.content_type=f.content_type),l}},{key:"duplicateItemAndAdd",value:function(i){var u=this.duplicateItemWithoutAdding(i);return this.addDuplicatedItem(u,i),u}},{key:"duplicateItemWithoutAdding",value:function(i){var u=new i.constructor({content:i.content});return u.created_at=i.created_at,u.content_type||(u.content_type=i.content_type),u}},{key:"addDuplicatedItem",value:function(i,u){this.addItem(i);var f=!0,l=!1,p=void 0;try{for(var g,j=u.referencingObjects[Symbol.iterator]();!(f=(g=j.next()).done);f=!0){var q=g.value;q.addItemAsRelationship(i),this.setItemDirty(q,!0)}}catch(B){l=!0,p=B}finally{try{f||j.return==null||j.return()}finally{if(l)throw p}}this.resolveReferencesForItem(i),this.setItemDirty(i,!0)}},{key:"addItem",value:function(i){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.addItems([i],u)}},{key:"addItems",value:function(i){var u=this;i.forEach(function(f){u.itemsHash[f.uuid]||(u.itemsHash[f.uuid]=f,u.items.push(f))})}},{key:"addItemSyncObserver",value:function(i,u,f){this.addItemSyncObserverWithPriority({id:i,types:u,callback:f,priority:1})}},{key:"addItemSyncObserverWithPriority",value:function(i){var u=i.id,f=i.priority,l=i.types,p=i.callback;Array.isArray(l)||(l=[l]),this.itemSyncObservers.push({id:u,types:l,priority:f,callback:p})}},{key:"removeItemSyncObserver",value:function(i){_.remove(this.itemSyncObservers,_.find(this.itemSyncObservers,{id:i}))}},{key:"getDirtyItems",value:function(){return this.items.filter(function(i){return i.dirty==1&&!i.dummy&&(!i.errorDecrypting||i.deleted)})}},{key:"clearDirtyItems",value:function(i){var u=!0,f=!1,l=void 0;try{for(var p,g=i[Symbol.iterator]();!(u=(p=g.next()).done);u=!0)p.value.setDirty(!1)}catch(j){f=!0,l=j}finally{try{u||g.return==null||g.return()}finally{if(f)throw l}}}},{key:"removeAndDirtyAllRelationshipsForItem",value:function(i){if(!i.errorDecrypting){var u=!0,f=!1,l=void 0;try{for(var p,g=i.content.references[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var j=p.value,q=this.findItem(j.uuid);q&&(i.removeItemAsRelationship(q),q.hasRelationshipWithItem(i)&&(q.removeItemAsRelationship(i),this.setItemDirty(q,!0)))}}catch(ee){f=!0,l=ee}finally{try{u||g.return==null||g.return()}finally{if(f)throw l}}}var B=!0,X=!1,H=void 0;try{for(var $,w=i.referencingObjects[Symbol.iterator]();!(B=($=w.next()).done);B=!0){var O=$.value;O.removeItemAsRelationship(i),this.setItemDirty(O,!0)}}catch(ee){X=!0,H=ee}finally{try{B||w.return==null||w.return()}finally{if(X)throw H}}i.referencingObjects=[]}},{key:"setAllItemsDirty",value:function(){var i=this.allItems;this.setItemsDirty(i,!0)}},{key:"setItemToBeDeleted",value:function(i){i.deleted=!0,i.dummy||this.setItemDirty(i,!0),this.removeAndDirtyAllRelationshipsForItem(i)}},{key:"removeItemLocally",value:(R=A(regeneratorRuntime.mark(function i(u){return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:_.remove(this.items,{uuid:u.uuid}),delete this.itemsHash[u.uuid],u.isBeingRemovedLocally();case 3:case"end":return f.stop()}},i,this)})),function(i){return R.apply(this,arguments)})},{key:"allItemsMatchingTypes",value:function(i){return this.allItems.filter(function(u){return(_.includes(i,u.content_type)||_.includes(i,"*"))&&!u.dummy})}},{key:"invalidItems",value:function(){return this.allItems.filter(function(i){return i.errorDecrypting})}},{key:"validItemsForContentType",value:function(i){return this.allItems.filter(function(u){return u.content_type==i&&!u.errorDecrypting})}},{key:"findItem",value:function(i){return this.itemsHash[i]}},{key:"findItems",value:function(i){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=[],l=!0,p=!1,g=void 0;try{for(var j,q=i[Symbol.iterator]();!(l=(j=q.next()).done);l=!0){var B=j.value,X=this.itemsHash[B];(X||u)&&f.push(X)}}catch(H){p=!0,g=H}finally{try{l||q.return==null||q.return()}finally{if(p)throw g}}return f}},{key:"itemsMatchingPredicate",value:function(i){return this.itemsMatchingPredicates([i])}},{key:"itemsMatchingPredicates",value:function(i){return this.filterItemsWithPredicates(this.allItems,i)}},{key:"filterItemsWithPredicates",value:function(i,u){return i.filter(function(f){var l=!0,p=!1,g=void 0;try{for(var j,q=u[Symbol.iterator]();!(l=(j=q.next()).done);l=!0){var B=j.value;if(!f.satisfiesPredicate(B))return!1}}catch(X){p=!0,g=X}finally{try{l||q.return==null||q.return()}finally{if(p)throw g}}return!0})}},{key:"importItems",value:(U=A(regeneratorRuntime.mark(function i(u){var f,l,p,g,j,q,B,X,H,$,w,O,ee,pe,Se,oe,Y,Q,ue,je,De,Re,Oe,ye,$e,et,ct;return regeneratorRuntime.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:f=[],l={},p=!0,g=!1,j=void 0,Le.prev=5,q=u[Symbol.iterator]();case 7:if(p=(B=q.next()).done){Le.next=18;break}if(X=B.value,H=this.findItem(X.uuid)){Le.next=13;break}return l[X.uuid]={},Le.abrupt("continue",15);case 13:$=this.duplicateItemWithoutAdding(H),l[X.uuid]={frozenValue:$,itemRef:H};case 15:p=!0,Le.next=7;break;case 18:Le.next=24;break;case 20:Le.prev=20,Le.t0=Le.catch(5),g=!0,j=Le.t0;case 24:Le.prev=24,Le.prev=25,p||q.return==null||q.return();case 27:if(Le.prev=27,!g){Le.next=30;break}throw j;case 30:return Le.finish(27);case 31:return Le.finish(24);case 32:w=!0,O=!1,ee=void 0,Le.prev=35,pe=u[Symbol.iterator]();case 37:if(w=(Se=pe.next()).done){Le.next=52;break}if(oe=Se.value,Y=l[oe.uuid],Q=Y.frozenValue,ue=Y.itemRef,!Q||ue.errorDecrypting){Le.next=47;break}return Le.next=43,this.createDuplicateItemFromResponseItem(oe);case 43:je=Le.sent,oe.deleted||Q.isItemContentEqualWith(je)||(this.addDuplicatedItemAsConflict({duplicate:je,duplicateOf:ue}),f.push(je)),Le.next=49;break;case 47:f.push(oe),ue&&ue.errorDecrypting&&(ue.errorDecrypting=!1);case 49:w=!0,Le.next=37;break;case 52:Le.next=58;break;case 54:Le.prev=54,Le.t1=Le.catch(35),O=!0,ee=Le.t1;case 58:Le.prev=58,Le.prev=59,w||pe.return==null||pe.return();case 61:if(Le.prev=61,!O){Le.next=64;break}throw ee;case 64:return Le.finish(61);case 65:return Le.finish(58);case 66:return Le.next=68,this.mapResponseItemsToLocalModels(f,c.MappingSourceFileImport);case 68:for(De=Le.sent,Re=!0,Oe=!1,ye=void 0,Le.prev=72,$e=De[Symbol.iterator]();!(Re=(et=$e.next()).done);Re=!0)ct=et.value,this.setItemDirty(ct,!0,!1),ct.deleted=!1;Le.next=80;break;case 76:Le.prev=76,Le.t2=Le.catch(72),Oe=!0,ye=Le.t2;case 80:Le.prev=80,Le.prev=81,Re||$e.return==null||$e.return();case 83:if(Le.prev=83,!Oe){Le.next=86;break}throw ye;case 86:return Le.finish(83);case 87:return Le.finish(80);case 88:return Le.abrupt("return",De);case 89:case"end":return Le.stop()}},i,this,[[5,20,24,32],[25,,27,31],[35,54,58,66],[59,,61,65],[72,76,80,88],[81,,83,87]])})),function(i){return U.apply(this,arguments)})},{key:"getAllItemsJSONData",value:(y=A(regeneratorRuntime.mark(function i(u,f,l){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",this.getJSONDataForItems(this.allItems,u,f,l));case 1:case"end":return p.stop()}},i,this)})),function(i,u,f){return y.apply(this,arguments)})},{key:"getJSONDataForItems",value:(h=A(regeneratorRuntime.mark(function i(u,f,l,p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Promise.all(u.map(function(j){return new ce(j,f,l).paramsForExportFile()})).then(function(j){if(p&&j.length==0)return null;var q={items:j};return f&&(q.auth_params=l),JSON.stringify(q,null,2)}));case 1:case"end":return g.stop()}},i)})),function(i,u,f,l){return h.apply(this,arguments)})},{key:"computeDataIntegrityHash",value:(v=A(regeneratorRuntime.mark(function i(){var u,f,l,p;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,u=this.allNondummyItems.sort(function(j,q){return q.updated_at-j.updated_at}),f=u.map(function(j){return j.updatedAtTimestamp()}),l=f.join(","),g.next=6,SFJS.crypto.sha256(l);case 6:return p=g.sent,g.abrupt("return",p);case 10:return g.prev=10,g.t0=g.catch(0),console.error("Error computing data integrity hash",g.t0),g.abrupt("return",null);case 14:case"end":return g.stop()}},i,this,[[0,10]])})),function(){return v.apply(this,arguments)})},{key:"allItems",get:function(){return this.items.slice()}},{key:"allNondummyItems",get:function(){return this.items.filter(function(i){return!i.dummy})}}]),c}();d.SFModelManager=Ke;var nt=function(){function c(i,u,f){Fe(this,c),this.modelManager=i,this.syncManager=u,this.singletonManager=f,this.loadPrivileges(),c.CredentialAccountPassword="CredentialAccountPassword",c.CredentialLocalPasscode="CredentialLocalPasscode",c.ActionManageExtensions="ActionManageExtensions",c.ActionManageBackups="ActionManageBackups",c.ActionViewProtectedNotes="ActionViewProtectedNotes",c.ActionManagePrivileges="ActionManagePrivileges",c.ActionManagePasscode="ActionManagePasscode",c.ActionDeleteNote="ActionDeleteNote",c.SessionExpiresAtKey="SessionExpiresAtKey",c.SessionLengthKey="SessionLengthKey",c.SessionLengthNone=0,c.SessionLengthFiveMinutes=300,c.SessionLengthOneHour=3600,c.SessionLengthOneWeek=604800,this.availableActions=[c.ActionViewProtectedNotes,c.ActionDeleteNote,c.ActionManagePasscode,c.ActionManageBackups,c.ActionManageExtensions,c.ActionManagePrivileges],this.availableCredentials=[c.CredentialAccountPassword,c.CredentialLocalPasscode],this.sessionLengths=[c.SessionLengthNone,c.SessionLengthFiveMinutes,c.SessionLengthOneHour,c.SessionLengthOneWeek,c.SessionLengthIndefinite]}var v,h,y,U,R,M,E,L,k,N,I,P;return ze(c,[{key:"setDelegate",value:function(i){this.delegate=i}},{key:"getAvailableActions",value:function(){return this.availableActions}},{key:"getAvailableCredentials",value:function(){return this.availableCredentials}},{key:"netCredentialsForAction",value:(P=A(regeneratorRuntime.mark(function i(u){var f,l,p,g,j,q,B,X;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.getPrivileges();case 2:H.t0=u,f=H.sent.getCredentialsForAction(H.t0),l=[],p=!0,g=!1,j=void 0,H.prev=8,q=f[Symbol.iterator]();case 10:if(p=(B=q.next()).done){H.next=27;break}if((X=B.value)!=c.CredentialAccountPassword){H.next=19;break}return H.next=15,this.delegate.isOffline();case 15:H.sent||l.push(X),H.next=24;break;case 19:if(X!=c.CredentialLocalPasscode){H.next=24;break}return H.next=22,this.delegate.hasLocalPasscode();case 22:H.sent&&l.push(X);case 24:p=!0,H.next=10;break;case 27:H.next=33;break;case 29:H.prev=29,H.t1=H.catch(8),g=!0,j=H.t1;case 33:H.prev=33,H.prev=34,p||q.return==null||q.return();case 36:if(H.prev=36,!g){H.next=39;break}throw j;case 39:return H.finish(36);case 40:return H.finish(33);case 41:return H.abrupt("return",l);case 42:case"end":return H.stop()}},i,this,[[8,29,33,41],[34,,36,40]])})),function(i){return P.apply(this,arguments)})},{key:"loadPrivileges",value:(I=A(regeneratorRuntime.mark(function i(){var u=this;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!this.loadPromise){f.next=2;break}return f.abrupt("return",this.loadPromise);case 2:return this.loadPromise=new Promise(function(l,p){var g=K.contentType(),j=new ge("content_type","=",g);u.singletonManager.registerSingleton([j],function(q){u.privileges=q,l(q)},function(){var q=A(regeneratorRuntime.mark(function B(X){var H;return regeneratorRuntime.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(H=new K({content_type:g}),SFJS.crypto.generateUUIDSync){$.next=4;break}return $.next=4,H.initUUID();case 4:u.modelManager.addItem(H),u.modelManager.setItemDirty(H,!0),u.syncManager.sync(),X(H),l(H);case 9:case"end":return $.stop()}},B)}));return function(B){return q.apply(this,arguments)}}())}),f.abrupt("return",this.loadPromise);case 4:case"end":return f.stop()}},i,this)})),function(){return I.apply(this,arguments)})},{key:"getPrivileges",value:(N=A(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.privileges){u.next=4;break}return u.abrupt("return",this.privileges);case 4:return u.abrupt("return",this.loadPrivileges());case 5:case"end":return u.stop()}},i,this)})),function(){return N.apply(this,arguments)})},{key:"displayInfoForCredential",value:function(i){var u={};return u[c.CredentialAccountPassword]={label:"Account Password",prompt:"Please enter your account password."},u[c.CredentialLocalPasscode]={label:"Local Passcode",prompt:"Please enter your local passcode."},u[i]}},{key:"displayInfoForAction",value:function(i){var u={};return u[c.ActionManageExtensions]={label:"Manage Extensions"},u[c.ActionManageBackups]={label:"Download/Import Backups"},u[c.ActionViewProtectedNotes]={label:"View Protected Notes"},u[c.ActionManagePrivileges]={label:"Manage Privileges"},u[c.ActionManagePasscode]={label:"Manage Passcode"},u[c.ActionDeleteNote]={label:"Delete Notes"},u[i]}},{key:"getSessionLengthOptions",value:function(){return[{value:c.SessionLengthNone,label:"Don't Remember"},{value:c.SessionLengthFiveMinutes,label:"5 Minutes"},{value:c.SessionLengthOneHour,label:"1 Hour"},{value:c.SessionLengthOneWeek,label:"1 Week"}]}},{key:"setSessionLength",value:(k=A(regeneratorRuntime.mark(function i(u){var f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return p=u,g=void 0,(g=new Date).setSeconds(g.getSeconds()+p),f=g,l.abrupt("return",Promise.all([this.delegate.saveToStorage(c.SessionExpiresAtKey,JSON.stringify(f)),this.delegate.saveToStorage(c.SessionLengthKey,JSON.stringify(u))]));case 3:case"end":return l.stop()}var p,g},i,this)})),function(i){return k.apply(this,arguments)})},{key:"clearSession",value:(L=A(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",this.setSessionLength(c.SessionLengthNone));case 1:case"end":return u.stop()}},i,this)})),function(){return L.apply(this,arguments)})},{key:"getSelectedSessionLength",value:(E=A(regeneratorRuntime.mark(function i(){var u;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.delegate.getFromStorage(c.SessionLengthKey);case 2:if(!(u=f.sent)){f.next=7;break}return f.abrupt("return",JSON.parse(u));case 7:return f.abrupt("return",c.SessionLengthNone);case 8:case"end":return f.stop()}},i,this)})),function(){return E.apply(this,arguments)})},{key:"getSessionExpirey",value:(M=A(regeneratorRuntime.mark(function i(){var u;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.delegate.getFromStorage(c.SessionExpiresAtKey);case 2:if(!(u=f.sent)){f.next=7;break}return f.abrupt("return",new Date(JSON.parse(u)));case 7:return f.abrupt("return",new Date);case 8:case"end":return f.stop()}},i,this)})),function(){return M.apply(this,arguments)})},{key:"actionHasPrivilegesConfigured",value:(R=A(regeneratorRuntime.mark(function i(u){return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.netCredentialsForAction(u);case 2:return f.t0=f.sent.length,f.abrupt("return",f.t0>0);case 4:case"end":return f.stop()}},i,this)})),function(i){return R.apply(this,arguments)})},{key:"actionRequiresPrivilege",value:(U=A(regeneratorRuntime.mark(function i(u){var f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getSessionExpirey();case 2:if(!(l.sent>new Date)){l.next=5;break}return l.abrupt("return",!1);case 5:return l.next=7,this.netCredentialsForAction(u);case 7:return f=l.sent,l.abrupt("return",f.length>0);case 9:case"end":return l.stop()}},i,this)})),function(i){return U.apply(this,arguments)})},{key:"savePrivileges",value:(y=A(regeneratorRuntime.mark(function i(){var u;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.getPrivileges();case 2:u=f.sent,this.modelManager.setItemDirty(u,!0),this.syncManager.sync();case 5:case"end":return f.stop()}},i,this)})),function(){return y.apply(this,arguments)})},{key:"authenticateAction",value:(h=A(regeneratorRuntime.mark(function i(u,f){var l,p,g,j,q,B,X,H,$;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.netCredentialsForAction(u);case 2:l=w.sent,p=[],g=[],j=!0,q=!1,B=void 0,w.prev=7,X=l[Symbol.iterator]();case 9:if(j=(H=X.next()).done){w.next=18;break}return $=H.value,w.next=13,this._verifyAuthenticationParameters($,f[$]);case 13:w.sent?p.push($):g.push($);case 15:j=!0,w.next=9;break;case 18:w.next=24;break;case 20:w.prev=20,w.t0=w.catch(7),q=!0,B=w.t0;case 24:w.prev=24,w.prev=25,j||X.return==null||X.return();case 27:if(w.prev=27,!q){w.next=30;break}throw B;case 30:return w.finish(27);case 31:return w.finish(24);case 32:return w.abrupt("return",{success:g.length==0,successfulCredentials:p,failedCredentials:g});case 33:case"end":return w.stop()}},i,this,[[7,20,24,32],[25,,27,31]])})),function(i,u){return h.apply(this,arguments)})},{key:"_verifyAuthenticationParameters",value:(v=A(regeneratorRuntime.mark(function i(u,f){var l,p,g=this;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(l=function(){var q=A(regeneratorRuntime.mark(function B(X){return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",g.delegate.verifyAccountPassword(X));case 1:case"end":return H.stop()}},B)}));return function(B){return q.apply(this,arguments)}}(),p=function(){var q=A(regeneratorRuntime.mark(function B(X){return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",g.delegate.verifyLocalPasscode(X));case 1:case"end":return H.stop()}},B)}));return function(B){return q.apply(this,arguments)}}(),u!=c.CredentialAccountPassword){j.next=6;break}return j.abrupt("return",l(f));case 6:if(u!=c.CredentialLocalPasscode){j.next=8;break}return j.abrupt("return",p(f));case 8:case"end":return j.stop()}},i)})),function(i,u){return v.apply(this,arguments)})}]),c}();d.SFPrivilegesManager=nt;var ve=function(){function c(L,k,N,I,P){var i=this;Fe(this,c),this.modelManager=L,this.storageManager=k,this.$timeout=P||setTimeout.bind(window),this.keyRequestHandler=N,this.loadFromDisk().then(function(){i.modelManager.addItemSyncObserver("session-history",I,function(u,f,l,p,g){if(p!==Ke.MappingSourceLocalDirtied){var j=!0,q=!1,B=void 0;try{for(var X,H=u[Symbol.iterator]();!(j=(X=H.next()).done);j=!0){var $=X.value;try{i.addHistoryEntryForItem($)}catch(w){console.log("Caught exception while trying to add item history entry",w)}}}catch(w){q=!0,B=w}finally{try{j||H.return==null||H.return()}finally{if(q)throw B}}}})})}var v,h,y,U,R,M,E;return ze(c,[{key:"encryptionParams",value:(E=A(regeneratorRuntime.mark(function L(){return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return",this.keyRequestHandler());case 1:case"end":return k.stop()}},L,this)})),function(){return E.apply(this,arguments)})},{key:"addHistoryEntryForItem",value:function(L){var k=this,N={uuid:L.uuid,content_type:L.content_type,updated_at:L.updated_at,content:L.getContentCopy()},I=this.historySession.addEntryForItem(N);this.autoOptimize&&this.historySession.optimizeHistoryForItem(L),I&&this.diskEnabled&&(this.diskTimeout&&(this.$timeout.hasOwnProperty("cancel")?this.$timeout.cancel(this.diskTimeout):clearTimeout(this.diskTimeout)),this.diskTimeout=this.$timeout(function(){k.saveToDisk()},2e3))}},{key:"historyForItem",value:function(L){return this.historySession.historyForItem(L)}},{key:"clearHistoryForItem",value:(M=A(regeneratorRuntime.mark(function L(k){return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return this.historySession.clearItemHistory(k),N.abrupt("return",this.saveToDisk());case 2:case"end":return N.stop()}},L,this)})),function(L){return M.apply(this,arguments)})},{key:"clearAllHistory",value:(R=A(regeneratorRuntime.mark(function L(){return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.historySession.clearAllHistory(),k.abrupt("return",this.storageManager.removeItem("sessionHistory_revisions"));case 2:case"end":return k.stop()}},L,this)})),function(){return R.apply(this,arguments)})},{key:"toggleDiskSaving",value:(U=A(regeneratorRuntime.mark(function L(){return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(this.diskEnabled=!this.diskEnabled,!this.diskEnabled){k.next=6;break}this.storageManager.setItem("sessionHistory_persist",JSON.stringify(!0)),this.saveToDisk(),k.next=8;break;case 6:return this.storageManager.setItem("sessionHistory_persist",JSON.stringify(!1)),k.abrupt("return",this.storageManager.removeItem("sessionHistory_revisions"));case 8:case"end":return k.stop()}},L,this)})),function(){return U.apply(this,arguments)})},{key:"saveToDisk",value:(y=A(regeneratorRuntime.mark(function L(){var k,N=this;return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(this.diskEnabled){I.next=2;break}return I.abrupt("return");case 2:return I.next=4,this.encryptionParams();case 4:k=I.sent,new ce(this.historySession,k.keys,k.auth_params).paramsForSync().then(function(P){N.storageManager.setItem("sessionHistory_revisions",JSON.stringify(P))});case 7:case"end":return I.stop()}},L,this)})),function(){return y.apply(this,arguments)})},{key:"loadFromDisk",value:(h=A(regeneratorRuntime.mark(function L(){var k,N,I,P,i;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.storageManager.getItem("sessionHistory_persist");case 2:return(k=u.sent)&&(this.diskEnabled=JSON.parse(k)),u.next=6,this.storageManager.getItem("sessionHistory_revisions");case 6:if(!(N=u.sent)){u.next=18;break}return N=JSON.parse(N),u.next=11,this.encryptionParams();case 11:return I=u.sent,u.next=14,SFJS.itemTransformer.decryptItem(N,I.keys);case 14:P=new F(N),this.historySession=P,u.next=19;break;case 18:this.historySession=new F;case 19:return u.next=21,this.storageManager.getItem("sessionHistory_autoOptimize");case 21:i=u.sent,this.autoOptimize=!i||JSON.parse(i);case 23:case"end":return u.stop()}},L,this)})),function(){return h.apply(this,arguments)})},{key:"toggleAutoOptimize",value:(v=A(regeneratorRuntime.mark(function L(){return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:this.autoOptimize=!this.autoOptimize,this.autoOptimize?this.storageManager.setItem("sessionHistory_autoOptimize",JSON.stringify(!0)):this.storageManager.setItem("sessionHistory_autoOptimize",JSON.stringify(!1));case 2:case"end":return k.stop()}},L,this)})),function(){return v.apply(this,arguments)})}]),c}();d.SFSessionHistoryManager=ve;var ie=function(){function c(v,h){var y=this;Fe(this,c),this.syncManager=h,this.modelManager=v,this.singletonHandlers=[],v.addItemSyncObserverWithPriority({id:"sf-singleton-manager",types:"*",priority:-1,callback:function(U,R,M,E,L){E!==Ke.MappingSourceLocalDirtied&&y.resolveSingletons(v.allNondummyItems,null,!0)}}),h.addEventHandler(function(U,R){if(U=="local-data-loaded")y.resolveSingletons(v.allNondummyItems,null,!0),y.initialDataLoaded=!0;else if(U=="sync:completed"){if(!y.initialDataLoaded)return;y.resolveSingletons(R.retrievedItems,R.savedItems)}}),v.addModelUuidChangeObserver("singleton-manager",function(U,R){var M=!0,E=!1,L=void 0;try{for(var k,N=y.singletonHandlers[Symbol.iterator]();!(M=(k=N.next()).done);M=!0){var I=k.value;I.singleton&&ge.ItemSatisfiesPredicates(R,I.predicates)&&(I.singleton=null,y.resolveSingletons([R]))}}catch(P){E=!0,L=P}finally{try{M||N.return==null||N.return()}finally{if(E)throw L}}})}return ze(c,[{key:"registerSingleton",value:function(v,h,y){this.singletonHandlers.push({predicates:v,resolutionCallback:h,createBlock:y})}},{key:"resolveSingletons",value:function(v,h,y){var U=this;v=v||[],h=h||[];var R=!0,M=!1,E=void 0;try{for(var L,k=function(){var I=L.value,P=I.predicates.slice(),i=U.modelManager.filterItemsWithPredicates(v,P),u=function(){I.createBlock&&(I.pendingCreateBlockCallback=!0,I.createBlock(function(ee){I.singleton=ee,I.pendingCreateBlockCallback=!1,I.resolutionCallback&&I.resolutionCallback(ee)}))},f=U.modelManager.filterItemsWithPredicates(h,P).length;if(i.length>0||f>0){var l=U.modelManager.itemsMatchingPredicates(P);if(l.length>=2){var p=l.sort(function(ee,pe){return ee.errorDecrypting?1:pe.errorDecrypting||ee.created_at<pe.created_at?-1:1}),g=p[0],j=p.slice(1,p.length),q=!0,B=!1,X=void 0;try{for(var H,$=j[Symbol.iterator]();!(q=(H=$.next()).done);q=!0){var w=H.value;U.modelManager.setItemToBeDeleted(w)}}catch(ee){B=!0,X=ee}finally{try{q||$.return==null||$.return()}finally{if(B)throw X}}U.syncManager.sync(),I.singleton=g,I.resolutionCallback&&I.resolutionCallback(g)}else if(l.length==1){var O=l[0];O.errorDecrypting?(U.modelManager.setItemToBeDeleted(O),u()):I.singleton&&I.singleton===O||(I.singleton=O,I.resolutionCallback&&I.resolutionCallback(O))}}else I.singleton||y||I.pendingCreateBlockCallback||u()},N=this.singletonHandlers[Symbol.iterator]();!(R=(L=N.next()).done);R=!0)k()}catch(I){M=!0,E=I}finally{try{R||N.return==null||N.return()}finally{if(M)throw E}}}}]),c}();d.SFSingletonManager=ie;var he=function(){function c(){Fe(this,c)}var v,h,y,U,R,M,E,L,k,N;return ze(c,[{key:"setItem",value:(N=A(regeneratorRuntime.mark(function I(P,i){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:case"end":return u.stop()}},I)})),function(I,P){return N.apply(this,arguments)})},{key:"getItem",value:(k=A(regeneratorRuntime.mark(function I(P){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}},I)})),function(I){return k.apply(this,arguments)})},{key:"removeItem",value:(L=A(regeneratorRuntime.mark(function I(P){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}},I)})),function(I){return L.apply(this,arguments)})},{key:"clear",value:(E=A(regeneratorRuntime.mark(function I(){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:case"end":return P.stop()}},I)})),function(){return E.apply(this,arguments)})},{key:"getAllModels",value:(M=A(regeneratorRuntime.mark(function I(){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:case"end":return P.stop()}},I)})),function(){return M.apply(this,arguments)})},{key:"saveModel",value:(R=A(regeneratorRuntime.mark(function I(P){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.saveModels([P]));case 1:case"end":return i.stop()}},I,this)})),function(I){return R.apply(this,arguments)})},{key:"saveModels",value:(U=A(regeneratorRuntime.mark(function I(P){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}},I)})),function(I){return U.apply(this,arguments)})},{key:"deleteModel",value:(y=A(regeneratorRuntime.mark(function I(P){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}},I)})),function(I){return y.apply(this,arguments)})},{key:"clearAllModels",value:(h=A(regeneratorRuntime.mark(function I(){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:case"end":return P.stop()}},I)})),function(){return h.apply(this,arguments)})},{key:"clearAllData",value:(v=A(regeneratorRuntime.mark(function I(){return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Promise.all([this.clear(),this.clearAllModels()]));case 1:case"end":return P.stop()}},I,this)})),function(){return v.apply(this,arguments)})}]),c}();d.SFStorageManager=he;var Ie,ne=function(){function c($,w,O,ee,pe){Fe(this,c),c.KeyRequestLoadLocal="KeyRequestLoadLocal",c.KeyRequestSaveLocal="KeyRequestSaveLocal",c.KeyRequestLoadSaveAccount="KeyRequestLoadSaveAccount",this.httpManager=O,this.modelManager=$,this.storageManager=w,this.$interval=pe||setInterval.bind(window),this.$timeout=ee||setTimeout.bind(window),this.syncStatus={},this.syncStatusObservers=[],this.eventHandlers=[],this.PerSyncItemUploadLimit=150,this.ServerItemDownloadLimit=150,this.MajorDataChangeThreshold=15,this.MaxDiscordanceBeforeOutOfSync=5,this.syncDiscordance=0,this.outOfSync=!1}var v,h,y,U,R,M,E,L,k,N,I,P,i,u,f,l,p,g,j,q,B,X,H;return ze(c,[{key:"handleServerIntegrityHash",value:(H=A(regeneratorRuntime.mark(function $(w){var O;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(w&&w.length!=0){ee.next=2;break}return ee.abrupt("return",!0);case 2:return ee.next=4,this.modelManager.computeDataIntegrityHash();case 4:if(O=ee.sent){ee.next=7;break}return ee.abrupt("return",!0);case 7:if(O===w){ee.next=13;break}return this.syncDiscordance++,this.syncDiscordance>=this.MaxDiscordanceBeforeOutOfSync&&(this.outOfSync||(this.outOfSync=!0,this.notifyEvent("enter-out-of-sync"))),ee.abrupt("return",!1);case 13:return this.outOfSync&&(this.outOfSync=!1,this.notifyEvent("exit-out-of-sync")),this.syncDiscordance=0,ee.abrupt("return",!0);case 16:case"end":return ee.stop()}},$,this)})),function($){return H.apply(this,arguments)})},{key:"isOutOfSync",value:function(){return this.outOfSync}},{key:"getServerURL",value:(X=A(regeneratorRuntime.mark(function $(){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.storageManager.getItem("server");case 2:if(w.t0=w.sent,w.t0){w.next=5;break}w.t0=window._default_sf_server;case 5:return w.abrupt("return",w.t0);case 6:case"end":return w.stop()}},$,this)})),function(){return X.apply(this,arguments)})},{key:"getSyncURL",value:(B=A(regeneratorRuntime.mark(function $(){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.getServerURL();case 2:return w.t0=w.sent,w.abrupt("return",w.t0+"/items/sync");case 4:case"end":return w.stop()}},$,this)})),function(){return B.apply(this,arguments)})},{key:"registerSyncStatusObserver",value:function($){var w={key:new Date,callback:$};return this.syncStatusObservers.push(w),w}},{key:"removeSyncStatusObserver",value:function($){_.pull(this.syncStatusObservers,$)}},{key:"syncStatusDidChange",value:function(){var $=this;this.syncStatusObservers.forEach(function(w){w.callback($.syncStatus)})}},{key:"addEventHandler",value:function($){return this.eventHandlers.push($),$}},{key:"removeEventHandler",value:function($){_.pull(this.eventHandlers,$)}},{key:"notifyEvent",value:function($,w){var O=!0,ee=!1,pe=void 0;try{for(var Se,oe=this.eventHandlers[Symbol.iterator]();!(O=(Se=oe.next()).done);O=!0)(0,Se.value)($,w||{})}catch(Y){ee=!0,pe=Y}finally{try{O||oe.return==null||oe.return()}finally{if(ee)throw pe}}}},{key:"setKeyRequestHandler",value:function($){this.keyRequestHandler=$}},{key:"getActiveKeyInfo",value:(q=A(regeneratorRuntime.mark(function $(w){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",this.keyRequestHandler(w));case 1:case"end":return O.stop()}},$,this)})),function($){return q.apply(this,arguments)})},{key:"initialDataLoaded",value:function(){return this._initialDataLoaded===!0}},{key:"_sortLocalItems",value:function($){var w=this;return $.sort(function(O,ee){var pe=new Date(ee.updated_at)-new Date(O.updated_at),Se=w.contentTypeLoadPriority,oe=0,Y=0;return Se&&(oe=Se.indexOf(O.content_type),Y=Se.indexOf(ee.content_type),oe==-1&&(oe=Se.length),Y==-1&&(Y=Se.length)),oe==Y?pe:oe<Y?-1:1})}},{key:"loadLocalItems",value:(j=A(regeneratorRuntime.mark(function $(){var w,O,ee,pe,Se,oe=this,Y=arguments;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(w=Y.length>0&&Y[0]!==void 0?Y[0]:{},O=w.incrementalCallback,ee=w.batchSize,!(pe=w.options)||!pe.simulateHighLatency){Q.next=5;break}return Se=pe.simulatedLatency||1e3,Q.next=5,this._awaitSleep(Se);case 5:if(!this.loadLocalDataPromise){Q.next=7;break}return Q.abrupt("return",this.loadLocalDataPromise);case 7:return ee||(ee=100),this.loadLocalDataPromise=this.storageManager.getAllModels().then(function(ue){var je=(ue=(ue=oe._sortLocalItems(ue)).filter(function(Oe){var ye=oe.modelManager.findItem(Oe.uuid);return!ye||new Date(Oe.dirtiedDate)>ye.dirtiedDate})).length,De=0,Re=function(){var Oe=A(regeneratorRuntime.mark(function ye(){var $e;return regeneratorRuntime.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return $e=ue.slice(De,De+ee),et.next=3,oe.handleItemsResponse($e,null,Ke.MappingSourceLocalRetrieved,c.KeyRequestLoadLocal);case 3:if(et.sent,!((De+=$e.length)<je)){et.next=10;break}return et.abrupt("return",new Promise(function(ct,Le){oe.$timeout(function(){oe.notifyEvent("local-data-incremental-load"),O&&O(De,je),Re().then(ct)})}));case 10:oe._initialDataLoaded=!0,oe.notifyEvent("local-data-loaded");case 12:case"end":return et.stop()}},ye)}));return function(){return Oe.apply(this,arguments)}}();return Re()}),Q.abrupt("return",this.loadLocalDataPromise);case 10:case"end":return Q.stop()}},$,this)})),function(){return j.apply(this,arguments)})},{key:"writeItemsToLocalStorage",value:(g=A(regeneratorRuntime.mark(function $(w,O){var ee=this;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(w.length!=0){pe.next=2;break}return pe.abrupt("return");case 2:return pe.abrupt("return",new Promise(function(){var Se=A(regeneratorRuntime.mark(function oe(Y,Q){var ue,je,De,Re,Oe,ye,$e,et,ct,Le;return regeneratorRuntime.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:for(ue=[],je=[],De=!0,Re=!1,Oe=void 0,Ge.prev=4,ye=w[Symbol.iterator]();!(De=($e=ye.next()).done);De=!0)(et=$e.value).deleted!==!0||et.dirty?ue.push(et):je.push(et);Ge.next=12;break;case 8:Ge.prev=8,Ge.t0=Ge.catch(4),Re=!0,Oe=Ge.t0;case 12:Ge.prev=12,Ge.prev=13,De||ye.return==null||ye.return();case 15:if(Ge.prev=15,!Re){Ge.next=18;break}throw Oe;case 18:return Ge.finish(15);case 19:return Ge.finish(12);case 20:if(!(je.length>0)){Ge.next=23;break}return Ge.next=23,Promise.all(je.map(function(){var st=A(regeneratorRuntime.mark(function qe(rt){return regeneratorRuntime.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.abrupt("return",ee.storageManager.deleteModel(rt));case 1:case"end":return Ne.stop()}},qe)}));return function(qe){return st.apply(this,arguments)}}()));case 23:return Ge.next=25,ee.getActiveKeyInfo(c.KeyRequestSaveLocal);case 25:if(ct=Ge.sent,!(ue.length>0)){Ge.next=33;break}return Ge.next=29,Promise.all(ue.map(function(){var st=A(regeneratorRuntime.mark(function qe(rt){var Ne;return regeneratorRuntime.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return Ne=new ce(rt,ct.keys,ct.auth_params),it.next=3,Ne.paramsForLocalStorage();case 3:return Ne=it.sent,O&&delete Ne.dirty,it.abrupt("return",Ne);case 6:case"end":return it.stop()}},qe)}));return function(qe){return st.apply(this,arguments)}}())).catch(function(st){return Q(st)});case 29:return Le=Ge.sent,Ge.next=32,ee.storageManager.saveModels(Le).catch(function(st){console.error("Error writing items",st),ee.syncStatus.localError=st,ee.syncStatusDidChange(),Q()});case 32:ee.syncStatus.localError&&(ee.syncStatus.localError=null,ee.syncStatusDidChange());case 33:Y();case 34:case"end":return Ge.stop()}},oe,null,[[4,8,12,20],[13,,15,19]])}));return function(oe,Y){return Se.apply(this,arguments)}}()));case 3:case"end":return pe.stop()}},$)})),function($,w){return g.apply(this,arguments)})},{key:"syncOffline",value:(p=A(regeneratorRuntime.mark(function $(w){var O,ee,pe,Se,oe,Y=this;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:for(O=!0,ee=!1,pe=void 0,Q.prev=3,Se=w[Symbol.iterator]();!(O=(oe=Se.next()).done);O=!0)oe.value.updated_at=new Date;Q.next=11;break;case 7:Q.prev=7,Q.t0=Q.catch(3),ee=!0,pe=Q.t0;case 11:Q.prev=11,Q.prev=12,O||Se.return==null||Se.return();case 14:if(Q.prev=14,!ee){Q.next=17;break}throw pe;case 17:return Q.finish(14);case 18:return Q.finish(11);case 19:return Q.abrupt("return",this.writeItemsToLocalStorage(w,!0).then(function(ue){var je=!0,De=!1,Re=void 0;try{for(var Oe,ye=w[Symbol.iterator]();!(je=(Oe=ye.next()).done);je=!0){var $e=Oe.value;$e.deleted&&Y.modelManager.removeItemLocally($e)}}catch(et){De=!0,Re=et}finally{try{je||ye.return==null||ye.return()}finally{if(De)throw Re}}return Y.modelManager.clearDirtyItems(w),Y.modelManager.didSyncModelsOffline(w),Y.notifyEvent("sync:completed",{savedItems:w}),{saved_items:w}}));case 20:case"end":return Q.stop()}},$,this,[[3,7,11,19],[12,,14,18]])})),function($){return p.apply(this,arguments)})},{key:"markAllItemsDirtyAndSaveOffline",value:(l=A(regeneratorRuntime.mark(function $(w){var O,ee,pe,Se,oe,Y,Q,ue,je,De,Re,Oe,ye;return regeneratorRuntime.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(!w){$e.next=28;break}O=this.modelManager.allNondummyItems.filter(function(et){return!et.errorDecrypting}).slice(),ee=!0,pe=!1,Se=void 0,$e.prev=5,oe=O[Symbol.iterator]();case 7:if(ee=(Y=oe.next()).done){$e.next=14;break}return Q=Y.value,$e.next=11,this.modelManager.alternateUUIDForItem(Q);case 11:ee=!0,$e.next=7;break;case 14:$e.next=20;break;case 16:$e.prev=16,$e.t0=$e.catch(5),pe=!0,Se=$e.t0;case 20:$e.prev=20,$e.prev=21,ee||oe.return==null||oe.return();case 23:if($e.prev=23,!pe){$e.next=26;break}throw Se;case 26:return $e.finish(23);case 27:return $e.finish(20);case 28:for(ue=this.modelManager.allNondummyItems,je=!0,De=!1,Re=void 0,$e.prev=32,Oe=ue[Symbol.iterator]();!(je=(ye=Oe.next()).done);je=!0)ye.value.setDirty(!0);$e.next=40;break;case 36:$e.prev=36,$e.t1=$e.catch(32),De=!0,Re=$e.t1;case 40:$e.prev=40,$e.prev=41,je||Oe.return==null||Oe.return();case 43:if($e.prev=43,!De){$e.next=46;break}throw Re;case 46:return $e.finish(43);case 47:return $e.finish(40);case 48:return $e.abrupt("return",this.writeItemsToLocalStorage(ue,!1));case 49:case"end":return $e.stop()}},$,this,[[5,16,20,28],[21,,23,27],[32,36,40,48],[41,,43,47]])})),function($){return l.apply(this,arguments)})},{key:"setSyncToken",value:(f=A(regeneratorRuntime.mark(function $(w){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return this._syncToken=w,O.next=3,this.storageManager.setItem("syncToken",w);case 3:case"end":return O.stop()}},$,this)})),function($){return f.apply(this,arguments)})},{key:"getSyncToken",value:(u=A(regeneratorRuntime.mark(function $(){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(this._syncToken){w.next=4;break}return w.next=3,this.storageManager.getItem("syncToken");case 3:this._syncToken=w.sent;case 4:return w.abrupt("return",this._syncToken);case 5:case"end":return w.stop()}},$,this)})),function(){return u.apply(this,arguments)})},{key:"setCursorToken",value:(i=A(regeneratorRuntime.mark(function $(w){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(this._cursorToken=w,!w){O.next=6;break}return O.next=4,this.storageManager.setItem("cursorToken",w);case 4:O.next=8;break;case 6:return O.next=8,this.storageManager.removeItem("cursorToken");case 8:case"end":return O.stop()}},$,this)})),function($){return i.apply(this,arguments)})},{key:"getCursorToken",value:(P=A(regeneratorRuntime.mark(function $(){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(this._cursorToken){w.next=4;break}return w.next=3,this.storageManager.getItem("cursorToken");case 3:this._cursorToken=w.sent;case 4:return w.abrupt("return",this._cursorToken);case 5:case"end":return w.stop()}},$,this)})),function(){return P.apply(this,arguments)})},{key:"clearQueuedCallbacks",value:function(){this._queuedCallbacks=[]}},{key:"callQueuedCallbacks",value:function($){var w=this.queuedCallbacks;if(w.length){var O=!0,ee=!1,pe=void 0;try{for(var Se,oe=w[Symbol.iterator]();!(O=(Se=oe.next()).done);O=!0)(0,Se.value)($)}catch(Y){ee=!0,pe=Y}finally{try{O||oe.return==null||oe.return()}finally{if(ee)throw pe}}this.clearQueuedCallbacks()}}},{key:"beginCheckingIfSyncIsTakingTooLong",value:function(){this.syncStatus.checker&&this.stopCheckingIfSyncIsTakingTooLong(),this.syncStatus.checker=this.$interval(function(){(new Date-this.syncStatus.syncStart)/1e3>5&&(this.notifyEvent("sync:taking-too-long"),this.stopCheckingIfSyncIsTakingTooLong())}.bind(this),500)}},{key:"stopCheckingIfSyncIsTakingTooLong",value:function(){this.$interval.hasOwnProperty("cancel")?this.$interval.cancel(this.syncStatus.checker):clearInterval(this.syncStatus.checker),this.syncStatus.checker=null}},{key:"lockSyncing",value:function(){this.syncLocked=!0}},{key:"unlockSyncing",value:function(){this.syncLocked=!1}},{key:"sync",value:(I=A(regeneratorRuntime.mark(function $(){var w,O=this,ee=arguments;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(w=ee.length>0&&ee[0]!==void 0?ee[0]:{},!this.syncLocked){pe.next=4;break}return console.log("Sync Locked, Returning;"),pe.abrupt("return");case 4:return pe.abrupt("return",new Promise(function(){var Se=A(regeneratorRuntime.mark(function oe(Y,Q){var ue,je,De,Re,Oe,ye,$e,et,ct,Le,Ge,st,qe,rt;return regeneratorRuntime.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return w||(w={}),ue=O.modelManager.getDirtyItems(),je=ue.filter(function(it){return!O.lastDirtyItemsSave||it.dirtiedDate>O.lastDirtyItemsSave}),Ne.next=5,O.getActiveKeyInfo(c.KeyRequestLoadSaveAccount);case 5:if(De=Ne.sent,Re=O.syncStatus.syncOpInProgress,Oe=O.initialDataLoaded(),!Re&&Oe){Ne.next=16;break}return O.performSyncAgainOnCompletion=!0,O.lastDirtyItemsSave=new Date,Ne.next=13,O.writeItemsToLocalStorage(je,!1);case 13:return Re&&(O.queuedCallbacks.push(Y),O.loggingEnabled&&console.warn("Attempting to sync while existing sync is in progress.")),Oe||(O.loggingEnabled&&console.warn("(1) Attempting to perform online sync before local data has loaded"),Y()),Ne.abrupt("return");case 16:if(O.syncStatus.syncOpInProgress=!0,!De.offline){Ne.next=19;break}return Ne.abrupt("return",O.syncOffline(ue).then(function(it){O.syncStatus.syncOpInProgress=!1,Y(it)}).catch(function(it){O.notifyEvent("sync-exception",it)}));case 19:if(O.initialDataLoaded()){Ne.next=22;break}return console.error("Attempting to perform online sync before local data has loaded"),Ne.abrupt("return");case 22:return O.loggingEnabled&&console.log("Syncing online user."),ye=O.syncStatus.needsMoreSync,O.syncStatus.syncStart=new Date,O.beginCheckingIfSyncIsTakingTooLong(),$e=O.PerSyncItemUploadLimit,(et=ue.slice(0,$e)).length<ue.length?O.syncStatus.needsMoreSync=!0:O.syncStatus.needsMoreSync=!1,ye||(O.syncStatus.total=ue.length,O.syncStatus.current=0),O.syncStatus.current>O.syncStatus.total&&(O.syncStatus.total=O.syncStatus.current),O.syncStatusDidChange(),Ne.next=34,O.writeItemsToLocalStorage(je,!1);case 34:return O.lastDirtyItemsSave=new Date,w.onPreSyncSave&&w.onPreSyncSave(),O.allRetreivedItems||(O.allRetreivedItems=[]),O.allSavedItems||(O.allSavedItems=[]),(ct={}).limit=O.ServerItemDownloadLimit,w.performIntegrityCheck&&(ct.compute_integrity=!0),Ne.prev=41,Ne.next=44,Promise.all(et.map(function(it){var yt=new ce(it,De.keys,De.auth_params);return yt.additionalFields=w.additionalFields,yt.paramsForSync()})).then(function(it){ct.items=it});case 44:Ne.next=49;break;case 46:Ne.prev=46,Ne.t0=Ne.catch(41),O.notifyEvent("sync-exception",Ne.t0);case 49:for(Le=!0,Ge=!1,st=void 0,Ne.prev=52,qe=et[Symbol.iterator]();!(Le=(rt=qe.next()).done);Le=!0)rt.value.dirtyCount=0;Ne.next=60;break;case 56:Ne.prev=56,Ne.t1=Ne.catch(52),Ge=!0,st=Ne.t1;case 60:Ne.prev=60,Ne.prev=61,Le||qe.return==null||qe.return();case 63:if(Ne.prev=63,!Ge){Ne.next=66;break}throw st;case 66:return Ne.finish(63);case 67:return Ne.finish(60);case 68:return Ne.next=70,O.getSyncToken();case 70:return ct.sync_token=Ne.sent,Ne.next=73,O.getCursorToken();case 73:return ct.cursor_token=Ne.sent,ct.api=Ee.getApiVersion(),O.loggingEnabled&&console.log("Syncing with params",ct),Ne.prev=76,Ne.t2=O.httpManager,Ne.next=80,O.getSyncURL();case 80:Ne.t3=Ne.sent,Ne.t4=ct,Ne.t5=function(it){O.handleSyncSuccess(et,it,w).then(function(){Y(it)}).catch(function(yt){console.log("Caught sync success exception:",yt),O.handleSyncError(yt,null,ue).then(function(Ot){O.notifyEvent("sync-exception",yt),Y(Ot)})})},Ne.t6=function(it,yt){O.handleSyncError(it,yt,ue).then(function(Ot){Y(Ot)})},Ne.t2.postAuthenticatedAbsolute.call(Ne.t2,Ne.t3,Ne.t4,Ne.t5,Ne.t6),Ne.next=90;break;case 87:Ne.prev=87,Ne.t7=Ne.catch(76),console.log("Sync exception caught:",Ne.t7);case 90:case"end":return Ne.stop()}},oe,null,[[41,46],[52,56,60,68],[61,,63,67],[76,87]])}));return function(oe,Y){return Se.apply(this,arguments)}}()));case 5:case"end":return pe.stop()}},$,this)})),function(){return I.apply(this,arguments)})},{key:"_awaitSleep",value:(N=A(regeneratorRuntime.mark(function $(w){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return console.warn("Simulating high latency sync request",w),O.abrupt("return",new Promise(function(ee,pe){setTimeout(function(){ee()},w)}));case 2:case"end":return O.stop()}},$)})),function($){return N.apply(this,arguments)})},{key:"handleSyncSuccess",value:(k=A(regeneratorRuntime.mark(function $(w,O,ee){var pe,Se,oe,Y,Q,ue,je,De,Re,Oe,ye,$e,et,ct,Le,Ge,st=this;return regeneratorRuntime.wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!ee.simulateHighLatency){qe.next=4;break}return pe=ee.simulatedLatency||1e3,qe.next=4,this._awaitSleep(pe);case 4:for(this.syncStatus.error=null,this.loggingEnabled&&console.log("Sync response",O),Se=this.allSavedItems.map(function(rt){return rt.uuid}),oe=O.saved_items.map(function(rt){return rt.uuid}),O.retrieved_items=O.retrieved_items.filter(function(rt){var Ne=Se.includes(rt.uuid),it=oe.includes(rt.uuid);if(Ne||it)return!1;var yt=st.modelManager.findItem(rt.uuid);return!yt||!yt.dirty}),Y=[],Q=!0,ue=!1,je=void 0,qe.prev=13,De=w[Symbol.iterator]();!(Q=(Re=De.next()).done);Q=!0)(Oe=Re.value).dirtyCount==0&&Y.push(Oe);qe.next=21;break;case 17:qe.prev=17,qe.t0=qe.catch(13),ue=!0,je=qe.t0;case 21:qe.prev=21,qe.prev=22,Q||De.return==null||De.return();case 24:if(qe.prev=24,!ue){qe.next=27;break}throw je;case 27:return qe.finish(24);case 28:return qe.finish(21);case 29:return this.modelManager.clearDirtyItems(Y),qe.next=32,this.handleItemsResponse(O.retrieved_items,null,Ke.MappingSourceRemoteRetrieved,c.KeyRequestLoadSaveAccount);case 32:return ye=qe.sent,this.allRetreivedItems=this.allRetreivedItems.concat(ye),this.syncStatus.retrievedCount=this.allRetreivedItems.length,$e=["content","auth_hash"],qe.next=38,this.handleItemsResponse(O.saved_items,$e,Ke.MappingSourceRemoteSaved,c.KeyRequestLoadSaveAccount);case 38:return et=qe.sent,this.allSavedItems=this.allSavedItems.concat(et),ct=O.unsaved,qe.next=43,this.deprecated_handleUnsavedItemsResponse(ct);case 43:return qe.next=45,this.handleConflictsResponse(O.conflicts);case 45:if(Le=qe.sent,Ge=Le&&Le.length>0,!Le){qe.next=50;break}return qe.next=50,this.writeItemsToLocalStorage(Le,!1);case 50:return qe.next=52,this.writeItemsToLocalStorage(et,!1);case 52:return qe.next=54,this.writeItemsToLocalStorage(ye,!1);case 54:if(!O.integrity_hash||O.cursor_token){qe.next=59;break}return qe.next=57,this.handleServerIntegrityHash(O.integrity_hash);case 57:qe.sent||this.syncDiscordance<this.MaxDiscordanceBeforeOutOfSync&&(this.performSyncAgainOnCompletion=!0);case 59:return this.syncStatus.syncOpInProgress=!1,this.syncStatus.current+=w.length,this.syncStatusDidChange(),this.setSyncToken(O.sync_token),this.setCursorToken(O.cursor_token),this.stopCheckingIfSyncIsTakingTooLong(),qe.next=67,this.getCursorToken();case 67:if(!qe.sent&&!this.syncStatus.needsMoreSync){qe.next=72;break}return qe.abrupt("return",new Promise(function(rt,Ne){setTimeout(function(){this.sync(ee).then(rt)}.bind(st),10)}));case 72:if(!Ge){qe.next=77;break}return this.performSyncAgainOnCompletion=!1,qe.abrupt("return",new Promise(function(rt,Ne){setTimeout(function(){st.sync(ee).then(rt)},10)}));case 77:return this.syncStatus.retrievedCount=0,this.syncStatus.current=0,this.syncStatus.total=0,this.syncStatusDidChange(),(this.allRetreivedItems.length>=this.majorDataChangeThreshold||et.length>=this.majorDataChangeThreshold||ct&&ct.length>=this.majorDataChangeThreshold||Le&&Le.length>=this.majorDataChangeThreshold)&&this.notifyEvent("major-data-change"),this.callQueuedCallbacks(O),this.notifyEvent("sync:completed",{retrievedItems:this.allRetreivedItems,savedItems:this.allSavedItems}),this.allRetreivedItems=[],this.allSavedItems=[],this.performSyncAgainOnCompletion&&(this.performSyncAgainOnCompletion=!1,setTimeout(function(){st.sync(ee)},10)),qe.abrupt("return",O);case 88:case"end":return qe.stop()}},$,this,[[13,17,21,29],[22,,24,28]])})),function($,w,O){return k.apply(this,arguments)})},{key:"handleSyncError",value:(L=A(regeneratorRuntime.mark(function $(w,O,ee){return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return console.log("Sync error: ",w),O==401&&this.notifyEvent("sync-session-invalid"),w?typeof w=="string"&&(w={error:{message:w}}):w={error:{message:"Could not connect to server."}},this.syncStatus.syncOpInProgress=!1,this.syncStatus.error=w.error,this.syncStatusDidChange(),this.writeItemsToLocalStorage(ee,!1),this.modelManager.didSyncModelsOffline(ee),this.stopCheckingIfSyncIsTakingTooLong(),this.notifyEvent("sync:error",w.error),this.callQueuedCallbacks({error:"Sync error"}),pe.abrupt("return",w);case 12:case"end":return pe.stop()}},$,this)})),function($,w,O){return L.apply(this,arguments)})},{key:"handleItemsResponse",value:(E=A(regeneratorRuntime.mark(function $(w,O,ee,pe){var Se,oe,Y;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,this.getActiveKeyInfo(pe);case 2:return Se=Q.sent.keys,Q.next=5,SFJS.itemTransformer.decryptMultipleItems(w,Se);case 5:return Q.next=7,this.modelManager.mapResponseItemsToLocalModelsOmittingFields(w,O,ee);case 7:return oe=Q.sent,(Y=oe.filter(function(ue){var je=ue.errorDecryptingValueChanged;return ue.errorDecryptingValueChanged=!1,je})).length>0&&this.writeItemsToLocalStorage(Y,!1),Q.abrupt("return",oe);case 11:case"end":return Q.stop()}},$,this)})),function($,w,O,ee){return E.apply(this,arguments)})},{key:"refreshErroredItems",value:(M=A(regeneratorRuntime.mark(function $(){var w;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!((w=this.modelManager.allNondummyItems.filter(function(ee){return ee.errorDecrypting==1})).length>0)){O.next=3;break}return O.abrupt("return",this.handleItemsResponse(w,null,Ke.MappingSourceLocalRetrieved,c.KeyRequestLoadSaveAccount));case 3:case"end":return O.stop()}},$,this)})),function(){return M.apply(this,arguments)})},{key:"handleConflictsResponse",value:(R=A(regeneratorRuntime.mark(function $(w){var O,ee,pe,Se,oe,Y,Q,ue,je,De,Re,Oe,ye,$e,et,ct,Le,Ge,st,qe,rt,Ne,it,yt,Ot,Dt,Ft,Je,Me,Ct,Gt;return regeneratorRuntime.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(w&&w.length!=0){Ue.next=2;break}return Ue.abrupt("return");case 2:this.loggingEnabled&&console.log("Handle Conflicted Items:",w),O={},ee=!0,pe=!1,Se=void 0,Ue.prev=7,oe=w[Symbol.iterator]();case 9:if(ee=(Y=oe.next()).done){Ue.next=21;break}if(Q=Y.value,ue=Q.server_item||Q.unsaved_item,je=this.modelManager.findItem(ue.uuid)){Ue.next=16;break}return O[ue.uuid]={},Ue.abrupt("continue",18);case 16:De=je.getContentCopy(),O[ue.uuid]={frozenContent:De,itemRef:je};case 18:ee=!0,Ue.next=9;break;case 21:Ue.next=27;break;case 23:Ue.prev=23,Ue.t0=Ue.catch(7),pe=!0,Se=Ue.t0;case 27:Ue.prev=27,Ue.prev=28,ee||oe.return==null||oe.return();case 30:if(Ue.prev=30,!pe){Ue.next=33;break}throw Se;case 33:return Ue.finish(30);case 34:return Ue.finish(27);case 35:Re=[],Oe=!0,ye=!1,$e=void 0,Ue.prev=39,et=w[Symbol.iterator]();case 41:if(Oe=(ct=et.next()).done){Ue.next=91;break}return Le=ct.value,Ge=Le.server_item||Le.unsaved_item,Ue.t1=SFJS.itemTransformer,Ue.t2=[Ge],Ue.next=48,this.getActiveKeyInfo(c.KeyRequestLoadSaveAccount);case 48:return Ue.t3=Ue.sent.keys,Ue.next=51,Ue.t1.decryptMultipleItems.call(Ue.t1,Ue.t2,Ue.t3);case 51:if(st=O[Ge.uuid],qe=st.frozenContent,rt=st.itemRef){Ue.next=54;break}return Ue.abrupt("continue",88);case 54:if(Re.push(rt),Le.type!=="uuid_conflict"){Ue.next=62;break}return Ue.next=58,this.modelManager.alternateUUIDForItem(rt);case 58:Ne=Ue.sent,Re.push(Ne),Ue.next=88;break;case 62:if(Le.type!=="sync_conflict"){Ue.next=86;break}return Ue.next=65,this.modelManager.createDuplicateItemFromResponseItem(Ge);case 65:if(it=Ue.sent,yt=this.modelManager.duplicateItemWithCustomContent({content:qe,duplicateOf:rt}),Ot=!yt.isItemContentEqualWith(it),Dt=!rt.isItemContentEqualWith(it),Ft=!1,Je=!1,Me=!1,Ct=!1,Ge.deleted||rt.deleted?Ct=!0:Ot?(new Date-rt.client_updated_at)/1e3<20?(Me=!0,Je=!0):(Ft=!0,Ct=!0):Dt?se.AreItemContentsEqual({leftContent:rt.content,rightContent:it.content,keysToIgnore:rt.keysToIgnoreWhenCheckingContentEquality().concat(["references"]),appDataKeysToIgnore:rt.appDataKeysToIgnoreWhenCheckingContentEquality()})?Me=!0:(Ft=!0,Ct=!0):Ct=!0,!Ft){Ue.next=79;break}return Ue.next=77,this.modelManager.duplicateItemWithCustomContentAndAddAsConflict({content:qe,duplicateOf:rt});case 77:Gt=Ue.sent,Re.push(Gt);case 79:if(Je&&(this.modelManager.addDuplicatedItemAsConflict({duplicate:it,duplicateOf:rt}),Re.push(it)),!Ct){Ue.next=83;break}return Ue.next=83,this.modelManager.mapResponseItemsToLocalModelsOmittingFields([Ge],null,Ke.MappingSourceRemoteRetrieved);case 83:Me&&(rt.updated_at=it.updated_at,rt.setDirty(!0)),Ue.next=88;break;case 86:return console.error("Unsupported conflict type",Le.type),Ue.abrupt("continue",88);case 88:Oe=!0,Ue.next=41;break;case 91:Ue.next=97;break;case 93:Ue.prev=93,Ue.t4=Ue.catch(39),ye=!0,$e=Ue.t4;case 97:Ue.prev=97,Ue.prev=98,Oe||et.return==null||et.return();case 100:if(Ue.prev=100,!ye){Ue.next=103;break}throw $e;case 103:return Ue.finish(100);case 104:return Ue.finish(97);case 105:return Ue.abrupt("return",Re);case 106:case"end":return Ue.stop()}},$,this,[[7,23,27,35],[28,,30,34],[39,93,97,105],[98,,100,104]])})),function($){return R.apply(this,arguments)})},{key:"deprecated_handleUnsavedItemsResponse",value:(U=A(regeneratorRuntime.mark(function $(w){var O,ee,pe,Se,oe,Y,Q,ue,je,De;return regeneratorRuntime.wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(w&&w.length!=0){Re.next=2;break}return Re.abrupt("return");case 2:this.loggingEnabled&&console.log("Handle Unsaved Items:",w),O=!0,ee=!1,pe=void 0,Re.prev=6,Se=w[Symbol.iterator]();case 8:if(O=(oe=Se.next()).done){Re.next=35;break}return Y=oe.value,Q=Y.item,Re.t0=SFJS.itemTransformer,Re.t1=[Q],Re.next=15,this.getActiveKeyInfo(c.KeyRequestLoadSaveAccount);case 15:return Re.t2=Re.sent.keys,Re.next=18,Re.t0.decryptMultipleItems.call(Re.t0,Re.t1,Re.t2);case 18:if(ue=this.modelManager.findItem(Q.uuid)){Re.next=21;break}return Re.abrupt("continue",32);case 21:if((je=Y.error).tag!=="uuid_conflict"){Re.next=27;break}return Re.next=25,this.modelManager.alternateUUIDForItem(ue);case 25:Re.next=32;break;case 27:if(je.tag!=="sync_conflict"){Re.next=32;break}return Re.next=30,this.modelManager.createDuplicateItemFromResponseItem(Q);case 30:De=Re.sent,Q.deleted||ue.isItemContentEqualWith(De)||this.modelManager.addDuplicatedItemAsConflict({duplicate:De,duplicateOf:ue});case 32:O=!0,Re.next=8;break;case 35:Re.next=41;break;case 37:Re.prev=37,Re.t3=Re.catch(6),ee=!0,pe=Re.t3;case 41:Re.prev=41,Re.prev=42,O||Se.return==null||Se.return();case 44:if(Re.prev=44,!ee){Re.next=47;break}throw pe;case 47:return Re.finish(44);case 48:return Re.finish(41);case 49:case"end":return Re.stop()}},$,this,[[6,37,41,49],[42,,44,48]])})),function($){return U.apply(this,arguments)})},{key:"stateless_downloadAllItems",value:function(){var $=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(){var O=A(regeneratorRuntime.mark(function ee(pe,Se){var oe;return regeneratorRuntime.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return oe={limit:w.limit||500,sync_token:w.syncToken,cursor_token:w.cursorToken,content_type:w.contentType,event:w.event,api:Ee.getApiVersion()},Y.prev=1,Y.t0=$.httpManager,Y.next=5,$.getSyncURL();case 5:Y.t1=Y.sent,Y.t2=oe,Y.t3=function(){var Q=A(regeneratorRuntime.mark(function ue(je){var De,Re;return regeneratorRuntime.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return w.retrievedItems||(w.retrievedItems=[]),De=je.retrieved_items,Oe.next=4,$.getActiveKeyInfo(c.KeyRequestLoadSaveAccount);case 4:return Re=Oe.sent.keys,Oe.next=7,SFJS.itemTransformer.decryptMultipleItems(De,Re);case 7:w.retrievedItems=w.retrievedItems.concat(De.map(function(ye){return $.modelManager.createItem(ye)})),w.syncToken=je.sync_token,w.cursorToken=je.cursor_token,w.cursorToken?$.stateless_downloadAllItems(w).then(pe):pe(w.retrievedItems);case 11:case"end":return Oe.stop()}},ue)}));return function(ue){return Q.apply(this,arguments)}}(),Y.t4=function(Q,ue){Se(Q)},Y.t0.postAuthenticatedAbsolute.call(Y.t0,Y.t1,Y.t2,Y.t3,Y.t4),Y.next=16;break;case 12:Y.prev=12,Y.t5=Y.catch(1),console.log("Download all items exception caught:",Y.t5),Se(Y.t5);case 16:case"end":return Y.stop()}},ee,null,[[1,12]])}));return function(ee,pe){return O.apply(this,arguments)}}())}},{key:"resolveOutOfSync",value:(y=A(regeneratorRuntime.mark(function $(){var w=this;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",this.stateless_downloadAllItems({event:"resolve-out-of-sync"}).then(function(){var ee=A(regeneratorRuntime.mark(function pe(Se){var oe,Y,Q,ue,je,De,Re,Oe;return regeneratorRuntime.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:oe=[],Y=!0,Q=!1,ue=void 0,ye.prev=4,je=Se[Symbol.iterator]();case 6:if(Y=(De=je.next()).done){ye.next=18;break}if(Re=De.value,!(Oe=w.modelManager.findItem(Re.uuid))){ye.next=14;break}if(Re.isItemContentEqualWith(Oe)){ye.next=14;break}return ye.next=14,w.modelManager.duplicateItemAndAddAsConflict(Oe);case 14:oe.push(Re);case 15:Y=!0,ye.next=6;break;case 18:ye.next=24;break;case 20:ye.prev=20,ye.t0=ye.catch(4),Q=!0,ue=ye.t0;case 24:ye.prev=24,ye.prev=25,Y||je.return==null||je.return();case 27:if(ye.prev=27,!Q){ye.next=30;break}throw ue;case 30:return ye.finish(27);case 31:return ye.finish(24);case 32:return ye.next=34,w.modelManager.mapResponseItemsToLocalModelsWithOptions({items:oe,source:Ke.MappingSourceRemoteRetrieved});case 34:return ye.next=36,w.writeItemsToLocalStorage(w.modelManager.allNondummyItems);case 36:return ye.abrupt("return",w.sync({performIntegrityCheck:!0}));case 37:case"end":return ye.stop()}},pe,null,[[4,20,24,32],[25,,27,31]])}));return function(pe){return ee.apply(this,arguments)}}()));case 1:case"end":return O.stop()}},$,this)})),function(){return y.apply(this,arguments)})},{key:"handleSignout",value:(h=A(regeneratorRuntime.mark(function $(){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.outOfSync=!1,this.loadLocalDataPromise=null,this.performSyncAgainOnCompletion=!1,this.syncStatus.syncOpInProgress=!1,this._queuedCallbacks=[],this.syncStatus={},w.abrupt("return",this.clearSyncToken());case 7:case"end":return w.stop()}},$,this)})),function(){return h.apply(this,arguments)})},{key:"clearSyncToken",value:(v=A(regeneratorRuntime.mark(function $(){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this._syncToken=null,this._cursorToken=null,w.abrupt("return",this.storageManager.removeItem("syncToken"));case 3:case"end":return w.stop()}},$,this)})),function(){return v.apply(this,arguments)})},{key:"__setLocalDataNotLoaded",value:function(){this.loadLocalDataPromise=null,this._initialDataLoaded=!1}},{key:"queuedCallbacks",get:function(){return this._queuedCallbacks||(this._queuedCallbacks=[]),this._queuedCallbacks}}]),c}();d.SFSyncManager=ne;var se=function(){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fe(this,c),this.content={},this.referencingObjects=[],this.updateFromJSON(h),this.uuid||typeof SFJS<"u"&&SFJS.crypto.generateUUIDSync&&(this.uuid=SFJS.crypto.generateUUIDSync()),xe(this.content)!=="object"||this.content.references||(this.content.references=[])}var v;return ze(c,[{key:"initUUID",value:(v=A(regeneratorRuntime.mark(function h(){return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(this.uuid){y.next=4;break}return y.next=3,SFJS.crypto.generateUUID();case 3:this.uuid=y.sent;case 4:case"end":return y.stop()}},h,this)})),function(){return v.apply(this,arguments)})},{key:"updateFromJSON",value:function(h){if(h){this.deleted=h.deleted,this.uuid=h.uuid,this.enc_item_key=h.enc_item_key,this.auth_hash=h.auth_hash,this.auth_params=h.auth_params;for(var y=0,U=["errorDecrypting","dirty","dirtyCount","dirtiedDate","dummy"];y<U.length;y++){var R=U[y];h[R]!==void 0&&(this[R]=h[R])}if(this.dirtiedDate&&typeof this.dirtiedDate=="string"&&(this.dirtiedDate=new Date(this.dirtiedDate)),this.content_type||(this.content_type=h.content_type),h.errorDecrypting)this.content=h.content;else try{var M=typeof h.content=="string"?JSON.parse(h.content):h.content;c.deepMerge(this.contentObject,M)}catch(E){console.log("Error while updating item from json",E)}h.created_at&&(this.created_at=h.created_at),h.updated_at&&(this.updated_at=h.updated_at),this.created_at?this.created_at=new Date(this.created_at):this.created_at=new Date,this.updated_at?this.updated_at=new Date(this.updated_at):this.updated_at=new Date(0),this._client_updated_at=null,h.content?this.mapContentToLocalProperties(this.contentObject):h.deleted==1&&this.handleDeletedContent()}}},{key:"mapContentToLocalProperties",value:function(h){}},{key:"createContentJSONFromProperties",value:function(){var h=this.structureParams();return c.deepMerge(this.contentObject,h),h}},{key:"structureParams",value:function(){return this.getContentCopy()}},{key:"handleDeletedContent",value:function(){}},{key:"setDirty",value:function(h,y){this.dirty=h,this.dirtyCount||(this.dirtyCount=0),h?this.dirtyCount++:this.dirtyCount=0,this.dirtiedDate=new Date,h&&y?this.client_updated_at=new Date:this.hasRawClientUpdatedAtValue()||(this.client_updated_at=new Date(this.updated_at))}},{key:"updateLocalRelationships",value:function(){}},{key:"addItemAsRelationship",value:function(h){if(h.setIsBeingReferencedBy(this),!this.hasRelationshipWithItem(h)){var y=this.content.references||[];y.push({uuid:h.uuid,content_type:h.content_type}),this.content.references=y}}},{key:"removeItemAsRelationship",value:function(h){h.setIsNoLongerBeingReferencedBy(this),this.removeReferenceWithUuid(h.uuid)}},{key:"setIsBeingReferencedBy",value:function(h){_.find(this.referencingObjects,{uuid:h.uuid})||this.referencingObjects.push(h)}},{key:"setIsNoLongerBeingReferencedBy",value:function(h){_.remove(this.referencingObjects,{uuid:h.uuid}),this.hasRelationshipWithItem(h)&&(this.removeReferenceWithUuid(h.uuid),this.setDirty(!0))}},{key:"removeReferenceWithUuid",value:function(h){var y=this.content.references||[];y=y.filter(function(U){return U.uuid!=h}),this.content.references=y}},{key:"hasRelationshipWithItem",value:function(h){return this.content.references.find(function(y){return y.uuid==h.uuid})!=null}},{key:"isBeingRemovedLocally",value:function(){}},{key:"didFinishSyncing",value:function(){}},{key:"informReferencesOfUUIDChange",value:function(h,y){}},{key:"potentialItemOfInterestHasChangedItsUUID",value:function(h,y,U){if(!this.errorDecrypting){var R=!0,M=!1,E=void 0;try{for(var L,k=this.content.references[Symbol.iterator]();!(R=(L=k.next()).done);R=!0){var N=L.value;N.uuid==y&&(N.uuid=U,this.setDirty(!0))}}catch(I){M=!0,E=I}finally{try{R||k.return==null||k.return()}finally{if(M)throw E}}}}},{key:"doNotEncrypt",value:function(){return!1}},{key:"setDomainDataItem",value:function(h,y,U){if(U){if(!this.errorDecrypting){this.content.appData||(this.content.appData={});var R=this.content.appData[U];R||(R={}),R[h]=y,this.content.appData[U]=R}}else console.error("SFItem.AppDomain needs to be set.")}},{key:"getDomainDataItem",value:function(h,y){if(y){if(!this.errorDecrypting){this.content.appData||(this.content.appData={});var U=this.content.appData[y];return U?U[h]:null}}else console.error("SFItem.AppDomain needs to be set.")}},{key:"setAppDataItem",value:function(h,y){this.setDomainDataItem(h,y,c.AppDomain)}},{key:"getAppDataItem",value:function(h){return this.getDomainDataItem(h,c.AppDomain)}},{key:"hasRawClientUpdatedAtValue",value:function(){return this.getAppDataItem("client_updated_at")!=null}},{key:"keysToIgnoreWhenCheckingContentEquality",value:function(){return[]}},{key:"appDataKeysToIgnoreWhenCheckingContentEquality",value:function(){return["client_updated_at"]}},{key:"getContentCopy",value:function(){return JSON.parse(JSON.stringify(this.content))}},{key:"isItemContentEqualWith",value:function(h){return c.AreItemContentsEqual({leftContent:this.content,rightContent:h.content,keysToIgnore:this.keysToIgnoreWhenCheckingContentEquality(),appDataKeysToIgnore:this.appDataKeysToIgnoreWhenCheckingContentEquality()})}},{key:"satisfiesPredicate",value:function(h){return ge.ItemSatisfiesPredicate(this,h)}},{key:"createdAtString",value:function(){return this.dateToLocalizedString(this.created_at)}},{key:"updatedAtString",value:function(){return this.dateToLocalizedString(this.client_updated_at)}},{key:"updatedAtTimestamp",value:function(){return this.updated_at.getTime()}},{key:"dateToLocalizedString",value:function(h){if(typeof Intl<"u"&&Intl.DateTimeFormat){if(!Ie){var y=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language;Ie=new Intl.DateTimeFormat(y,{year:"numeric",month:"short",day:"2-digit",weekday:"long",hour:"2-digit",minute:"2-digit"})}return Ie.format(h)}return h.toDateString()+" "+h.toLocaleTimeString()}},{key:"contentObject",get:function(){if(this.errorDecrypting)return this.content;if(!this.content)return this.content={},this.content;if(this.content!==null&&xe(this.content)==="object")return this.content;try{var h=JSON.parse(this.content);return this.content=h,this.content}catch(y){return console.log("Error parsing json",y,this),this.content={},this.content}}},{key:"pinned",get:function(){return this.getAppDataItem("pinned")}},{key:"archived",get:function(){return this.getAppDataItem("archived")}},{key:"locked",get:function(){return this.getAppDataItem("locked")}},{key:"displayName",get:function(){return"Item"}},{key:"client_updated_at",get:function(){if(!this._client_updated_at){var h=this.getAppDataItem("client_updated_at");this._client_updated_at=h?new Date(h):new Date(this.updated_at)}return this._client_updated_at},set:function(h){this._client_updated_at=h,this.setAppDataItem("client_updated_at",h)}}],[{key:"deepMerge",value:function(h,y){return _.mergeWith(h,y,function(U,R){if(_.isArray(U))return R}),h}},{key:"AreItemContentsEqual",value:function(h){var y=h.leftContent,U=h.rightContent,R=h.keysToIgnore,M=h.appDataKeysToIgnore,E=function(L,k){if(!L)return L;var N=!0,I=!1,P=void 0;try{for(var i,u=k[Symbol.iterator]();!(N=(i=u.next()).done);N=!0)delete L[i.value]}catch(f){I=!0,P=f}finally{try{N||u.return==null||u.return()}finally{if(I)throw P}}return L};return(y=JSON.parse(JSON.stringify(y))).appData&&E(y.appData[c.AppDomain],M),y=E(y,R),(U=JSON.parse(JSON.stringify(U))).appData&&E(U.appData[c.AppDomain],M),U=E(U,R),JSON.stringify(y)===JSON.stringify(U)}}]),c}();d.SFItem=se;var ce=function(){function c(M,E,L){if(Fe(this,c),this.item=M,this.keys=E,this.auth_params=L,this.keys&&!this.auth_params)throw"SFItemParams.auth_params must be supplied if supplying keys.";if(this.auth_params&&!this.auth_params.version)throw"SFItemParams.auth_params is missing version"}var v,h,y,U,R;return ze(c,[{key:"paramsForExportFile",value:(R=A(regeneratorRuntime.mark(function M(E){var L;return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(this.forExportFile=!0,!E){k.next=5;break}return k.abrupt("return",this.__params());case 5:return k.next=7,this.__params();case 7:return L=k.sent,k.abrupt("return",_.omit(L,["deleted"]));case 9:case"end":return k.stop()}},M,this)})),function(M){return R.apply(this,arguments)})},{key:"paramsForExtension",value:(U=A(regeneratorRuntime.mark(function M(){return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",this.paramsForExportFile());case 1:case"end":return E.stop()}},M,this)})),function(){return U.apply(this,arguments)})},{key:"paramsForLocalStorage",value:(y=A(regeneratorRuntime.mark(function M(){return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return this.additionalFields=["dirty","dirtiedDate","errorDecrypting"],this.forExportFile=!0,E.abrupt("return",this.__params());case 3:case"end":return E.stop()}},M,this)})),function(){return y.apply(this,arguments)})},{key:"paramsForSync",value:(h=A(regeneratorRuntime.mark(function M(){return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",this.__params());case 1:case"end":return E.stop()}},M,this)})),function(){return h.apply(this,arguments)})},{key:"__params",value:(v=A(regeneratorRuntime.mark(function M(){var E,L,k;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(E={uuid:this.item.uuid,content_type:this.item.content_type,deleted:this.item.deleted,created_at:this.item.created_at,updated_at:this.item.updated_at},this.item.errorDecrypting){N.next=23;break}if(L=this.item.doNotEncrypt()&&!this.forExportFile,!this.keys||L){N.next=11;break}return N.next=6,SFJS.itemTransformer.encryptItem(this.item,this.keys,this.auth_params);case 6:k=N.sent,_.merge(E,k),this.auth_params.version!=="001"&&(E.auth_hash=null),N.next=21;break;case 11:if(!this.forExportFile){N.next=15;break}N.t0=this.item.createContentJSONFromProperties(),N.next=19;break;case 15:return N.next=17,SFJS.crypto.base64(JSON.stringify(this.item.createContentJSONFromProperties()));case 17:N.t1=N.sent,N.t0="000"+N.t1;case 19:E.content=N.t0,this.forExportFile||(E.enc_item_key=null,E.auth_hash=null);case 21:N.next=26;break;case 23:E.content=this.item.content,E.enc_item_key=this.item.enc_item_key,E.auth_hash=this.item.auth_hash;case 26:return this.additionalFields&&_.merge(E,_.pick(this.item,this.additionalFields)),N.abrupt("return",E);case 28:case"end":return N.stop()}},M,this)})),function(){return v.apply(this,arguments)})}]),c}();d.SFItemParams=ce;var ge=function(){function c(v,h,y){Fe(this,c),this.keypath=v,this.operator=h,this.value=y,c.IsRecursiveOperator(this.operator)&&(this.value=this.value.map(c.fromArray))}return ze(c,null,[{key:"fromArray",value:function(v){return new c(v[0],v[1],v[2])}},{key:"ObjectSatisfiesPredicate",value:function(v,h){if(Array.isArray(h)&&(h=this.fromArray(h)),c.IsRecursiveOperator(h.operator)){if(h.operator==="and"){var y=!0,U=!1,R=void 0;try{for(var M,E=h.value[Symbol.iterator]();!(y=(M=E.next()).done);y=!0){var L=M.value;if(!this.ObjectSatisfiesPredicate(v,L))return!1}}catch(p){U=!0,R=p}finally{try{y||E.return==null||E.return()}finally{if(U)throw R}}return!0}if(h.operator==="or"){var k=!0,N=!1,I=void 0;try{for(var P,i=h.value[Symbol.iterator]();!(k=(P=i.next()).done);k=!0)if(L=P.value,this.ObjectSatisfiesPredicate(v,L))return!0}catch(p){N=!0,I=p}finally{try{k||i.return==null||i.return()}finally{if(N)throw I}}return!1}}var u=h.value;typeof u=="string"&&u.includes(".ago")&&(u=this.DateFromString(u));var f=h.keypath.split(".").reduce(function(p,g){return p&&p[g]},v),l=[!1,"",null,void 0,NaN];return f==null?h.operator=="!="?!l.includes(h.value):l.includes(h.value):h.operator=="="?Array.isArray(f)?JSON.stringify(f)==JSON.stringify(u):f==u:h.operator=="!="?Array.isArray(f)?JSON.stringify(f)!=JSON.stringify(u):f!==u:h.operator=="<"?f<u:h.operator==">"?f>u:h.operator=="<="?f<=u:h.operator==">="?f>=u:h.operator=="startsWith"?f.startsWith(u):h.operator=="in"?u.indexOf(f)!=-1:h.operator=="includes"?this.resolveIncludesPredicate(f,u):h.operator=="matches"&&new RegExp(u).test(f)}},{key:"resolveIncludesPredicate",value:function(v,h){if(typeof h=="string")return v.includes(h);var y;y=Array.isArray(h)?c.fromArray(h):h;var U=!0,R=!1,M=void 0;try{for(var E,L=v[Symbol.iterator]();!(U=(E=L.next()).done);U=!0){var k=E.value;if(this.ObjectSatisfiesPredicate(k,y))return!0}}catch(N){R=!0,M=N}finally{try{U||L.return==null||L.return()}finally{if(R)throw M}}return!1}},{key:"ItemSatisfiesPredicate",value:function(v,h){return Array.isArray(h)&&(h=c.fromArray(h)),this.ObjectSatisfiesPredicate(v,h)}},{key:"ItemSatisfiesPredicates",value:function(v,h){var y=!0,U=!1,R=void 0;try{for(var M,E=h[Symbol.iterator]();!(y=(M=E.next()).done);y=!0){var L=M.value;if(!this.ItemSatisfiesPredicate(v,L))return!1}}catch(k){U=!0,R=k}finally{try{y||E.return==null||E.return()}finally{if(U)throw R}}return!0}},{key:"DateFromString",value:function(v){var h=v.split("."),y=h[1],U=new Date,R=parseInt(h[0]);return y=="days"?U.setDate(U.getDate()-R):y=="hours"&&U.setHours(U.getHours()-R),U}},{key:"IsRecursiveOperator",value:function(v){return["and","or"].includes(v)}}]),c}();d.SFPredicate=ge;var K=function(c){function v(h){var y;return Fe(this,v),(y=Pe(this,tt(v).call(this,h))).content.desktopPrivileges||(y.content.desktopPrivileges={}),y}return le(v,c),ze(v,null,[{key:"contentType",value:function(){return"SN|Privileges"}}]),ze(v,[{key:"setCredentialsForAction",value:function(h,y){this.content.desktopPrivileges[h]=y}},{key:"getCredentialsForAction",value:function(h){return this.content.desktopPrivileges[h]||[]}},{key:"toggleCredentialForAction",value:function(h,y){this.isCredentialRequiredForAction(h,y)?this.removeCredentialForAction(h,y):this.addCredentialForAction(h,y)}},{key:"removeCredentialForAction",value:function(h,y){_.pull(this.content.desktopPrivileges[h],y)}},{key:"addCredentialForAction",value:function(h,y){var U=this.getCredentialsForAction(h);U.push(y),this.setCredentialsForAction(h,U)}},{key:"isCredentialRequiredForAction",value:function(h,y){return this.getCredentialsForAction(h).includes(y)}}]),v}(se);d.SFPrivileges=K;var F=function(c){function v(h){var y;return Fe(this,v),(y=Pe(this,tt(v).call(this,h))).content.itemUUIDToItemHistoryMapping||(y.content.itemUUIDToItemHistoryMapping={}),Object.keys(y.content.itemUUIDToItemHistoryMapping).forEach(function(U){var R=y.content.itemUUIDToItemHistoryMapping[U];y.content.itemUUIDToItemHistoryMapping[U]=new x(R)}),y}return le(v,c),ze(v,[{key:"addEntryForItem",value:function(h){return this.historyForItem(h).addHistoryEntryForItem(h)}},{key:"historyForItem",value:function(h){var y=this.content.itemUUIDToItemHistoryMapping[h.uuid];return y||(y=this.content.itemUUIDToItemHistoryMapping[h.uuid]=new x),y}},{key:"clearItemHistory",value:function(h){this.historyForItem(h).clear()}},{key:"clearAllHistory",value:function(){this.content.itemUUIDToItemHistoryMapping={}}},{key:"optimizeHistoryForItem",value:function(h){var y=this.historyForItem(h);y.entries.length>v.LargeItemEntryAmountThreshold&&y.optimize()}}]),v}(se);d.SFHistorySession=F,F.LargeItemEntryAmountThreshold=60;var x=function(){function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Fe(this,c),this.entries||(this.entries=[]),v.entries){var h=!0,y=!1,U=void 0;try{for(var R,M=v.entries[Symbol.iterator]();!(h=(R=M.next()).done);h=!0){var E=R.value,L=this.createEntryForItem(E.item);L.setPreviousEntry(this.getLastEntry()),this.entries.push(L)}}catch(k){y=!0,U=k}finally{try{h||M.return==null||M.return()}finally{if(y)throw U}}}}return ze(c,[{key:"createEntryForItem",value:function(v){var h=c.HistoryEntryClassMapping&&c.HistoryEntryClassMapping[v.content_type];return h||(h=C),new h(v)}},{key:"getLastEntry",value:function(){return this.entries[this.entries.length-1]}},{key:"addHistoryEntryForItem",value:function(v){var h=this.createEntryForItem(v),y=this.getLastEntry();if(h.setPreviousEntry(y),!h.isSameAsEntry(y))return this.entries.push(h),h}},{key:"clear",value:function(){this.entries.length=0}},{key:"optimize",value:function(){var v=this,h=[],y=function(R){return R.deltaSize()>c.LargeEntryDeltaThreshold},U=function(R,M,E){if(E?h.push(R):(M=h.indexOf(R))!==-1&&h.splice(M,1),E&&y(R)&&R.operationVector()==-1){var L=v.entries[M-1];L&&h.push(L)}};this.entries.forEach(function(R,M){if(M==0||M==v.entries.length-1)U(R,M,!0);else{var E=y(R);U(R,M,E)}}),this.entries=this.entries.filter(function(R,M){return h.indexOf(R)!==-1})}}]),c}();d.SFItemHistory=x,x.LargeEntryDeltaThreshold=15;var C=function(){function c(v){Fe(this,c),this.item=se.deepMerge({},v),this.defaultContentKeyToDiffOn="text",this.textCharDiffLength=0,typeof this.item.updated_at=="string"&&(this.item.updated_at=new Date(this.item.updated_at))}return ze(c,[{key:"setPreviousEntry",value:function(v){this.hasPreviousEntry=v!=null,this.item.content[this.defaultContentKeyToDiffOn]&&(this.textCharDiffLength=v?this.item.content[this.defaultContentKeyToDiffOn].length-v.item.content[this.defaultContentKeyToDiffOn].length:this.item.content[this.defaultContentKeyToDiffOn].length)}},{key:"operationVector",value:function(){return this.textCharDiffLength!=null?this.hasPreviousEntry&&this.textCharDiffLength!=0?this.textCharDiffLength<0?-1:1:0:1}},{key:"deltaSize",value:function(){return this.textCharDiffLength!=null?Math.abs(this.textCharDiffLength):1}},{key:"isSameAsEntry",value:function(v){if(!v)return!1;var h=new se(this.item),y=new se(v.item);return h.isItemContentEqualWith(y)}}]),c}();d.SFItemHistoryEntry=C,Ye=typeof window<"u"?window:S!==void 0?S:null;var z=function(){function c(){Fe(this,c),this.DefaultPBKDF2Length=768}var v,h,y,U,R,M,E,L,k,N,I,P,i,u,f;return ze(c,[{key:"generateUUIDSync",value:function(){var l=Ye.crypto||Ye.msCrypto;if(l){var p=new Uint32Array(4);l.getRandomValues(p);var g=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(q){g++;var B=p[g>>3]>>g%8*4&15;return(q=="x"?B:3&B|8).toString(16)})}var j=new Date().getTime();return Ye.performance&&typeof Ye.performance.now=="function"&&(j+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(q){var B=(j+16*Math.random())%16|0;return j=Math.floor(j/16),(q=="x"?B:3&B|8).toString(16)})}},{key:"generateUUID",value:(f=A(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",this.generateUUIDSync());case 1:case"end":return p.stop()}},l,this)})),function(){return f.apply(this,arguments)})},{key:"timingSafeEqual",value:function(l,p){var g=String(l),j=String(p),q=g.length,B=0;q!==j.length&&(j=g,B=1);for(var X=0;X<q;X++)B|=g.charCodeAt(X)^j.charCodeAt(X);return B===0}},{key:"decryptText",value:(u=A(regeneratorRuntime.mark(function l(){var p,g,j,q,B,X,H,$,w,O,ee,pe=arguments;return regeneratorRuntime.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(p=pe.length>0&&pe[0]!==void 0?pe[0]:{},g=p.ciphertextToAuth,j=p.contentCiphertext,q=p.encryptionKey,B=p.iv,X=p.authHash,H=p.authKey,!(pe.length>1&&pe[1])||X){Se.next=5;break}return console.error("Auth hash is required."),Se.abrupt("return");case 5:if(!X){Se.next=12;break}return Se.next=8,this.hmac256(g,H);case 8:if($=Se.sent,this.timingSafeEqual(X,$)!==!1){Se.next=12;break}return console.error("Auth hash does not match, returning null."),Se.abrupt("return",null);case 12:return w=ke.enc.Hex.parse(q),O=ke.enc.Hex.parse(B||""),ee=ke.AES.decrypt(j,w,{iv:O,mode:ke.mode.CBC,padding:ke.pad.Pkcs7}),Se.abrupt("return",ee.toString(ke.enc.Utf8));case 16:case"end":return Se.stop()}},l,this)})),function(){return u.apply(this,arguments)})},{key:"encryptText",value:(i=A(regeneratorRuntime.mark(function l(p,g,j){var q,B,X;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return q=ke.enc.Hex.parse(g),B=ke.enc.Hex.parse(j||""),X=ke.AES.encrypt(p,q,{iv:B,mode:ke.mode.CBC,padding:ke.pad.Pkcs7}),H.abrupt("return",X.toString());case 4:case"end":return H.stop()}},l)})),function(l,p,g){return i.apply(this,arguments)})},{key:"generateRandomKey",value:(P=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",ke.lib.WordArray.random(p/8).toString());case 1:case"end":return g.stop()}},l)})),function(l){return P.apply(this,arguments)})},{key:"generateItemEncryptionKey",value:(I=A(regeneratorRuntime.mark(function l(){var p,g,j,q;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return p=512,g=1,B.next=4,this.generateRandomKey(p);case 4:return j=B.sent,B.next=7,this.generateRandomKey(p);case 7:return q=B.sent,B.abrupt("return",this.pbkdf2(q,j,g,p));case 9:case"end":return B.stop()}},l,this)})),function(){return I.apply(this,arguments)})},{key:"firstHalfOfKey",value:(N=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",p.substring(0,p.length/2));case 1:case"end":return g.stop()}},l)})),function(l){return N.apply(this,arguments)})},{key:"secondHalfOfKey",value:(k=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",p.substring(p.length/2,p.length));case 1:case"end":return g.stop()}},l)})),function(l){return k.apply(this,arguments)})},{key:"base64",value:(L=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Ye.btoa(encodeURIComponent(p).replace(/%([0-9A-F]{2})/g,function(j,q){return String.fromCharCode("0x"+q)})));case 1:case"end":return g.stop()}},l)})),function(l){return L.apply(this,arguments)})},{key:"base64Decode",value:(E=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Ye.atob(p));case 1:case"end":return g.stop()}},l)})),function(l){return E.apply(this,arguments)})},{key:"sha256",value:(M=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",ke.SHA256(p).toString());case 1:case"end":return g.stop()}},l)})),function(l){return M.apply(this,arguments)})},{key:"hmac256",value:(R=A(regeneratorRuntime.mark(function l(p,g){var j,q,B;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return j=ke.enc.Hex.parse(g),q=ke.enc.Utf8.parse(p),B=ke.HmacSHA256(q,j).toString(),X.abrupt("return",B);case 4:case"end":return X.stop()}},l)})),function(l,p){return R.apply(this,arguments)})},{key:"generateSalt",value:(U=A(regeneratorRuntime.mark(function l(p,g,j,q){var B;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this.sha256([p,"SF",g,j,q].join(":"));case 2:return B=X.sent,X.abrupt("return",B);case 4:case"end":return X.stop()}},l,this)})),function(l,p,g,j){return U.apply(this,arguments)})},{key:"generateSymmetricKeyPair",value:(y=A(regeneratorRuntime.mark(function l(){var p,g,j,q,B,X,H,$,w,O,ee=arguments;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return p=ee.length>0&&ee[0]!==void 0?ee[0]:{},g=p.password,j=p.pw_salt,q=p.pw_cost,pe.next=3,this.pbkdf2(g,j,q,this.DefaultPBKDF2Length);case 3:return B=pe.sent,X=B.length,H=X/3,$=B.slice(0,H),w=B.slice(H,2*H),O=B.slice(2*H,3*H),pe.abrupt("return",[$,w,O]);case 10:case"end":return pe.stop()}},l,this)})),function(){return y.apply(this,arguments)})},{key:"computeEncryptionKeysForUser",value:(h=A(regeneratorRuntime.mark(function l(p,g){var j;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(g.version!="003"){q.next=9;break}if(g.identifier){q.next=4;break}return console.error("authParams is missing identifier."),q.abrupt("return");case 4:return q.next=6,this.generateSalt(g.identifier,g.version,g.pw_cost,g.pw_nonce);case 6:j=q.sent,q.next=10;break;case 9:j=g.pw_salt;case 10:return q.abrupt("return",this.generateSymmetricKeyPair({password:p,pw_salt:j,pw_cost:g.pw_cost}).then(function(B){return{pw:B[0],mk:B[1],ak:B[2]}}));case 11:case"end":return q.stop()}},l,this)})),function(l,p){return h.apply(this,arguments)})},{key:"generateInitialKeysAndAuthParamsForUser",value:(v=A(regeneratorRuntime.mark(function l(p,g){var j,q,B,X;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return j=this.SFJS.version,q=this.SFJS.defaultPasswordGenerationCost,H.next=4,this.generateRandomKey(256);case 4:return B=H.sent,H.next=7,this.generateSalt(p,j,q,B);case 7:return X=H.sent,H.abrupt("return",this.generateSymmetricKeyPair({password:g,pw_salt:X,pw_cost:q}).then(function($){var w={pw_nonce:B,pw_cost:q,identifier:p,version:j};return{keys:{pw:$[0],mk:$[1],ak:$[2]},authParams:w}}));case 9:case"end":return H.stop()}},l,this)})),function(l,p){return v.apply(this,arguments)})}]),c}();d.SFAbstractCrypto=z;var G=function(c){function v(){return Fe(this,v),Pe(this,tt(v).apply(this,arguments))}var h;return le(v,c),ze(v,[{key:"pbkdf2",value:(h=A(regeneratorRuntime.mark(function y(U,R,M,E){var L;return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return L={keySize:E/32,hasher:ke.algo.SHA512,iterations:M},k.abrupt("return",ke.PBKDF2(U,R,L).toString());case 2:case"end":return k.stop()}},y)})),function(y,U,R,M){return h.apply(this,arguments)})}]),v}(z);d.SFCryptoJS=G;var T=(Ye=typeof window<"u"?window:S!==void 0?S:null).crypto?Ye.crypto.subtle:null,re=function(c){function v(){return Fe(this,v),Pe(this,tt(v).apply(this,arguments))}var h,y,U,R,M,E,L,k,N,I,P,i,u,f;return le(v,c),ze(v,[{key:"pbkdf2",value:(f=A(regeneratorRuntime.mark(function l(p,g,j,q){var B;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this.webCryptoImportKey(p,"PBKDF2",["deriveBits"]);case 2:if(B=X.sent){X.next=6;break}return console.log("Key is null, unable to continue"),X.abrupt("return",null);case 6:return X.abrupt("return",this.webCryptoDeriveBits(B,g,j,q));case 7:case"end":return X.stop()}},l,this)})),function(l,p,g,j){return f.apply(this,arguments)})},{key:"generateRandomKey",value:(u=A(regeneratorRuntime.mark(function l(p){var g=this;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",T.generateKey({name:"AES-CBC",length:p},!0,["encrypt","decrypt"]).then(function(q){return T.exportKey("raw",q).then(function(){var B=A(regeneratorRuntime.mark(function X(H){var $;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,g.arrayBufferToHexString(new Uint8Array(H));case 2:return $=w.sent,w.abrupt("return",$);case 4:case"end":return w.stop()}},X)}));return function(X){return B.apply(this,arguments)}}()).catch(function(B){console.error("Error exporting key",B)})}).catch(function(q){console.error("Error generating key",q)}));case 2:case"end":return j.stop()}},l)})),function(l){return u.apply(this,arguments)})},{key:"generateItemEncryptionKey",value:(i=A(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",Promise.all([this.generateRandomKey(256),this.generateRandomKey(256)]).then(function(g){return g.join("")}));case 2:case"end":return p.stop()}},l,this)})),function(){return i.apply(this,arguments)})},{key:"encryptText",value:(P=A(regeneratorRuntime.mark(function l(p,g,j){var q,B,X,H,$,w=this;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!j){O.next=6;break}return O.next=3,this.hexStringToArrayBuffer(j);case 3:O.t0=O.sent,O.next=7;break;case 6:O.t0=new ArrayBuffer(16);case 7:return q=O.t0,B={name:"AES-CBC",iv:q},O.next=11,this.hexStringToArrayBuffer(g);case 11:return X=O.sent,O.next=14,this.webCryptoImportKey(X,B.name,["encrypt"]);case 14:return H=O.sent,O.next=17,this.stringToArrayBuffer(p);case 17:return $=O.sent,O.abrupt("return",crypto.subtle.encrypt(B,H,$).then(function(){var ee=A(regeneratorRuntime.mark(function pe(Se){var oe;return regeneratorRuntime.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,w.arrayBufferToBase64(Se);case 2:return oe=Y.sent,Y.abrupt("return",oe);case 4:case"end":return Y.stop()}},pe)}));return function(pe){return ee.apply(this,arguments)}}()));case 19:case"end":return O.stop()}},l,this)})),function(l,p,g){return P.apply(this,arguments)})},{key:"decryptText",value:(I=A(regeneratorRuntime.mark(function l(){var p,g,j,q,B,X,H,$,w,O,ee,pe,Se,oe=this,Y=arguments;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(p=Y.length>0&&Y[0]!==void 0?Y[0]:{},g=p.ciphertextToAuth,j=p.contentCiphertext,q=p.encryptionKey,B=p.iv,X=p.authHash,H=p.authKey,!(Y.length>1&&Y[1])||X){Q.next=5;break}return console.error("Auth hash is required."),Q.abrupt("return");case 5:if(!X){Q.next=12;break}return Q.next=8,this.hmac256(g,H);case 8:if($=Q.sent,this.timingSafeEqual(X,$)!==!1){Q.next=12;break}return console.error("Auth hash does not match, returning null. ".concat(X," != ").concat($)),Q.abrupt("return",null);case 12:if(!B){Q.next=18;break}return Q.next=15,this.hexStringToArrayBuffer(B);case 15:Q.t0=Q.sent,Q.next=19;break;case 18:Q.t0=new ArrayBuffer(16);case 19:return w=Q.t0,O={name:"AES-CBC",iv:w},Q.next=23,this.hexStringToArrayBuffer(q);case 23:return ee=Q.sent,Q.next=26,this.webCryptoImportKey(ee,O.name,["decrypt"]);case 26:return pe=Q.sent,Q.next=29,this.base64ToArrayBuffer(j);case 29:return Se=Q.sent,Q.abrupt("return",crypto.subtle.decrypt(O,pe,Se).then(function(){var ue=A(regeneratorRuntime.mark(function je(De){var Re;return regeneratorRuntime.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.next=2,oe.arrayBufferToString(De);case 2:return Re=Oe.sent,Oe.abrupt("return",Re);case 4:case"end":return Oe.stop()}},je)}));return function(je){return ue.apply(this,arguments)}}()).catch(function(ue){console.error("Error decrypting:",ue)}));case 31:case"end":return Q.stop()}},l,this)})),function(){return I.apply(this,arguments)})},{key:"hmac256",value:(N=A(regeneratorRuntime.mark(function l(p,g){var j,q,B,X=this;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.hexStringToArrayBuffer(g);case 2:return j=H.sent,H.next=5,this.webCryptoImportKey(j,"HMAC",["sign"],{name:"SHA-256"});case 5:return q=H.sent,H.next=8,this.stringToArrayBuffer(p);case 8:return B=H.sent,H.abrupt("return",crypto.subtle.sign({name:"HMAC"},q,B).then(function(){var $=A(regeneratorRuntime.mark(function w(O){var ee;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,X.arrayBufferToHexString(O);case 2:return ee=pe.sent,pe.abrupt("return",ee);case 4:case"end":return pe.stop()}},w)}));return function(w){return $.apply(this,arguments)}}()).catch(function($){console.error("Error computing hmac",$)}));case 10:case"end":return H.stop()}},l,this)})),function(l,p){return N.apply(this,arguments)})},{key:"webCryptoImportKey",value:(k=A(regeneratorRuntime.mark(function l(p,g,j,q){var B;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(typeof p!="string"){X.next=6;break}return X.next=3,this.stringToArrayBuffer(p);case 3:X.t0=X.sent,X.next=7;break;case 6:X.t0=p;case 7:return B=X.t0,X.abrupt("return",T.importKey("raw",B,{name:g,hash:q},!1,j).then(function(H){return H}).catch(function(H){return console.error(H),null}));case 9:case"end":return X.stop()}},l,this)})),function(l,p,g,j){return k.apply(this,arguments)})},{key:"webCryptoDeriveBits",value:(L=A(regeneratorRuntime.mark(function l(p,g,j,q){var B,X=this;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.stringToArrayBuffer(g);case 2:return H.t0=H.sent,H.t1=j,H.t2={name:"SHA-512"},B={name:"PBKDF2",salt:H.t0,iterations:H.t1,hash:H.t2},H.abrupt("return",T.deriveBits(B,p,q).then(function(){var $=A(regeneratorRuntime.mark(function w(O){var ee;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,X.arrayBufferToHexString(new Uint8Array(O));case 2:return ee=pe.sent,pe.abrupt("return",ee);case 4:case"end":return pe.stop()}},w)}));return function(w){return $.apply(this,arguments)}}()).catch(function($){return console.error($),null}));case 7:case"end":return H.stop()}},l,this)})),function(l,p,g,j){return L.apply(this,arguments)})},{key:"stringToArrayBuffer",value:(E=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",new Promise(function(j,q){var B=new Blob([p]),X=new FileReader;X.onload=function(H){j(H.target.result)},X.readAsArrayBuffer(B)}));case 1:case"end":return g.stop()}},l)})),function(l){return E.apply(this,arguments)})},{key:"arrayBufferToString",value:(M=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",new Promise(function(j,q){var B=new Blob([p]),X=new FileReader;X.onload=function(H){j(H.target.result)},X.readAsText(B)}));case 1:case"end":return g.stop()}},l)})),function(l){return M.apply(this,arguments)})},{key:"arrayBufferToHexString",value:(R=A(regeneratorRuntime.mark(function l(p){var g,j,q,B;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:for(g=new Uint8Array(p),j="",B=0;B<g.byteLength;B++)(q=g[B].toString(16)).length<2&&(q="0"+q),j+=q;return X.abrupt("return",j);case 4:case"end":return X.stop()}},l)})),function(l){return R.apply(this,arguments)})},{key:"hexStringToArrayBuffer",value:(U=A(regeneratorRuntime.mark(function l(p){var g,j;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:for(g=[],j=0;j<p.length;j+=2)g.push(parseInt(p.substr(j,2),16));return q.abrupt("return",new Uint8Array(g));case 2:case"end":return q.stop()}},l)})),function(l){return U.apply(this,arguments)})},{key:"base64ToArrayBuffer",value:(y=A(regeneratorRuntime.mark(function l(p){var g,j,q,B;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this.base64Decode(p);case 2:for(g=X.sent,j=g.length,q=new Uint8Array(j),B=0;B<j;B++)q[B]=g.charCodeAt(B);return X.abrupt("return",q.buffer);case 7:case"end":return X.stop()}},l,this)})),function(l){return y.apply(this,arguments)})},{key:"arrayBufferToBase64",value:(h=A(regeneratorRuntime.mark(function l(p){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",new Promise(function(j,q){var B=new Blob([p],{type:"application/octet-binary"}),X=new FileReader;X.onload=function(H){var $=H.target.result;j($.substr($.indexOf(",")+1))},X.readAsDataURL(B)}));case 1:case"end":return g.stop()}},l)})),function(l){return h.apply(this,arguments)})}]),v}(z);d.SFCryptoWeb=re;var W=function(){function c(R){Fe(this,c),this.crypto=R}var v,h,y,U;return ze(c,[{key:"_private_encryptString",value:(U=A(regeneratorRuntime.mark(function R(M,E,L,k,N){var I,P,i,u,f,l;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(N.version!=="001"){p.next=7;break}return p.next=3,this.crypto.encryptText(M,E,null);case 3:P=p.sent,I=N.version+P,p.next=21;break;case 7:return p.next=9,this.crypto.generateRandomKey(128);case 9:return i=p.sent,p.next=12,this.crypto.encryptText(M,E,i);case 12:return P=p.sent,u=[N.version,k,i,P].join(":"),p.next=16,this.crypto.hmac256(u,L);case 16:return f=p.sent,p.next=19,this.crypto.base64(JSON.stringify(N));case 19:l=p.sent,I=[N.version,f,k,i,P,l].join(":");case 21:return p.abrupt("return",I);case 22:case"end":return p.stop()}},R,this)})),function(R,M,E,L,k){return U.apply(this,arguments)})},{key:"encryptItem",value:(y=A(regeneratorRuntime.mark(function R(M,E,L){var k,N,I,P,i,u;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return k={},f.next=3,this.crypto.generateItemEncryptionKey();case 3:if(N=f.sent,L.version!=="001"){f.next=10;break}return f.next=7,this.crypto.encryptText(N,E.mk,null);case 7:k.enc_item_key=f.sent,f.next=13;break;case 10:return f.next=12,this._private_encryptString(N,E.mk,E.ak,M.uuid,L);case 12:k.enc_item_key=f.sent;case 13:return f.next=15,this.crypto.firstHalfOfKey(N);case 15:return I=f.sent,f.next=18,this.crypto.secondHalfOfKey(N);case 18:return P=f.sent,f.next=21,this._private_encryptString(JSON.stringify(M.createContentJSONFromProperties()),I,P,M.uuid,L);case 21:if(i=f.sent,L.version!=="001"){f.next=27;break}return f.next=25,this.crypto.hmac256(i,P);case 25:u=f.sent,k.auth_hash=u;case 27:return k.content=i,f.abrupt("return",k);case 29:case"end":return f.stop()}},R,this)})),function(R,M,E){return y.apply(this,arguments)})},{key:"encryptionComponentsFromString",value:function(R,M,E){var L=R.substring(0,3);if(L==="001")return{contentCiphertext:R.substring(3,R.length),encryptionVersion:L,ciphertextToAuth:R,iv:null,authHash:null,encryptionKey:M,authKey:E};var k=R.split(":");return{encryptionVersion:k[0],authHash:k[1],uuid:k[2],iv:k[3],contentCiphertext:k[4],authParams:k[5],ciphertextToAuth:[k[0],k[2],k[3],k[4]].join(":"),encryptionKey:M,authKey:E}}},{key:"decryptItem",value:(h=A(regeneratorRuntime.mark(function R(M,E){var L,k,N,I,P,i,u,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(typeof M.content=="string"){l.next=2;break}return l.abrupt("return");case 2:if(!M.content.startsWith("000")){l.next=14;break}return l.prev=3,l.t0=JSON,l.next=7,this.crypto.base64Decode(M.content.substring(3,M.content.length));case 7:l.t1=l.sent,M.content=l.t0.parse.call(l.t0,l.t1),l.next=13;break;case 11:l.prev=11,l.t2=l.catch(3);case 13:return l.abrupt("return");case 14:if(M.enc_item_key){l.next=17;break}return console.log("Missing item encryption key, skipping decryption."),l.abrupt("return");case 17:if(L=M.enc_item_key,k=!0,L.startsWith("002")||L.startsWith("003")||(L="001"+L,k=!1),!(N=this.encryptionComponentsFromString(L,E.mk,E.ak)).uuid||N.uuid===M.uuid){l.next=26;break}return console.error("Item key params UUID does not match item UUID"),M.errorDecrypting||(M.errorDecryptingValueChanged=!0),M.errorDecrypting=!0,l.abrupt("return");case 26:return l.next=28,this.crypto.decryptText(N,k);case 28:if(I=l.sent){l.next=34;break}return console.log("Error decrypting item",M),M.errorDecrypting||(M.errorDecryptingValueChanged=!0),M.errorDecrypting=!0,l.abrupt("return");case 34:return l.next=36,this.crypto.firstHalfOfKey(I);case 36:return P=l.sent,l.next=39,this.crypto.secondHalfOfKey(I);case 39:return i=l.sent,u=this.encryptionComponentsFromString(M.content,P,i),l.prev=41,l.t3=JSON,l.next=45,this.crypto.base64Decode(u.authParams);case 45:l.t4=l.sent,M.auth_params=l.t3.parse.call(l.t3,l.t4),l.next=51;break;case 49:l.prev=49,l.t5=l.catch(41);case 51:if(!u.uuid||u.uuid===M.uuid){l.next=55;break}return M.errorDecrypting||(M.errorDecryptingValueChanged=!0),M.errorDecrypting=!0,l.abrupt("return");case 55:return u.authHash||(u.authHash=M.auth_hash),l.next=58,this.crypto.decryptText(u,!0);case 58:(f=l.sent)?(M.errorDecrypting==1&&(M.errorDecryptingValueChanged=!0),M.errorDecrypting=!1,M.content=f):(M.errorDecrypting||(M.errorDecryptingValueChanged=!0),M.errorDecrypting=!0);case 60:case"end":return l.stop()}},R,this,[[3,11],[41,49]])})),function(R,M){return h.apply(this,arguments)})},{key:"decryptMultipleItems",value:(v=A(regeneratorRuntime.mark(function R(M,E,L){var k,N=this;return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return k=function(){var P=A(regeneratorRuntime.mark(function i(u){return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(u){f.next=2;break}return f.abrupt("return");case 2:if(u.deleted!=1||u.content!=null){f.next=4;break}return f.abrupt("return");case 4:if(!(typeof u.content=="string"||u.content instanceof String)){f.next=19;break}return f.prev=6,f.next=9,N.decryptItem(u,E);case 9:f.next=19;break;case 11:if(f.prev=11,f.t0=f.catch(6),u.errorDecrypting||(u.errorDecryptingValueChanged=!0),u.errorDecrypting=!0,!L){f.next=17;break}throw f.t0;case 17:return console.error("Error decrypting item",u,f.t0),f.abrupt("return");case 19:case"end":return f.stop()}},i,null,[[6,11]])}));return function(i){return P.apply(this,arguments)}}(),I.abrupt("return",Promise.all(M.map(function(P){return k(P)})));case 2:case"end":return I.stop()}},R)})),function(R,M,E){return v.apply(this,arguments)})}]),c}();d.SFItemTransformer=W,Ye=typeof window<"u"?window:S!==void 0?S:null;var V=function(){function c(v){Fe(this,c),Ye&&(typeof document<"u"&&document.documentMode||/Edge/.test(navigator.userAgent)||!Ye.crypto||!Ye.crypto.subtle?this.crypto=new G:this.crypto=new re),v&&(this.crypto=v),this.itemTransformer=new W(this.crypto),this.crypto.SFJS={version:this.version(),defaultPasswordGenerationCost:this.defaultPasswordGenerationCost()}}return ze(c,[{key:"version",value:function(){return"003"}},{key:"supportsPasswordDerivationCost",value:function(v){return!(v>5e3)||this.crypto instanceof re}},{key:"supportedVersions",value:function(){return["001","002","003"]}},{key:"isVersionNewerThanLibraryVersion",value:function(v){var h=this.version();return parseInt(v)>parseInt(h)}},{key:"isProtocolVersionOutdated",value:function(v){var h={"001":Date.parse("2018-01-01"),"002":Date.parse("2020-01-01")}[v];return!!h&&new Date>h}},{key:"costMinimumForVersion",value:function(v){return{"001":3e3,"002":3e3,"003":11e4}[v]}},{key:"defaultPasswordGenerationCost",value:function(){return this.costMinimumForVersion(this.version())}}]),c}();if(d.StandardFile=V,Ye)try{Ye.StandardFile=V,Ye.SFJS=new V,Ye.SFCryptoWeb=re,Ye.SFCryptoJS=G,Ye.SFItemTransformer=W,Ye.SFModelManager=Ke,Ye.SFItem=se,Ye.SFItemParams=ce,Ye.SFHttpManager=Ee,Ye.SFStorageManager=he,Ye.SFSyncManager=ne,Ye.SFAuthManager=lt,Ye.SFMigrationManager=Ae,Ye.SFAlertManager=Ze,Ye.SFPredicate=ge,Ye.SFHistorySession=F,Ye.SFSessionHistoryManager=ve,Ye.SFItemHistory=x,Ye.SFItemHistoryEntry=C,Ye.SFPrivilegesManager=nt,Ye.SFPrivileges=K,Ye.SFSingletonManager=ie}catch(c){console.log("Exception while exporting window variables",c)}}).call(this,r!==void 0?r:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[1])(1)}).call(this,n(2))},function(e,t){(function(n){var r=Object.prototype,o=r.hasOwnProperty,s=typeof Symbol=="function"?Symbol:{},d=s.iterator||"@@iterator",S=s.asyncIterator||"@@asyncIterator",D=s.toStringTag||"@@toStringTag",Z=typeof e=="object",de=n.regeneratorRuntime;if(de)Z&&(e.exports=de);else{(de=n.regeneratorRuntime=Z?e.exports:{}).wrap=tt;var me={},ae={};ae[d]=function(){return this};var be=Object.getPrototypeOf,ke=be&&be(be(lt([])));ke&&ke!==r&&o.call(ke,d)&&(ae=ke);var Pe=xe.prototype=J.prototype=Object.create(ae);fe.prototype=Pe.constructor=xe,xe.constructor=fe,xe[D]=fe.displayName="GeneratorFunction",de.isGeneratorFunction=function(Ee){var Ae=typeof Ee=="function"&&Ee.constructor;return!!Ae&&(Ae===fe||(Ae.displayName||Ae.name)==="GeneratorFunction")},de.mark=function(Ee){return Object.setPrototypeOf?Object.setPrototypeOf(Ee,xe):(Ee.__proto__=xe,D in Ee||(Ee[D]="GeneratorFunction")),Ee.prototype=Object.create(Pe),Ee},de.awrap=function(Ee){return{__await:Ee}},Be(A.prototype),A.prototype[S]=function(){return this},de.AsyncIterator=A,de.async=function(Ee,Ae,Ke,nt){var ve=new A(tt(Ee,Ae,Ke,nt));return de.isGeneratorFunction(Ae)?ve:ve.next().then(function(ie){return ie.done?ie.value:ve.next()})},Be(Pe),Pe[D]="Generator",Pe[d]=function(){return this},Pe.toString=function(){return"[object Generator]"},de.keys=function(Ee){var Ae=[];for(var Ke in Ee)Ae.push(Ke);return Ae.reverse(),function nt(){for(;Ae.length;){var ve=Ae.pop();if(ve in Ee)return nt.value=ve,nt.done=!1,nt}return nt.done=!0,nt}},de.values=lt,Ze.prototype={constructor:Ze,reset:function(Ee){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ze),!Ee)for(var Ae in this)Ae.charAt(0)==="t"&&o.call(this,Ae)&&!isNaN(+Ae.slice(1))&&(this[Ae]=void 0)},stop:function(){this.done=!0;var Ee=this.tryEntries[0].completion;if(Ee.type==="throw")throw Ee.arg;return this.rval},dispatchException:function(Ee){if(this.done)throw Ee;var Ae=this;function Ke(ne,se){return ie.type="throw",ie.arg=Ee,Ae.next=ne,se&&(Ae.method="next",Ae.arg=void 0),!!se}for(var nt=this.tryEntries.length-1;nt>=0;--nt){var ve=this.tryEntries[nt],ie=ve.completion;if(ve.tryLoc==="root")return Ke("end");if(ve.tryLoc<=this.prev){var he=o.call(ve,"catchLoc"),Ie=o.call(ve,"finallyLoc");if(he&&Ie){if(this.prev<ve.catchLoc)return Ke(ve.catchLoc,!0);if(this.prev<ve.finallyLoc)return Ke(ve.finallyLoc)}else if(he){if(this.prev<ve.catchLoc)return Ke(ve.catchLoc,!0)}else{if(!Ie)throw new Error("try statement without catch or finally");if(this.prev<ve.finallyLoc)return Ke(ve.finallyLoc)}}}},abrupt:function(Ee,Ae){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var nt=this.tryEntries[Ke];if(nt.tryLoc<=this.prev&&o.call(nt,"finallyLoc")&&this.prev<nt.finallyLoc){var ve=nt;break}}ve&&(Ee==="break"||Ee==="continue")&&ve.tryLoc<=Ae&&Ae<=ve.finallyLoc&&(ve=null);var ie=ve?ve.completion:{};return ie.type=Ee,ie.arg=Ae,ve?(this.method="next",this.next=ve.finallyLoc,me):this.complete(ie)},complete:function(Ee,Ae){if(Ee.type==="throw")throw Ee.arg;return Ee.type==="break"||Ee.type==="continue"?this.next=Ee.arg:Ee.type==="return"?(this.rval=this.arg=Ee.arg,this.method="return",this.next="end"):Ee.type==="normal"&&Ae&&(this.next=Ae),me},finish:function(Ee){for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var Ke=this.tryEntries[Ae];if(Ke.finallyLoc===Ee)return this.complete(Ke.completion,Ke.afterLoc),ze(Ke),me}},catch:function(Ee){for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var Ke=this.tryEntries[Ae];if(Ke.tryLoc===Ee){var nt=Ke.completion;if(nt.type==="throw"){var ve=nt.arg;ze(Ke)}return ve}}throw new Error("illegal catch attempt")},delegateYield:function(Ee,Ae,Ke){return this.delegate={iterator:lt(Ee),resultName:Ae,nextLoc:Ke},this.method==="next"&&(this.arg=void 0),me}}}function tt(Ee,Ae,Ke,nt){var ve=Ae&&Ae.prototype instanceof J?Ae:J,ie=Object.create(ve.prototype),he=new Ze(nt||[]);return ie._invoke=function(Ie,ne,se){var ce="suspendedStart";return function(ge,K){if(ce==="executing")throw new Error("Generator is already running");if(ce==="completed"){if(ge==="throw")throw K;return Ye()}for(se.method=ge,se.arg=K;;){var F=se.delegate;if(F){var x=Fe(F,se);if(x){if(x===me)continue;return x}}if(se.method==="next")se.sent=se._sent=se.arg;else if(se.method==="throw"){if(ce==="suspendedStart")throw ce="completed",se.arg;se.dispatchException(se.arg)}else se.method==="return"&&se.abrupt("return",se.arg);ce="executing";var C=le(Ie,ne,se);if(C.type==="normal"){if(ce=se.done?"completed":"suspendedYield",C.arg===me)continue;return{value:C.arg,done:se.done}}C.type==="throw"&&(ce="completed",se.method="throw",se.arg=C.arg)}}}(Ee,Ke,he),ie}function le(Ee,Ae,Ke){try{return{type:"normal",arg:Ee.call(Ae,Ke)}}catch(nt){return{type:"throw",arg:nt}}}function J(){}function fe(){}function xe(){}function Be(Ee){["next","throw","return"].forEach(function(Ae){Ee[Ae]=function(Ke){return this._invoke(Ae,Ke)}})}function A(Ee){var Ae;this._invoke=function(Ke,nt){function ve(){return new Promise(function(ie,he){(function Ie(ne,se,ce,ge){var K=le(Ee[ne],Ee,se);if(K.type!=="throw"){var F=K.arg,x=F.value;return x&&typeof x=="object"&&o.call(x,"__await")?Promise.resolve(x.__await).then(function(C){Ie("next",C,ce,ge)},function(C){Ie("throw",C,ce,ge)}):Promise.resolve(x).then(function(C){F.value=C,ce(F)},ge)}ge(K.arg)})(Ke,nt,ie,he)})}return Ae=Ae?Ae.then(ve,ve):ve()}}function Fe(Ee,Ae){var Ke=Ee.iterator[Ae.method];if(Ke===void 0){if(Ae.delegate=null,Ae.method==="throw"){if(Ee.iterator.return&&(Ae.method="return",Ae.arg=void 0,Fe(Ee,Ae),Ae.method==="throw"))return me;Ae.method="throw",Ae.arg=new TypeError("The iterator does not provide a 'throw' method")}return me}var nt=le(Ke,Ee.iterator,Ae.arg);if(nt.type==="throw")return Ae.method="throw",Ae.arg=nt.arg,Ae.delegate=null,me;var ve=nt.arg;return ve?ve.done?(Ae[Ee.resultName]=ve.value,Ae.next=Ee.nextLoc,Ae.method!=="return"&&(Ae.method="next",Ae.arg=void 0),Ae.delegate=null,me):ve:(Ae.method="throw",Ae.arg=new TypeError("iterator result is not an object"),Ae.delegate=null,me)}function He(Ee){var Ae={tryLoc:Ee[0]};1 in Ee&&(Ae.catchLoc=Ee[1]),2 in Ee&&(Ae.finallyLoc=Ee[2],Ae.afterLoc=Ee[3]),this.tryEntries.push(Ae)}function ze(Ee){var Ae=Ee.completion||{};Ae.type="normal",delete Ae.arg,Ee.completion=Ae}function Ze(Ee){this.tryEntries=[{tryLoc:"root"}],Ee.forEach(He,this),this.reset(!0)}function lt(Ee){if(Ee){var Ae=Ee[d];if(Ae)return Ae.call(Ee);if(typeof Ee.next=="function")return Ee;if(!isNaN(Ee.length)){var Ke=-1,nt=function ve(){for(;++Ke<Ee.length;)if(o.call(Ee,Ke))return ve.value=Ee[Ke],ve.done=!1,ve;return ve.value=void 0,ve.done=!0,ve};return nt.next=nt}}return{next:Ye}}function Ye(){return{value:void 0,done:!0}}})(function(){return this}()||Function("return this")())},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}e.exports=n},function(e,t,n){(function(r,o){var s;/**
 * @license
 * Lodash (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 * Build: `lodash include="includes,merge,filter,map,remove,find,omit,pull,cloneDeep,pick,uniq,sortedIndexBy,mergeWith"`
 */(function(){function d(a,m){return a.set(m[0],m[1]),a}function S(a,m){return a.add(m),a}function D(a,m,b){switch(b.length){case 0:return a.call(m);case 1:return a.call(m,b[0]);case 2:return a.call(m,b[0],b[1]);case 3:return a.call(m,b[0],b[1],b[2])}return a.apply(m,b)}function Z(a,m){for(var b=-1,te=a==null?0:a.length,we=0,Ce=[];++b<te;){var _e=a[b];m(_e,b,a)&&(Ce[we++]=_e)}return Ce}function de(a,m){return!(a==null||!a.length)&&-1<tt(a,m,0)}function me(a,m){for(var b=-1,te=a==null?0:a.length,we=Array(te);++b<te;)we[b]=m(a[b],b,a);return we}function ae(a,m){for(var b=-1,te=m.length,we=a.length;++b<te;)a[we+b]=m[b];return a}function be(a,m,b){for(var te=-1,we=a==null?0:a.length;++te<we;)b=m(b,a[te],te,a);return b}function ke(a,m){for(var b=-1,te=a==null?0:a.length;++b<te;)if(m(a[b],b,a))return!0;return!1}function Pe(a,m,b){var te=a.length;for(b+=-1;++b<te;)if(m(a[b],b,a))return b;return-1}function tt(a,m,b){if(m==m)e:{--b;for(var te=a.length;++b<te;)if(a[b]===m){a=b;break e}a=-1}else a=Pe(a,le,b);return a}function le(a){return a!=a}function J(a,m){return a.has(m)}function fe(a){var m=-1,b=Array(a.size);return a.forEach(function(te,we){b[++m]=[we,te]}),b}function xe(a){var m=Object;return function(b){return a(m(b))}}function Be(a){var m=-1,b=Array(a.size);return a.forEach(function(te){b[++m]=te}),b}function A(){}function Fe(a){var m=-1,b=a==null?0:a.length;for(this.clear();++m<b;){var te=a[m];this.set(te[0],te[1])}}function He(a){var m=-1,b=a==null?0:a.length;for(this.clear();++m<b;){var te=a[m];this.set(te[0],te[1])}}function ze(a){var m=-1,b=a==null?0:a.length;for(this.clear();++m<b;){var te=a[m];this.set(te[0],te[1])}}function Ze(a){var m=-1,b=a==null?0:a.length;for(this.__data__=new ze;++m<b;)this.add(a[m])}function lt(a){this.size=(this.__data__=new He(a)).size}function Ye(a,m){var b=Bt(a),te=!b&&Rr(a),we=!b&&!te&&Cr(a),Ce=!b&&!te&&!we&&uo(a);if(b=b||te||we||Ce){te=a.length;for(var _e=String,We=-1,Ve=Array(te);++We<te;)Ve[We]=_e(We);te=Ve}else te=[];var Xe;_e=te.length;for(Xe in a)!m&&!Xt.call(a,Xe)||b&&(Xe=="length"||we&&(Xe=="offset"||Xe=="parent")||Ce&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||u(Xe,_e))||te.push(Xe);return te}function Ee(a,m,b){(b===Je||O(a[m],b))&&(b!==Je||m in a)||nt(a,m,b)}function Ae(a,m,b){var te=a[m];Xt.call(a,m)&&O(te,b)&&(b!==Je||m in a)||nt(a,m,b)}function Ke(a,m){for(var b=a.length;b--;)if(O(a[b][0],m))return b;return-1}function nt(a,m,b){m=="__proto__"&&oo?oo(a,m,{configurable:!0,enumerable:!0,value:b,writable:!0}):a[m]=b}function ve(a,m,b,te,we,Ce){var _e,We=1&m,Ve=2&m,Xe=4&m;if(b&&(_e=we?b(a,te,we,Ce):b(a)),_e!==Je)return _e;if(!Y(a))return a;if(te=Bt(a)){if(_e=function(at){var ot=at.length,dt=at.constructor(ot);return ot&&typeof at[0]=="string"&&Xt.call(at,"index")&&(dt.index=at.index,dt.input=at.input),dt}(a),!We)return c(a,_e)}else{var ut=Fn(a),mt=ut=="[object Function]"||ut=="[object GeneratorFunction]";if(Cr(a))return re(a,We);if(ut=="[object Object]"||ut=="[object Arguments]"||mt&&!we){if(_e=Ve||mt?{}:I(a),!We)return Ve?function(at,ot){return v(at,gl(at),ot)}(a,function(at,ot){return at&&v(ot,st(ot),at)}(_e,a)):function(at,ot){return v(at,Na(at),ot)}(a,function(at,ot){return at&&v(ot,Ge(ot),at)}(_e,a))}else{if(!gt[ut])return we?a:{};_e=P(a,ut,ve,We)}}if(Ce||(Ce=new lt),we=Ce.get(a))return we;Ce.set(a,_e),Ve=Xe?Ve?E:M:Ve?st:Ge;var _t=te?Je:Ve(a);return function(at,ot){for(var dt=-1,Et=at==null?0:at.length;++dt<Et&&ot(at[dt],dt,at)!==!1;);}(_t||a,function(at,ot){_t&&(at=a[ot=at]),Ae(_e,ot,ve(at,m,b,ot,a,Ce))}),_e}function ie(a,m){var b=[];return hl(a,function(te,we,Ce){m(te,we,Ce)&&b.push(te)}),b}function he(a,m){for(var b=0,te=(m=T(m,a)).length;a!=null&&b<te;)a=a[j(m[b++])];return b&&b==te?a:Je}function Ie(a,m,b){return m=m(a),Bt(a)?m:ae(m,b(a))}function ne(a){if(a==null)a=a===Je?"[object Undefined]":"[object Null]";else if(lr&&lr in Object(a)){var m=Xt.call(a,lr),b=a[lr];try{a[lr]=Je;var te=!0}catch{}var we=ul.call(a);te&&(m?a[lr]=b:delete a[lr]),a=we}else a=ul.call(a);return a}function se(a){return Q(a)&&ne(a)=="[object Arguments]"}function ce(a,m,b,te,we){if(a===m)m=!0;else if(a==null||m==null||!Q(a)&&!Q(m))m=a!=a&&m!=m;else e:{var Ce,_e,We=Bt(a),Ve=Bt(m),Xe=(Ce=(Ce=We?"[object Array]":Fn(a))=="[object Arguments]"?"[object Object]":Ce)=="[object Object]";if(Ve=(_e=(_e=Ve?"[object Array]":Fn(m))=="[object Arguments]"?"[object Object]":_e)=="[object Object]",(_e=Ce==_e)&&Cr(a)){if(!Cr(m)){m=!1;break e}We=!0,Xe=!1}if(_e&&!Xe)we||(we=new lt),m=We||uo(a)?U(a,m,b,te,ce,we):function(dt,Et,Ba,za,gd,yl,lo){switch(Ba){case"[object DataView]":if(dt.byteLength!=Et.byteLength||dt.byteOffset!=Et.byteOffset)break;dt=dt.buffer,Et=Et.buffer;case"[object ArrayBuffer]":if(dt.byteLength!=Et.byteLength||!yl(new ro(dt),new ro(Et)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+dt,+Et);case"[object Error]":return dt.name==Et.name&&dt.message==Et.message;case"[object RegExp]":case"[object String]":return dt==Et+"";case"[object Map]":var co=fe;case"[object Set]":if(co||(co=Be),dt.size!=Et.size&&!(1&za))break;return(Ba=lo.get(dt))?Ba==Et:(za|=2,lo.set(dt,Et),Et=U(co(dt),co(Et),za,gd,yl,lo),lo.delete(dt),Et);case"[object Symbol]":if(si)return si.call(dt)==si.call(Et)}return!1}(a,m,Ce,b,te,ce,we);else{if(!(1&b)&&(We=Xe&&Xt.call(a,"__wrapped__"),Ce=Ve&&Xt.call(m,"__wrapped__"),We||Ce)){a=We?a.value():a,m=Ce?m.value():m,we||(we=new lt),m=ce(a,m,b,te,we);break e}if(_e)t:if(we||(we=new lt),We=1&b,Ce=M(a),Ve=Ce.length,_e=M(m).length,Ve==_e||We){for(Xe=Ve;Xe--;){var ut=Ce[Xe];if(!(We?ut in m:Xt.call(m,ut))){m=!1;break t}}if((_e=we.get(a))&&we.get(m))m=_e==m;else{_e=!0,we.set(a,m),we.set(m,a);for(var mt=We;++Xe<Ve;){var _t=a[ut=Ce[Xe]],at=m[ut];if(te)var ot=We?te(at,_t,ut,m,a,we):te(_t,at,ut,a,m,we);if(ot===Je?_t!==at&&!ce(_t,at,b,te,we):!ot){_e=!1;break}mt||(mt=ut=="constructor")}_e&&!mt&&(b=a.constructor)!=(te=m.constructor)&&"constructor"in a&&"constructor"in m&&!(typeof b=="function"&&b instanceof b&&typeof te=="function"&&te instanceof te)&&(_e=!1),we.delete(a),we.delete(m),m=_e}}else m=!1;else m=!1}}return m}function ge(a){return typeof a=="function"?a:a==null?Ne:typeof a=="object"?Bt(a)?function(m,b){return f(m)&&b==b&&!Y(b)?p(j(m),b):function(te){var we=ct(te,m);return we===Je&&we===b?Le(te,m):ce(b,we,3)}}(a[0],a[1]):function(m){var b=function(te){for(var we=Ge(te),Ce=we.length;Ce--;){var _e=we[Ce],We=te[_e];we[Ce]=[_e,We,We==We&&!Y(We)]}return we}(m);return b.length==1&&b[0][2]?p(b[0][0],b[0][1]):function(te){return te===m||function(we,Ce){var _e=Ce.length,We=_e;if(we==null)return!We;for(we=Object(we);_e--;)if((Ve=Ce[_e])[2]?Ve[1]!==we[Ve[0]]:!(Ve[0]in we))return!1;for(;++_e<We;){var Ve,Xe=(Ve=Ce[_e])[0],ut=we[Xe],mt=Ve[1];if(Ve[2]){if(ut===Je&&!(Xe in we))return!1}else if(!ce(mt,ut,3,void 0,Ve=new lt))return!1}return!0}(te,b)}}(a):Ot(a)}function K(a,m){var b=-1,te=ee(a)?Array(a.length):[];return hl(a,function(we,Ce,_e){te[++b]=m(we,Ce,_e)}),te}function F(a,m,b,te,we){a!==m&&ml(m,function(Ce,_e){if(Y(Ce)){we||(we=new lt);var We=we,Ve=a[_e],Xe=m[_e];if(ot=We.get(Xe))Ee(a,_e,ot);else{var ut=(ot=te?te(Ve,Xe,_e+"",a,m,We):Je)===Je;if(ut){var mt=Bt(Xe),_t=!mt&&Cr(Xe),at=!mt&&!_t&&uo(Xe),ot=Xe;mt||_t||at?Bt(Ve)?ot=Ve:pe(Ve)?ot=c(Ve):_t?(ut=!1,ot=re(Xe,!0)):at?(ut=!1,ot=V(Xe,!0)):ot=[]:ue(Xe)||Rr(Xe)?(ot=Ve,Rr(Ve)?ot=$e(Ve):(!Y(Ve)||b&&Se(Ve))&&(ot=I(Xe))):ut=!1}ut&&(We.set(Xe,ot),F(ot,Xe,b,te,We),We.delete(Xe)),Ee(a,_e,ot)}}else(We=te?te(a[_e],Ce,_e+"",a,m,we):Je)===Je&&(We=Ce),Ee(a,_e,We)},st)}function x(a,m){return function(b,te,we){for(var Ce=-1,_e=te.length,We={};++Ce<_e;){var Ve=te[Ce],Xe=he(b,Ve);if(we(Xe,Ve)){var ut=We;if(Ve=T(Ve,b),Y(ut)){Ve=T(Ve,ut);for(var mt=-1,_t=Ve.length,at=_t-1;ut!=null&&++mt<_t;){var ot=j(Ve[mt]),dt=Xe;if(mt!=at){var Et=ut[ot];(dt=Je)===Je&&(dt=Y(Et)?Et:u(Ve[mt+1])?[]:{})}Ae(ut,ot,dt),ut=ut[ot]}}}}return We}(a,m,function(b,te){return Le(a,te)})}function C(a){return vl(g(a,void 0,Ne),a+"")}function z(a){if(typeof a=="string")return a;if(Bt(a))return me(a,z)+"";if(De(a))return dl?dl.call(a):"";var m=a+"";return m=="0"&&1/a==-Me?"-0":m}function G(a,m){var b;if(2>(m=T(m,a)).length)b=a;else{var te=0,we=-1,Ce=-1,_e=(b=m).length;for(0>te&&(te=-te>_e?0:_e+te),0>(we=we>_e?_e:we)&&(we+=_e),_e=te>we?0:we-te>>>0,te>>>=0,we=Array(_e);++Ce<_e;)we[Ce]=b[Ce+te];b=he(a,we)}(a=b)==null||delete a[j(H(m))]}function T(a,m){return Bt(a)?a:f(a,m)?[a]:ld(et(a))}function re(a,m){if(m)return a.slice();var b=a.length;return b=ll?ll(b):new a.constructor(b),a.copy(b),b}function W(a){var m=new a.constructor(a.byteLength);return new ro(m).set(new ro(a)),m}function V(a,m){return new a.constructor(m?W(a.buffer):a.buffer,a.byteOffset,a.length)}function c(a,m){var b=-1,te=a.length;for(m||(m=Array(te));++b<te;)m[b]=a[b];return m}function v(a,m,b){var te=!b;b||(b={});for(var we=-1,Ce=m.length;++we<Ce;){var _e=m[we],We=Je;We===Je&&(We=a[_e]),te?nt(b,_e,We):Ae(b,_e,We)}return b}function h(a){return C(function(m,b){var te,we=-1,Ce=b.length,_e=1<Ce?b[Ce-1]:Je,We=2<Ce?b[2]:Je;if(_e=3<a.length&&typeof _e=="function"?(Ce--,_e):Je,te=We){te=b[0];var Ve=b[1];if(Y(We)){var Xe=typeof Ve;te=!!(Xe=="number"?ee(We)&&u(Ve,We.length):Xe=="string"&&Ve in We)&&O(We[Ve],te)}else te=!1}for(te&&(_e=3>Ce?Je:_e,Ce=1),m=Object(m);++we<Ce;)(We=b[we])&&a(m,We,we,_e);return m})}function y(a){return ue(a)?Je:a}function U(a,m,b,te,we,Ce){var _e=1&b,We=a.length;if(We!=(Ve=m.length)&&!(_e&&Ve>We))return!1;if((Ve=Ce.get(a))&&Ce.get(m))return Ve==m;var Ve=-1,Xe=!0,ut=2&b?new Ze:Je;for(Ce.set(a,m),Ce.set(m,a);++Ve<We;){var mt=a[Ve],_t=m[Ve];if(te)var at=_e?te(_t,mt,Ve,m,a,Ce):te(mt,_t,Ve,a,m,Ce);if(at!==Je){if(at)continue;Xe=!1;break}if(ut){if(!ke(m,function(ot,dt){if(!J(ut,dt)&&(mt===ot||we(mt,ot,b,te,Ce)))return ut.push(dt)})){Xe=!1;break}}else if(mt!==_t&&!we(mt,_t,b,te,Ce)){Xe=!1;break}}return Ce.delete(a),Ce.delete(m),Xe}function R(a){return vl(g(a,Je,X),a+"")}function M(a){return Ie(a,Ge,Na)}function E(a){return Ie(a,st,gl)}function L(){var a=(a=A.iteratee||it)===it?ge:a;return arguments.length?a(arguments[0],arguments[1]):a}function k(a,m){var b=a.__data__,te=typeof m;return(te=="string"||te=="number"||te=="symbol"||te=="boolean"?m!=="__proto__":m===null)?b[typeof m=="string"?"string":"hash"]:b.map}function N(a,m){var b=a==null?Je:a[m];return!Y(b)||sl&&sl in b||!(Se(b)?qp:Hp).test(q(b))?Je:b}function I(a){return typeof a.constructor!="function"||l(a)?{}:ad(Ma(a))}function P(a,m,b,te){var we=a.constructor;switch(m){case"[object ArrayBuffer]":return W(a);case"[object Boolean]":case"[object Date]":return new we(+a);case"[object DataView]":return m=te?W(a.buffer):a.buffer,new a.constructor(m,a.byteOffset,a.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return V(a,te);case"[object Map]":return be(m=te?b(fe(a),1):fe(a),d,new a.constructor);case"[object Number]":case"[object String]":return new we(a);case"[object RegExp]":return(m=new a.constructor(a.source,Da.exec(a))).lastIndex=a.lastIndex,m;case"[object Set]":return be(m=te?b(Be(a),1):Be(a),S,new a.constructor);case"[object Symbol]":return si?Object(si.call(a)):{}}}function i(a){return Bt(a)||Rr(a)||!!(pl&&a&&a[pl])}function u(a,m){return!!(m=m==null?9007199254740991:m)&&(typeof a=="number"||Wp.test(a))&&-1<a&&a%1==0&&a<m}function f(a,m){if(Bt(a))return!1;var b=typeof a;return!(b!="number"&&b!="symbol"&&b!="boolean"&&a!=null&&!De(a))||Ue.test(a)||!Gt.test(a)||m!=null&&a in Object(m)}function l(a){var m=a&&a.constructor;return a===(typeof m=="function"&&m.prototype||eo)}function p(a,m){return function(b){return b!=null&&b[a]===m&&(m!==Je||a in Object(b))}}function g(a,m,b){return m=ao(m===Je?a.length-1:m,0),function(){for(var te=arguments,we=-1,Ce=ao(te.length-m,0),_e=Array(Ce);++we<Ce;)_e[we]=te[m+we];for(we=-1,Ce=Array(m+1);++we<m;)Ce[we]=te[we];return Ce[m]=b(_e),D(a,this,Ce)}}function j(a){if(typeof a=="string"||De(a))return a;var m=a+"";return m=="0"&&1/a==-Me?"-0":m}function q(a){if(a!=null){try{return to.call(a)}catch{}return a+""}return""}function B(a,m,b){var te=a==null?0:a.length;return te?(0>(b=b==null?0:Oe(b))&&(b=ao(te+b,0)),Pe(a,L(m,3),b)):-1}function X(a){return a!=null&&a.length?function m(b,te,we,Ce,_e){var We=-1,Ve=b.length;for(we||(we=i),_e||(_e=[]);++We<Ve;){var Xe=b[We];0<te&&we(Xe)?1<te?m(Xe,te-1,we,Ce,_e):ae(_e,Xe):Ce||(_e[_e.length]=Xe)}return _e}(a,1):[]}function H(a){var m=a==null?0:a.length;return m?a[m-1]:Je}function $(a,m){var b;if(a&&a.length&&m&&m.length){var te=tt,we=-1,Ce=(b=m).length;for(a===b&&(b=c(b));++we<Ce;)for(var _e=0,We=b[we];-1<(_e=te(a,We,_e,void 0));)a!=a&&io.call(a,_e,1),io.call(a,_e,1);b=a}else b=a;return b}function w(a,m){function b(){var te=arguments,we=m?m.apply(this,te):te[0],Ce=b.cache;return Ce.has(we)?Ce.get(we):(te=a.apply(this,te),b.cache=Ce.set(we,te)||Ce,te)}if(typeof a!="function"||m!=null&&typeof m!="function")throw new TypeError("Expected a function");return b.cache=new(w.Cache||ze),b}function O(a,m){return a===m||a!=a&&m!=m}function ee(a){return a!=null&&oe(a.length)&&!Se(a)}function pe(a){return Q(a)&&ee(a)}function Se(a){return!!Y(a)&&((a=ne(a))=="[object Function]"||a=="[object GeneratorFunction]"||a=="[object AsyncFunction]"||a=="[object Proxy]")}function oe(a){return typeof a=="number"&&-1<a&&a%1==0&&9007199254740991>=a}function Y(a){var m=typeof a;return a!=null&&(m=="object"||m=="function")}function Q(a){return a!=null&&typeof a=="object"}function ue(a){return!(!Q(a)||ne(a)!="[object Object]")&&((a=Ma(a))===null||typeof(a=Xt.call(a,"constructor")&&a.constructor)=="function"&&a instanceof a&&to.call(a)==Qp)}function je(a){return typeof a=="string"||!Bt(a)&&Q(a)&&ne(a)=="[object String]"}function De(a){return typeof a=="symbol"||Q(a)&&ne(a)=="[object Symbol]"}function Re(a){return a?(a=ye(a))===Me||a===-Me?17976931348623157e292*(0>a?-1:1):a==a?a:0:a===0?a:0}function Oe(a){var m=(a=Re(a))%1;return a==a?m?a-m:a:0}function ye(a){if(typeof a=="number")return a;if(De(a))return Ct;if(Y(a)&&(a=Y(a=typeof a.valueOf=="function"?a.valueOf():a)?a+"":a),typeof a!="string")return a===0?a:+a;a=a.replace(Pn,"");var m=Up.test(a);return m||Kp.test(a)?$p(a.slice(2),m?2:8):Xi.test(a)?Ct:+a}function $e(a){return v(a,st(a))}function et(a){return a==null?"":z(a)}function ct(a,m,b){return(a=a==null?Je:he(a,m))===Je?b:a}function Le(a,m){var b;if(b=a!=null){for(var te,we=-1,Ce=(te=T(m,b=a)).length,_e=!1;++we<Ce;){var We=j(te[we]);if(!(_e=b!=null&&b!=null&&We in Object(b)))break;b=b[We]}_e||++we!=Ce?b=_e:b=!!(Ce=b==null?0:b.length)&&oe(Ce)&&u(We,Ce)&&(Bt(b)||Rr(b))}return b}function Ge(a){if(ee(a))a=Ye(a);else if(l(a)){var m,b=[];for(m in Object(a))Xt.call(a,m)&&m!="constructor"&&b.push(m);a=b}else a=Xp(a);return a}function st(a){if(ee(a))a=Ye(a,!0);else if(Y(a)){var m,b=l(a),te=[];for(m in a)(m!="constructor"||!b&&Xt.call(a,m))&&te.push(m);a=te}else{if(m=[],a!=null)for(b in Object(a))m.push(b);a=m}return a}function qe(a){return a==null?[]:function(m,b){return me(b,function(te){return m[te]})}(a,Ge(a))}function rt(a){return function(){return a}}function Ne(a){return a}function it(a){return ge(typeof a=="function"?a:ve(a,1))}function yt(){}function Ot(a){return f(a)?function(m){return function(b){return b==null?Je:b[m]}}(j(a)):function(m){return function(b){return he(b,m)}}(a)}function Dt(){return[]}function Ft(){return!1}var Je,Me=1/0,Ct=NaN,Gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ue=/^\w*$/,ii=/^\./,Dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pn=/^\s+|\s+$/g,Aa=/\\(\\)?/g,Da=/\w*$/,Xi=/^[-+]0x[0-9a-f]+$/i,Up=/^0b[01]+$/i,Hp=/^\[object .+?Constructor\]$/,Kp=/^0o[0-7]+$/i,Wp=/^(?:0|[1-9]\d*)$/,kt={};kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt["[object Arguments]"]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object Boolean]"]=kt["[object DataView]"]=kt["[object Date]"]=kt["[object Error]"]=kt["[object Function]"]=kt["[object Map]"]=kt["[object Number]"]=kt["[object Object]"]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object WeakMap]"]=!1;var gt={};gt["[object Arguments]"]=gt["[object Array]"]=gt["[object ArrayBuffer]"]=gt["[object DataView]"]=gt["[object Boolean]"]=gt["[object Date]"]=gt["[object Float32Array]"]=gt["[object Float64Array]"]=gt["[object Int8Array]"]=gt["[object Int16Array]"]=gt["[object Int32Array]"]=gt["[object Map]"]=gt["[object Number]"]=gt["[object Object]"]=gt["[object RegExp]"]=gt["[object Set]"]=gt["[object String]"]=gt["[object Symbol]"]=gt["[object Uint8Array]"]=gt["[object Uint8ClampedArray]"]=gt["[object Uint16Array]"]=gt["[object Uint32Array]"]=!0,gt["[object Error]"]=gt["[object Function]"]=gt["[object WeakMap]"]=!1;var Zi,$p=parseInt,nl=typeof r=="object"&&r&&r.Object===Object&&r,Vp=typeof self=="object"&&self&&self.Object===Object&&self,bn=nl||Vp||Function("return this")(),rl=t&&!t.nodeType&&t,il=rl&&typeof o=="object"&&o&&!o.nodeType&&o,ol=il&&il.exports===rl,Pa=ol&&nl.process;e:{try{Zi=Pa&&Pa.binding&&Pa.binding("util");break e}catch{}Zi=void 0}var al=Zi&&Zi.isTypedArray,Jp=Array.prototype,eo=Object.prototype,Fa=bn["__core-js_shared__"],to=Function.prototype.toString,Xt=eo.hasOwnProperty,sl=function(){var a=/[^.]+$/.exec(Fa&&Fa.keys&&Fa.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ul=eo.toString,Qp=to.call(Object),qp=RegExp("^"+to.call(Xt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),no=ol?bn.Buffer:Je,br=bn.Symbol,ro=bn.Uint8Array,ll=no?no.a:Je,Ma=xe(Object.getPrototypeOf),cl=Object.create,fl=eo.propertyIsEnumerable,io=Jp.splice,pl=br?br.isConcatSpreadable:Je,lr=br?br.toStringTag:Je,oo=function(){try{var a=N(Object,"defineProperty");return a({},"",{}),a}catch{}}(),Yp=Math.floor,Oa=Object.getOwnPropertySymbols,Gp=no?no.isBuffer:Je,Xp=xe(Object.keys),ao=Math.max,Zp=Math.min,ed=Date.now,Ta=N(bn,"DataView"),oi=N(bn,"Map"),La=N(bn,"Promise"),Ir=N(bn,"Set"),ja=N(bn,"WeakMap"),ai=N(Object,"create"),td=q(Ta),nd=q(oi),rd=q(La),id=q(Ir),od=q(ja),so=br?br.prototype:Je,si=so?so.valueOf:Je,dl=so?so.toString:Je,ad=function(){function a(){}return function(m){return Y(m)?cl?cl(m):(a.prototype=m,m=new a,a.prototype=Je,m):{}}}();Fe.prototype.clear=function(){this.__data__=ai?ai(null):{},this.size=0},Fe.prototype.delete=function(a){return a=this.has(a)&&delete this.__data__[a],this.size-=a?1:0,a},Fe.prototype.get=function(a){var m=this.__data__;return ai?(a=m[a])==="__lodash_hash_undefined__"?Je:a:Xt.call(m,a)?m[a]:Je},Fe.prototype.has=function(a){var m=this.__data__;return ai?m[a]!==Je:Xt.call(m,a)},Fe.prototype.set=function(a,m){var b=this.__data__;return this.size+=this.has(a)?0:1,b[a]=ai&&m===Je?"__lodash_hash_undefined__":m,this},He.prototype.clear=function(){this.__data__=[],this.size=0},He.prototype.delete=function(a){var m=this.__data__;return!(0>(a=Ke(m,a))||(a==m.length-1?m.pop():io.call(m,a,1),--this.size,0))},He.prototype.get=function(a){var m=this.__data__;return 0>(a=Ke(m,a))?Je:m[a][1]},He.prototype.has=function(a){return-1<Ke(this.__data__,a)},He.prototype.set=function(a,m){var b=this.__data__,te=Ke(b,a);return 0>te?(++this.size,b.push([a,m])):b[te][1]=m,this},ze.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(oi||He),string:new Fe}},ze.prototype.delete=function(a){return a=k(this,a).delete(a),this.size-=a?1:0,a},ze.prototype.get=function(a){return k(this,a).get(a)},ze.prototype.has=function(a){return k(this,a).has(a)},ze.prototype.set=function(a,m){var b=k(this,a),te=b.size;return b.set(a,m),this.size+=b.size==te?0:1,this},Ze.prototype.add=Ze.prototype.push=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},Ze.prototype.has=function(a){return this.__data__.has(a)},lt.prototype.clear=function(){this.__data__=new He,this.size=0},lt.prototype.delete=function(a){var m=this.__data__;return a=m.delete(a),this.size=m.size,a},lt.prototype.get=function(a){return this.__data__.get(a)},lt.prototype.has=function(a){return this.__data__.has(a)},lt.prototype.set=function(a,m){var b=this.__data__;if(b instanceof He){var te=b.__data__;if(!oi||199>te.length)return te.push([a,m]),this.size=++b.size,this;b=this.__data__=new ze(te)}return b.set(a,m),this.size=b.size,this};var hl=function(a,m){if(a==null)return a;if(!ee(a))return function(Ce,_e){return Ce&&ml(Ce,_e,Ge)}(a,m);for(var b=a.length,te=-1,we=Object(a);++te<b&&m(we[te],te,we)!==!1;);return a},ml=function(a,m,b){for(var te=-1,we=Object(a),Ce=(b=b(a)).length;Ce--;){var _e=b[++te];if(m(we[_e],_e,we)===!1)break}return a},sd=oo?function(a,m){return oo(a,"toString",{configurable:!0,enumerable:!1,value:rt(m),writable:!0})}:Ne,ud=Ir&&1/Be(new Ir([,-0]))[1]==Me?function(a){return new Ir(a)}:yt,Na=Oa?function(a){return a==null?[]:(a=Object(a),Z(Oa(a),function(m){return fl.call(a,m)}))}:Dt,gl=Oa?function(a){for(var m=[];a;)ae(m,Na(a)),a=Ma(a);return m}:Dt,Fn=ne;(Ta&&Fn(new Ta(new ArrayBuffer(1)))!="[object DataView]"||oi&&Fn(new oi)!="[object Map]"||La&&Fn(La.resolve())!="[object Promise]"||Ir&&Fn(new Ir)!="[object Set]"||ja&&Fn(new ja)!="[object WeakMap]")&&(Fn=function(a){var m=ne(a);if(a=(a=m=="[object Object]"?a.constructor:Je)?q(a):"")switch(a){case td:return"[object DataView]";case nd:return"[object Map]";case rd:return"[object Promise]";case id:return"[object Set]";case od:return"[object WeakMap]"}return m});var vl=function(a){var m=0,b=0;return function(){var te=ed(),we=16-(te-b);if(b=te,0<we){if(800<=++m)return arguments[0]}else m=0;return a.apply(Je,arguments)}}(sd),ld=function(a){var m=(a=w(a,function(b){return m.size===500&&m.clear(),b})).cache;return a}(function(a){var m=[];return ii.test(a)&&m.push(""),a.replace(Dn,function(b,te,we,Ce){m.push(we?Ce.replace(Aa,"$1"):te||b)}),m}),cd=C($),fd=function(a){return function(m,b,te){var we=Object(m);if(!ee(m)){var Ce=L(b,3);m=Ge(m),b=function(_e){return Ce(we[_e],_e,we)}}return-1<(b=a(m,b,te))?we[Ce?m[b]:b]:Je}}(B);w.Cache=ze;var Rr=se(function(){return arguments}())?se:function(a){return Q(a)&&Xt.call(a,"callee")&&!fl.call(a,"callee")},Bt=Array.isArray,Cr=Gp||Ft,uo=al?function(a){return function(m){return a(m)}}(al):function(a){return Q(a)&&oe(a.length)&&!!kt[ne(a)]},pd=h(function(a,m,b){F(a,m,b)}),dd=h(function(a,m,b,te){F(a,m,b,te)}),hd=R(function(a,m){var b={};if(a==null)return b;var te=!1;m=me(m,function(Ce){return Ce=T(Ce,a),te||(te=1<Ce.length),Ce}),v(a,E(a),b),te&&(b=ve(b,7,y));for(var we=m.length;we--;)G(b,m[we]);return b}),md=R(function(a,m){return a==null?{}:x(a,m)});A.constant=rt,A.filter=function(a,m){return(Bt(a)?Z:ie)(a,L(m,3))},A.flatten=X,A.iteratee=it,A.keys=Ge,A.keysIn=st,A.map=function(a,m){return(Bt(a)?me:K)(a,L(m,3))},A.memoize=w,A.merge=pd,A.mergeWith=dd,A.omit=hd,A.pick=md,A.property=Ot,A.pull=cd,A.pullAll=$,A.remove=function(a,m){var b=[];if(!a||!a.length)return b;var te=-1,we=[],Ce=a.length;for(m=L(m,3);++te<Ce;){var _e=a[te];m(_e,te,a)&&(b.push(_e),we.push(te))}for(Ce=(te=a?we.length:0)-1;te--;)if(_e=we[te],te==Ce||_e!==We){var We=_e;u(_e)?io.call(a,_e,1):G(a,_e)}return b},A.toPlainObject=$e,A.uniq=function(a){if(a&&a.length)e:{var m=-1,b=de,te=a.length,we=!0,Ce=[],_e=Ce;if(200<=te){if(b=ud(a)){a=Be(b);break e}we=!1,b=J,_e=new Ze}else _e=Ce;t:for(;++m<te;){var We=Ve=a[m],Ve=Ve!==0?Ve:0;if(we&&We==We){for(var Xe=_e.length;Xe--;)if(_e[Xe]===We)continue t;Ce.push(Ve)}else b(_e,We,void 0)||(_e!==Ce&&_e.push(We),Ce.push(Ve))}a=Ce}else a=[];return a},A.values=qe,A.cloneDeep=function(a){return ve(a,5)},A.eq=O,A.find=fd,A.findIndex=B,A.get=ct,A.hasIn=Le,A.identity=Ne,A.includes=function(a,m,b,te){return a=ee(a)?a:qe(a),b=b&&!te?Oe(b):0,te=a.length,0>b&&(b=ao(te+b,0)),je(a)?b<=te&&-1<a.indexOf(m,b):!!te&&-1<tt(a,m,b)},A.isArguments=Rr,A.isArray=Bt,A.isArrayLike=ee,A.isArrayLikeObject=pe,A.isBuffer=Cr,A.isFunction=Se,A.isLength=oe,A.isObject=Y,A.isObjectLike=Q,A.isPlainObject=ue,A.isString=je,A.isSymbol=De,A.isTypedArray=uo,A.last=H,A.stubArray=Dt,A.stubFalse=Ft,A.noop=yt,A.sortedIndexBy=function(a,m,b){m=(b=L(b,2))(m);for(var te=0,we=a==null?0:a.length,Ce=m!=m,_e=m===null,We=De(m),Ve=m===Je;te<we;){var Xe=Yp((te+we)/2),ut=b(a[Xe]),mt=ut!==Je,_t=ut===null,at=ut==ut,ot=De(ut);(Ce?at:Ve?at&&mt:_e?at&&mt&&!_t:We?at&&mt&&!_t&&!ot:!_t&&!ot&&ut<m)?te=Xe+1:we=Xe}return Zp(we,4294967294)},A.toFinite=Re,A.toInteger=Oe,A.toNumber=ye,A.toString=et,A.VERSION="4.17.4",bn._=A,(s=function(){return A}.call(t,n,t,o))===void 0||(o.exports=s)}).call(this)}).call(this,n(2),n(4)(e))},function(e,t){e.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(e,t,n){n.r(t),n.d(t,"default",function(){return ge}),n(1),n(3);var r=n(0);function o(K,F,x,C,z,G,T){try{var re=K[G](T),W=re.value}catch(V){return void x(V)}re.done?F(W):Promise.resolve(W).then(C,z)}function s(K){return function(){var F=this,x=arguments;return new Promise(function(C,z){var G=K.apply(F,x);function T(W){o(G,C,z,T,re,"next",W)}function re(W){o(G,C,z,T,re,"throw",W)}T(void 0)})}}function d(K,F){var x;if(typeof Symbol>"u"||K[Symbol.iterator]==null){if(Array.isArray(K)||(x=function(W,V){if(!!W){if(typeof W=="string")return S(W,V);var c=Object.prototype.toString.call(W).slice(8,-1);if(c==="Object"&&W.constructor&&(c=W.constructor.name),c==="Map"||c==="Set")return Array.from(W);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return S(W,V)}}(K))||F&&K&&typeof K.length=="number"){x&&(K=x);var C=0,z=function(){};return{s:z,n:function(){return C>=K.length?{done:!0}:{done:!1,value:K[C++]}},e:function(W){throw W},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G,T=!0,re=!1;return{s:function(){x=K[Symbol.iterator]()},n:function(){var W=x.next();return T=W.done,W},e:function(W){re=!0,G=W},f:function(){try{T||x.return==null||x.return()}finally{if(re)throw G}}}}function S(K,F){(F==null||F>K.length)&&(F=K.length);for(var x=0,C=new Array(F);x<F;x++)C[x]=K[x];return C}function D(K,F){for(var x=0;x<F.length;x++){var C=F[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(K,C.key,C)}}function Z(K,F,x){return F in K?Object.defineProperty(K,F,{value:x,enumerable:!0,configurable:!0,writable:!0}):K[F]=x,K}var de=function(){function K(T){(function(re,W){if(!(re instanceof W))throw new TypeError("Cannot call a class as a function")})(this,K),this.componentManager=T,this.updateObservers=[],this.items=[]}var F,x,C,z,G;return F=K,(x=[{key:"getPlatform",value:function(){return this.componentManager.platform}},{key:"getEnvironment",value:function(){return this.componentManager.environment}},{key:"isMobile",value:function(){return this.getEnvironment()=="mobile"}},{key:"addEventHandler",value:function(T){var re={id:Math.random,callback:T};return this.updateObservers.push(re),re}},{key:"removeUpdateObserver",value:function(T){this.updateObservers.splice(this.updateObservers.indexOf(T),1)}},{key:"notifyObserversOfEvent",value:function(T){var re,W=d(this.updateObservers);try{for(W.s();!(re=W.n()).done;)re.value.callback(T)}catch(V){W.e(V)}finally{W.f()}}},{key:"filterItems",value:function(T){return this.items.filter(function(re){return re.content_type==T})}},{key:"getFileDescriptors",value:function(){return this.filterItems(K.FileDescriptorContentTypeKey)}},{key:"beginStreamingFiles",value:function(){var T=this,re=[K.FileDescriptorContentTypeKey,K.FileSafeCredentialsContentType,K.FileSafeIntegrationContentTypeKey];this.componentManager.streamItems(re,function(W){T.handleStreamItemsMessage(W)})}},{key:"handleStreamItemsMessage",value:(G=s(regeneratorRuntime.mark(function T(re){var W,V,c,v;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:W=d(re),h.prev=1,W.s();case 3:if((V=W.n()).done){h.next=15;break}if(c=V.value,!(c=new r.SFItem(c)).deleted){h.next=9;break}return this.removeItemFromItems(c),h.abrupt("continue",13);case 9:if(!c.isMetadataUpdate){h.next=11;break}return h.abrupt("continue",13);case 11:(v=this.indexOfItem(c))>=0?this.items[v]=c:this.items.push(c);case 13:h.next=3;break;case 15:h.next=20;break;case 17:h.prev=17,h.t0=h.catch(1),W.e(h.t0);case 20:return h.prev=20,W.f(),h.finish(20);case 23:this.notifyObserversOfEvent(K.BridgeEventReceivedItems);case 24:case"end":return h.stop()}},T,this,[[1,17,20,23]])})),function(T){return G.apply(this,arguments)})},{key:"indexOfItem",value:function(T){for(var re in this.items)if(this.items[re].uuid==T.uuid)return re;return-1}},{key:"removeItemFromItems",value:function(T){this.items=this.items.filter(function(re){return re.uuid!==T.uuid})}},{key:"createItem",value:function(T,re){this.createItems([T],re)}},{key:"createItems",value:function(T,re){this.componentManager.createItems(T,function(W){re&&re(W.map(function(V){return new r.SFItem(V)}))})}},{key:"saveItem",value:(z=s(regeneratorRuntime.mark(function T(re){return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",this.saveItems([re]));case 1:case"end":return W.stop()}},T,this)})),function(T){return z.apply(this,arguments)})},{key:"saveItems",value:(C=s(regeneratorRuntime.mark(function T(re){var W=this;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",new Promise(function(c,v){W.componentManager.saveItems(re,function(h){c(h),W.notifyObserversOfEvent(K.BridgeEventSavedItem)})}));case 1:case"end":return V.stop()}},T)})),function(T){return C.apply(this,arguments)})},{key:"indexOfItem",value:function(T){for(var re in this.items)if(this.items[re].uuid==T.uuid)return re;return-1}},{key:"deleteItem",value:function(T,re){this.deleteItems([T],re)}},{key:"deleteItems",value:function(T,re){this.componentManager.deleteItems(T,re)}},{key:"removeItemFromItems",value:function(T){this.items=this.items.filter(function(re){return re.uuid!==T.uuid})}}])&&D(F.prototype,x),K}();function me(K,F,x,C,z,G,T){try{var re=K[G](T),W=re.value}catch(V){return void x(V)}re.done?F(W):Promise.resolve(W).then(C,z)}function ae(K){return function(){var F=this,x=arguments;return new Promise(function(C,z){var G=K.apply(F,x);function T(W){me(G,C,z,T,re,"next",W)}function re(W){me(G,C,z,T,re,"throw",W)}T(void 0)})}}function be(K,F){for(var x=0;x<F.length;x++){var C=F[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(K,C.key,C)}}Z(de,"FileItemContentTypeKey","SN|FileSafe|File"),Z(de,"FileSafeCredentialsContentType","SN|FileSafe|Credentials"),Z(de,"FileDescriptorContentTypeKey","SN|FileSafe|FileMetadata"),Z(de,"FileSafeIntegrationContentTypeKey","SN|FileSafe|Integration"),Z(de,"BridgeEventLoadedCredentials","BridgeEventLoadedCredentials"),Z(de,"BridgeEventReceivedItems","BridgeEventReceivedItems"),Z(de,"BridgeEventSavedItem","BridgeEventSavedItem");var ke=function(){function K(){(function(T,re){if(!(T instanceof re))throw new TypeError("Cannot call a class as a function")})(this,K),this.httpManger=new r.SFHttpManager,this.httpManger.setJWTRequestHandler(function(){})}var F,x,C,z,G;return F=K,(x=[{key:"setCredentials",value:function(T){this.credentials=T}},{key:"uploadFile",value:(G=ae(regeneratorRuntime.mark(function T(re,W,V){var c,v,h=this;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c="".concat(V.content.relayUrl,"/integrations/save-item"),v={file:{name:re,item:W},source:V.content.source,authorization:V.content.authorization},y.abrupt("return",new Promise(function(U,R){h.httpManger.postAbsolute(c,v,function(M){U(M.metadata)},function(M){var E=M.error;E||(E={message:"File upload failed."}),console.log("Upload error response",E),R(E)})}));case 3:case"end":return y.stop()}},T)})),function(T,re,W){return G.apply(this,arguments)})},{key:"downloadFile",value:(z=ae(regeneratorRuntime.mark(function T(re,W){var V,c,v=this;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return V="".concat(W.content.relayUrl,"/integrations/download-item"),c={metadata:re.content.serverMetadata,authorization:W.content.authorization},h.abrupt("return",new Promise(function(y,U){v.httpManger.postAbsolute(V,c,function(R){y(R)},function(R){var M=R.error;console.log("Download error response",R),U(M)})}));case 3:case"end":return h.stop()}},T)})),function(T,re){return z.apply(this,arguments)})},{key:"deleteFile",value:(C=ae(regeneratorRuntime.mark(function T(re,W){var V,c,v=this;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return V="".concat(W.content.relayUrl,"/integrations/delete-item"),c={metadata:re.content.serverMetadata,authorization:W.content.authorization},h.abrupt("return",new Promise(function(y,U){v.httpManger.postAbsolute(V,c,function(R){y(R)},function(R){var M=R.error;console.log("Download error response",R),U(M)})}));case 3:case"end":return h.stop()}},T)})),function(T,re){return C.apply(this,arguments)})}])&&be(F.prototype,x),K}();function Pe(K,F){var x;if(typeof Symbol>"u"||K[Symbol.iterator]==null){if(Array.isArray(K)||(x=function(W,V){if(!!W){if(typeof W=="string")return tt(W,V);var c=Object.prototype.toString.call(W).slice(8,-1);if(c==="Object"&&W.constructor&&(c=W.constructor.name),c==="Map"||c==="Set")return Array.from(W);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return tt(W,V)}}(K))||F&&K&&typeof K.length=="number"){x&&(K=x);var C=0,z=function(){};return{s:z,n:function(){return C>=K.length?{done:!0}:{done:!1,value:K[C++]}},e:function(W){throw W},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G,T=!0,re=!1;return{s:function(){x=K[Symbol.iterator]()},n:function(){var W=x.next();return T=W.done,W},e:function(W){re=!0,G=W},f:function(){try{T||x.return==null||x.return()}finally{if(re)throw G}}}}function tt(K,F){(F==null||F>K.length)&&(F=K.length);for(var x=0,C=new Array(F);x<F;x++)C[x]=K[x];return C}function le(K,F,x,C,z,G,T){try{var re=K[G](T),W=re.value}catch(V){return void x(V)}re.done?F(W):Promise.resolve(W).then(C,z)}function J(K,F){for(var x=0;x<F.length;x++){var C=F[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(K,C.key,C)}}var fe=function(){function K(G){(function(T,re){if(!(T instanceof re))throw new TypeError("Cannot call a class as a function")})(this,K),this.extensionBridge=G}var F,x,C,z;return F=K,(x=[{key:"integrationForFileDescriptor",value:function(G){return this.integrations.find(function(T){return G.content.serverMetadata&&T.content.source==G.content.serverMetadata.source})}},{key:"parseIntegrationCode",value:function(G){var T=atob(G),re=JSON.parse(T);return re.rawCode=G,re}},{key:"saveIntegrationFromCode",value:(C=regeneratorRuntime.mark(function G(T){var re,W;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return re=this.parseIntegrationCode(T),this.integrations.length==0&&(re.isDefaultUploadSource=!0),W=this.createAndSaveIntegrationObject(re),V.abrupt("return",W);case 4:case"end":return V.stop()}},G,this)}),z=function(){var G=this,T=arguments;return new Promise(function(re,W){var V=C.apply(G,T);function c(h){le(V,re,W,c,v,"next",h)}function v(h){le(V,re,W,c,v,"throw",h)}c(void 0)})},function(G){return z.apply(this,arguments)})},{key:"createAndSaveIntegrationObject",value:function(G){var T=new r.SFItem({content_type:de.FileSafeIntegrationContentTypeKey,content:G});return this.extensionBridge.createItems([T]),T}},{key:"getDefaultIntegration",value:function(){return this.integrations.find(function(G){return G.content.isDefaultUploadSource})}},{key:"setIntegrationAsDefault",value:function(G){var T=[G],re=this.getDefaultIntegration();re&&(re.content.isDefaultUploadSource=!1,T.push(re)),G.content.isDefaultUploadSource=!0,this.extensionBridge.saveItems(T)}},{key:"displayStringForIntegration",value:function(G){var T,re,W=G.content.source.split("_"),V="",c=0,v=Pe(W);try{for(v.s();!(T=v.n()).done;){var h=T.value;V+=(re=h).charAt(0).toUpperCase()+re.slice(1),c<W.length-1&&(V+=" "),c++}}catch(y){v.e(y)}finally{v.f()}return V}},{key:"deleteIntegration",value:function(G){var T=this,re=G.content.isDefaultUploadSource;this.extensionBridge.deleteItem(G,function(W){if(W.deleted&&re&&T.integrations.length>0){var V,c=Pe(T.integrations);try{for(c.s();!(V=c.n()).done;){var v=V.value;if(v!=G){T.setIntegrationAsDefault(v);break}}}catch(h){c.e(h)}finally{c.f()}}})}},{key:"integrations",get:function(){return this.extensionBridge.filterItems(de.FileSafeIntegrationContentTypeKey)}}])&&J(F.prototype,x),K}();function xe(K,F,x,C,z,G,T){try{var re=K[G](T),W=re.value}catch(V){return void x(V)}re.done?F(W):Promise.resolve(W).then(C,z)}function Be(K,F){var x;if(typeof Symbol>"u"||K[Symbol.iterator]==null){if(Array.isArray(K)||(x=function(W,V){if(!!W){if(typeof W=="string")return A(W,V);var c=Object.prototype.toString.call(W).slice(8,-1);if(c==="Object"&&W.constructor&&(c=W.constructor.name),c==="Map"||c==="Set")return Array.from(W);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return A(W,V)}}(K))||F&&K&&typeof K.length=="number"){x&&(K=x);var C=0,z=function(){};return{s:z,n:function(){return C>=K.length?{done:!0}:{done:!1,value:K[C++]}},e:function(W){throw W},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G,T=!0,re=!1;return{s:function(){x=K[Symbol.iterator]()},n:function(){var W=x.next();return T=W.done,W},e:function(W){re=!0,G=W},f:function(){try{T||x.return==null||x.return()}finally{if(re)throw G}}}}function A(K,F){(F==null||F>K.length)&&(F=K.length);for(var x=0,C=new Array(F);x<F;x++)C[x]=K[x];return C}function Fe(K,F){for(var x=0;x<F.length;x++){var C=F[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(K,C.key,C)}}function He(K,F,x){return F in K?Object.defineProperty(K,F,{value:x,enumerable:!0,configurable:!0,writable:!0}):K[F]=x,K}var ze=function(){function K(G){var T=this,re=G.extensionBridge,W=G.onCredentialLoad;(function(V,c){if(!(V instanceof c))throw new TypeError("Cannot call a class as a function")})(this,K),He(this,"getDefaultCredentials",function(){var V=T.credentials.find(function(c){return c.content.isDefault});return!V&&T.credentials.length>0&&(V=T.credentials[0]),V}),He(this,"setCredentialAsDefault",function(V){var c=T.getDefaultCredentials();c&&(c.content.isDefault=!1),V.content.isDefault=!0,T.extensionBridge.saveItems([c,V])}),He(this,"deleteCredential",function(V){T.extensionBridge.deleteItem(V)}),this.extensionBridge=re,this.onCredentialLoad=W,this.credentials=[],this.extensionBridge.addEventHandler(function(V){V==de.BridgeEventReceivedItems&&T.reloadCredentials()})}var F,x,C,z;return F=K,(x=[{key:"reloadCredentials",value:function(){var G=this;this.credentials=[];var T=this.extensionBridge.filterItems(de.FileSafeCredentialsContentType);if(T.length!=0){var re,W=Be(T);try{var V=function(){var c=re.value;G.credentials.find(function(v){v.uuid,c.uuid})||G.credentials.push(c)};for(W.s();!(re=W.n()).done;)V()}catch(c){W.e(c)}finally{W.f()}this.onCredentialLoad(),this.credentials.length>0&&this.didLoadCredentials()}}},{key:"createNewCredentials",value:(C=regeneratorRuntime.mark(function G(){var T,re,W,V,c;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return T=256,v.next=3,SFJS.crypto.generateRandomKey(T);case 3:return re=v.sent,v.next=6,SFJS.crypto.generateRandomKey(T);case 6:return W=v.sent,v.next=9,SFJS.crypto.generateInitialKeysAndAuthParamsForUser(re,W);case 9:return(V=v.sent).isDefault=this.credentials.length==0,c=new r.SFItem({content_type:de.FileSafeCredentialsContentType,content:V}),this.extensionBridge.saveItem(c),this.didLoadCredentials(),v.abrupt("return",c);case 15:case"end":return v.stop()}},G,this)}),z=function(){var G=this,T=arguments;return new Promise(function(re,W){var V=C.apply(G,T);function c(h){xe(V,re,W,c,v,"next",h)}function v(h){xe(V,re,W,c,v,"throw",h)}c(void 0)})},function(){return z.apply(this,arguments)})},{key:"didLoadCredentials",value:function(){this.extensionBridge.notifyObserversOfEvent(de.BridgeEventLoadedCredentials)}},{key:"credentialForFileDescriptor",value:function(G){return this.credentials.find(function(T){return G.content.references.find(function(re){return re.uuid==T.uuid})})}},{key:"getAllCredentials",value:function(){return this.credentials}},{key:"saveCredential",value:function(G){this.extensionBridge.saveItem(G)}}])&&Fe(F.prototype,x),K}(),Ze=function(){return new Worker(n.p+"filesafe-js/EncryptionWorker.js")};function lt(K,F,x,C,z,G,T){try{var re=K[G](T),W=re.value}catch(V){return void x(V)}re.done?F(W):Promise.resolve(W).then(C,z)}function Ye(K){return function(){var F=this,x=arguments;return new Promise(function(C,z){var G=K.apply(F,x);function T(W){lt(G,C,z,T,re,"next",W)}function re(W){lt(G,C,z,T,re,"throw",W)}T(void 0)})}}function Ee(K,F){for(var x=0;x<F.length;x++){var C=F[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(K,C.key,C)}}function Ae(K,F,x){return F in K?Object.defineProperty(K,F,{value:x,enumerable:!0,configurable:!0,writable:!0}):K[F]=x,K}var Ke=function(){function K(W,V,c,v){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,K),this.extensionBridge=W,this.relayManager=V,this.integrationManager=c,this.credentialManager=v}var F,x,C,z,G,T,re;return F=K,(x=[{key:"getAllFileDescriptors",value:function(){return this.extensionBridge.getFileDescriptors()}},{key:"fileDescriptorsForNote",value:function(W){return W?this.extensionBridge.getFileDescriptors().filter(function(V){return V.hasRelationshipWithItem(W)}):[]}},{key:"findFileDescriptor",value:function(W){return this.extensionBridge.getFileDescriptors().find(function(V){return V.uuid==W})}},{key:"fileDescriptorsEncryptedWithCredential",value:function(W){return this.extensionBridge.getFileDescriptors().filter(function(V){return V.content.references.find(function(c){return c.uuid==W.uuid})})}},{key:"deleteFileFromDescriptor",value:(re=Ye(regeneratorRuntime.mark(function W(V){var c=this;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",new Promise(function(h,y){c.extensionBridge.deleteItems([V],function(U){if(U.deleted){var R=c.integrationManager.integrationForFileDescriptor(V);R&&c.relayManager.deleteFile(V,R).then(function(M){h()})}else h(U)})}));case 1:case"end":return v.stop()}},W)})),function(W){return re.apply(this,arguments)})},{key:"uploadFile",value:(T=Ye(regeneratorRuntime.mark(function W(V){var c,v,h,y,U,R,M,E=this;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return c=V.fileItem,v=V.inputFileName,h=V.fileType,y=V.credential,U=V.note,R=this.integrationManager.getDefaultIntegration(),v.split(".")[1],M="".concat(c.uuid,".sf.json"),L.abrupt("return",new Promise(function(k,N){var I=new Ze;I.addEventListener("message",function(i){var u=i.data;if(u.error)return console.log("Error uploading file",u.error),void N(u.error);var f=new r.SFItem({content_type:de.FileDescriptorContentTypeKey,content:{serverMetadata:i.data.metadata,fileName:v,fileType:h}});U&&f.addItemAsRelationship(U),f.addItemAsRelationship(y),E.extensionBridge.createItem(f,function(l){k(l[0])})});var P={outputFileName:M,fileItem:c,integration:R,operation:"upload",credentials:E.credentialManager.getDefaultCredentials()};I.postMessage(P)}));case 5:case"end":return L.stop()}},W,this)})),function(W){return T.apply(this,arguments)})},{key:"downloadFileFromDescriptor",value:(G=Ye(regeneratorRuntime.mark(function W(V){var c,v;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c=this.integrationManager.integrationForFileDescriptor(V)){h.next=6;break}throw(v=V.content.serverMetadata)?alert("Unable to find integration named '".concat(v.source,"'.")):alert("Unable to find integration for this file."),"Unable to find integration";case 6:return h.abrupt("return",this.relayManager.downloadFile(V,c).then(function(y){return y.items[0]}));case 7:case"end":return h.stop()}},W,this)})),function(W){return G.apply(this,arguments)})},{key:"encryptFile",value:(z=Ye(regeneratorRuntime.mark(function W(V){var c,v,h,y;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return c=V.data,v=V.inputFileName,h=V.fileType,y=V.credential,U.abrupt("return",new Promise(function(R,M){var E=new Ze;E.addEventListener("message",function(L){R(L.data.fileItem)}),E.postMessage({operation:"encrypt",keys:y.content.keys,authParams:y.content.authParams,contentType:de.FileItemContentTypeKey,fileData:c,fileName:v,fileType:h})}));case 2:case"end":return U.stop()}},W)})),function(W){return z.apply(this,arguments)})},{key:"decryptFile",value:(C=Ye(regeneratorRuntime.mark(function W(V){var c,v,h;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c=V.fileDescriptor,v=V.fileItem,(h=V.credential)||(h=this.credentialManager.credentialForFileDescriptor(c)),y.abrupt("return",new Promise(function(U,R){var M=new Ze;M.addEventListener("message",function(E){var L=E.data;L.error?R(L.error):U(L)}),M.postMessage({operation:"decrypt",keys:h.content.keys,item:v})}));case 3:case"end":return y.stop()}},W,this)})),function(W){return C.apply(this,arguments)})}])&&Ee(F.prototype,x),K}();function nt(K,F){for(var x=0;x<F.length;x++){var C=F[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(K,C.key,C)}}Ae(Ke,"FileItemContentTypeKey","SN|FileSafe|File"),Ae(Ke,"FileDescriptorContentTypeKey","SN|FileSafe|FileMetadata");var ve=function(){function K(){(function(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")})(this,K)}var F,x,C;return F=K,C=[{key:"base64toBinary",value:function(z){for(var G=atob(z),T=[],re=0;re<G.length;re++)T.push(G.charCodeAt(re));return new Uint8Array(T)}},{key:"downloadData",value:function(z,G,T){var re=this,W=arguments.length>3&&arguments[3]!==void 0&&arguments[3],V=document.createElement("a");V.setAttribute("download",G);var c=this.tempUrlForData(z,T);V.href=c,V.setAttribute("target","_blank"),W?window.location.href=V.href:(document.body.appendChild(V),V.click(),V.remove()),setTimeout(function(){re.revokeTempUrl(c)},500)}},{key:"tempUrlForData",value:function(z,G){return window.URL.createObjectURL(new Blob([z],{type:G||"text/json"}))}},{key:"revokeTempUrl",value:function(z){window.URL.revokeObjectURL(z)}},{key:"copyTextToClipboard",value:function(z){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",z);var G;if(document.queryCommandSupported&&document.queryCommandSupported("copy"))try{(G=document.createElement("textarea")).setAttribute("readonly",!0),G.setAttribute("contenteditable",!0),G.style.position="fixed",G.value=z,document.body.appendChild(G),G.focus(),G.select();var T=document.createRange();T.selectNodeContents(G);var re=window.getSelection();re.removeAllRanges(),re.addRange(T),G.setSelectionRange(0,G.value.length),document.execCommand("copy")}catch(W){console.error(W)}finally{document.body.removeChild(G)}}}],(x=null)&&nt(F.prototype,x),C&&nt(F,C),K}();function ie(K,F,x,C,z,G,T){try{var re=K[G](T),W=re.value}catch(V){return void x(V)}re.done?F(W):Promise.resolve(W).then(C,z)}function he(K){return function(){var F=this,x=arguments;return new Promise(function(C,z){var G=K.apply(F,x);function T(W){ie(G,C,z,T,re,"next",W)}function re(W){ie(G,C,z,T,re,"throw",W)}T(void 0)})}}function Ie(K,F){var x;if(typeof Symbol>"u"||K[Symbol.iterator]==null){if(Array.isArray(K)||(x=function(W,V){if(!!W){if(typeof W=="string")return ne(W,V);var c=Object.prototype.toString.call(W).slice(8,-1);if(c==="Object"&&W.constructor&&(c=W.constructor.name),c==="Map"||c==="Set")return Array.from(W);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ne(W,V)}}(K))||F&&K&&typeof K.length=="number"){x&&(K=x);var C=0,z=function(){};return{s:z,n:function(){return C>=K.length?{done:!0}:{done:!1,value:K[C++]}},e:function(W){throw W},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G,T=!0,re=!1;return{s:function(){x=K[Symbol.iterator]()},n:function(){var W=x.next();return T=W.done,W},e:function(W){re=!0,G=W},f:function(){try{T||x.return==null||x.return()}finally{if(re)throw G}}}}function ne(K,F){(F==null||F>K.length)&&(F=K.length);for(var x=0,C=new Array(F);x<F;x++)C[x]=K[x];return C}function se(K,F){for(var x=0;x<F.length;x++){var C=F[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(K,C.key,C)}}function ce(K,F,x){return F&&se(K.prototype,F),x&&se(K,x),K}var ge=function(){function K(V){var c=this,v=V.componentManager;(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,K),this.dataChangeObservers=[],this.newFileDescriptorHandlers=[],this.extensionBridge=new de(v),this.extensionBridge.addEventHandler(function(h){c.notifyObservers()}),this.relayManager=new ke,this.integrationManager=new fe(this.extensionBridge),this.credentialManager=new ze({extensionBridge:this.extensionBridge,onCredentialLoad:function(){c.relayManager.setCredentials(c.credentialManager.getDefaultCredentials())}}),this.fileManager=new Ke(this.extensionBridge,this.relayManager,this.integrationManager,this.credentialManager),this.extensionBridge.beginStreamingFiles()}var F,x,C,z,G,T,re,W;return ce(K,null,[{key:"getSFItemClass",value:function(){return r.SFItem}}]),ce(K,[{key:"addNewFileDescriptorHandler",value:function(V){this.newFileDescriptorHandlers.push(V)}},{key:"notifyObservers",value:function(){var V,c=Ie(this.dataChangeObservers);try{for(c.s();!(V=c.n()).done;)(0,V.value)()}catch(v){c.e(v)}finally{c.f()}}},{key:"addDataChangeObserver",value:function(V){return this.dataChangeObservers.push(V),V}},{key:"removeDataChangeObserver",value:function(V){this.dataChangeObservers=this.dataChangeObservers.filter(function(c){})}},{key:"setCurrentNote",value:function(V){this.currentNote=V,this.notifyObservers()}},{key:"getAllFileDescriptors",value:function(){return this.fileManager.getAllFileDescriptors()}},{key:"findFileDescriptor",value:function(V){return this.fileManager.findFileDescriptor(V)}},{key:"fileDescriptorsForCurrentNote",value:function(){return this.fileManager.fileDescriptorsForNote(this.currentNote)}},{key:"fileDescriptorsForNote",value:function(V){return this.fileManager.fileDescriptorsForNote(V)}},{key:"fileDescriptorsEncryptedWithCredential",value:function(V){return this.fileManager.fileDescriptorsEncryptedWithCredential(V)}},{key:"deleteFileFromDescriptor",value:(W=he(regeneratorRuntime.mark(function V(c){return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this.fileManager.deleteFileFromDescriptor(c));case 1:case"end":return v.stop()}},V,this)})),function(V){return W.apply(this,arguments)})},{key:"uploadFile",value:(re=he(regeneratorRuntime.mark(function V(c){var v,h,y,U,R,M,E,L;return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return v=c.fileItem,h=c.inputFileName,y=c.fileType,U=c.credential,(R=c.note)||(R=this.currentNote),k.next=4,this.fileManager.uploadFile({fileItem:v,inputFileName:h,fileType:y,credential:U,note:R});case 4:if(M=k.sent){E=Ie(this.newFileDescriptorHandlers);try{for(E.s();!(L=E.n()).done;)(0,L.value)(M)}catch(N){E.e(N)}finally{E.f()}}return k.abrupt("return",M);case 7:case"end":return k.stop()}},V,this)})),function(V){return re.apply(this,arguments)})},{key:"encryptAndUploadJavaScriptFileObject",value:(T=he(regeneratorRuntime.mark(function V(c){var v=this;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",new Promise(function(y,U){var R=new FileReader;R.onload=function(){var M=he(regeneratorRuntime.mark(function E(L){var k,N,I,P;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return k=L.target.result,N=k,i.next=4,SFJS.crypto.arrayBufferToBase64(N);case 4:return I=i.sent,i.next=7,v.encryptAndUploadData({base64Data:I,inputFileName:c.name,fileType:c.type});case 7:P=i.sent,y(P);case 9:case"end":return i.stop()}},E)}));return function(E){return M.apply(this,arguments)}}(),R.readAsArrayBuffer(c)}));case 1:case"end":return h.stop()}},V)})),function(V){return T.apply(this,arguments)})},{key:"encryptAndUploadData",value:(G=he(regeneratorRuntime.mark(function V(c){var v,h,y,U,R=this;return regeneratorRuntime.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return v=c.base64Data,h=c.inputFileName,y=c.fileType,U=this.getDefaultCredentials(),M.abrupt("return",this.encryptFile({data:v,inputFileName:h,fileType:y,credential:U}).then(function(){var E=he(regeneratorRuntime.mark(function L(k){return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",R.uploadFile({fileItem:k,inputFileName:h,fileType:y,credential:U}).catch(function(I){console.error("filesafe-js | error uploading file:",I)}));case 1:case"end":return N.stop()}},L)}));return function(L){return E.apply(this,arguments)}}()));case 3:case"end":return M.stop()}},V,this)})),function(V){return G.apply(this,arguments)})},{key:"downloadFileFromDescriptor",value:(z=he(regeneratorRuntime.mark(function V(c){return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this.fileManager.downloadFileFromDescriptor(c));case 1:case"end":return v.stop()}},V,this)})),function(V){return z.apply(this,arguments)})},{key:"encryptFile",value:(C=he(regeneratorRuntime.mark(function V(c){var v,h,y,U;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return v=c.data,h=c.inputFileName,y=c.fileType,U=c.credential,R.abrupt("return",this.fileManager.encryptFile({data:v,inputFileName:h,fileType:y,credential:U}));case 2:case"end":return R.stop()}},V,this)})),function(V){return C.apply(this,arguments)})},{key:"decryptFile",value:(x=he(regeneratorRuntime.mark(function V(c){var v,h,y;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return v=c.fileDescriptor,h=c.fileItem,y=c.credential,U.abrupt("return",this.fileManager.decryptFile({fileDescriptor:v,fileItem:h,credential:y}));case 2:case"end":return U.stop()}},V,this)})),function(V){return x.apply(this,arguments)})},{key:"downloadBase64Data",value:function(V){var c=V.base64Data,v=V.fileName,h=V.fileType;ve.downloadData(ve.base64toBinary(c),v,h)}},{key:"createTemporaryFileUrl",value:function(V){var c=V.base64Data,v=V.dataType;return ve.tempUrlForData(ve.base64toBinary(c),v)}},{key:"revokeTempUrl",value:function(V){ve.revokeTempUrl(V)}},{key:"createNewCredentials",value:(F=he(regeneratorRuntime.mark(function V(){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",this.credentialManager.createNewCredentials());case 1:case"end":return c.stop()}},V,this)})),function(){return F.apply(this,arguments)})},{key:"numberOfFilesEncryptedWithCredential",value:function(V){return this.fileManager.fileDescriptorsEncryptedWithCredential(V).length}},{key:"credentialForFileDescriptor",value:function(V){return this.credentialManager.credentialForFileDescriptor(V)}},{key:"getAllCredentials",value:function(){return this.credentialManager.getAllCredentials()}},{key:"getDefaultCredentials",value:function(){return this.credentialManager.getDefaultCredentials()}},{key:"setCredentialAsDefault",value:function(V){return this.credentialManager.setCredentialAsDefault(V)}},{key:"deleteCredential",value:function(V){return this.credentialManager.deleteCredential(V)}},{key:"saveCredential",value:function(V){return this.credentialManager.saveCredential(V)}},{key:"getAllIntegrations",value:function(){return this.integrationManager.integrations}},{key:"integrationForFileDescriptor",value:function(V){return this.integrationManager.integrationForFileDescriptor(V)}},{key:"saveIntegrationFromCode",value:function(V){return this.integrationManager.saveIntegrationFromCode(V)}},{key:"getDefaultIntegration",value:function(){return this.integrationManager.getDefaultIntegration()}},{key:"setIntegrationAsDefault",value:function(V){return this.integrationManager.setIntegrationAsDefault(V)}},{key:"deleteIntegration",value:function(V){return this.integrationManager.deleteIntegration(V)}},{key:"displayStringForIntegration",value:function(V){return this.integrationManager.displayStringForIntegration(V)}},{key:"base64toBinary",value:function(V){return ve.base64toBinary(V)}},{key:"isMobile",value:function(){return this.extensionBridge.isMobile()}},{key:"getEnvironment",value:function(){return this.extensionBridge.getEnvironment()}},{key:"getPlatform",value:function(){return this.extensionBridge.getPlatform()}},{key:"copyTextToClipboard",value:function(V){return ve.copyTextToClipboard(V)}},{key:"hasLegacyAccess",value:function(){var V=Boolean(this.getAllCredentials().length>0&&this.getAllIntegrations().length>0),c=Boolean(this.getAllFileDescriptors().length>0);return V||c}}]),K}()}])),ds}(function(e,t){(function(n,r){e.exports=r(jm())})(window,function(n){return function(r){function o(ae){for(var be,ke,Pe=ae[0],tt=ae[1],le=0,J=[];le<Pe.length;le++)ke=Pe[le],Object.prototype.hasOwnProperty.call(d,ke)&&d[ke]&&J.push(d[ke][0]),d[ke]=0;for(be in tt)Object.prototype.hasOwnProperty.call(tt,be)&&(r[be]=tt[be]);for(me&&me(ae);J.length;)J.shift()()}var s={},d={0:0,1:0};function S(ae){if(s[ae])return s[ae].exports;var be=s[ae]={i:ae,l:!1,exports:{}};return r[ae].call(be.exports,be,be.exports,S),be.l=!0,be.exports}S.m=r,S.c=s,S.d=function(ae,be,ke){S.o(ae,be)||Object.defineProperty(ae,be,{enumerable:!0,get:ke})},S.r=function(ae){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})},S.t=function(ae,be){if(1&be&&(ae=S(ae)),8&be||4&be&&typeof ae=="object"&&ae&&ae.__esModule)return ae;var ke=Object.create(null);if(S.r(ke),Object.defineProperty(ke,"default",{enumerable:!0,value:ae}),2&be&&typeof ae!="string")for(var Pe in ae)S.d(ke,Pe,function(tt){return ae[tt]}.bind(null,Pe));return ke},S.n=function(ae){var be=ae&&ae.__esModule?function(){return ae.default}:function(){return ae};return S.d(be,"a",be),be},S.o=function(ae,be){return Object.prototype.hasOwnProperty.call(ae,be)},S.p="",S.oe=function(ae){throw console.error(ae),ae};var D=window.webpackJsonpEditorKit=window.webpackJsonpEditorKit||[],Z=D.push.bind(D);D.push=o,D=D.slice();for(var de=0;de<D.length;de++)o(D[de]);var me=Z;return S(S.s=1)}([function(r,o,s){r.exports=(()=>{var d={175:(Z,de,me)=>{let ae,be,ke;var Pe;me.d(de,{default:()=>nt}),function(ve){ve.SetSize="set-size",ve.StreamItems="stream-items",ve.StreamContextItem="stream-context-item",ve.SaveItems="save-items",ve.SelectItem="select-item",ve.AssociateItem="associate-item",ve.DeassociateItem="deassociate-item",ve.ClearSelection="clear-selection",ve.CreateItem="create-item",ve.CreateItems="create-items",ve.DeleteItems="delete-items",ve.SetComponentData="set-component-data",ve.InstallLocalComponent="install-local-component",ve.ToggleActivateComponent="toggle-activate-component",ve.RequestPermissions="request-permissions",ve.PresentConflictResolution="present-conflict-resolution",ve.DuplicateItem="duplicate-item",ve.ComponentRegistered="component-registered",ve.ActivateThemes="themes",ve.Reply="reply",ve.SaveSuccess="save-success",ve.SaveError="save-error"}(ae||(ae={})),function(ve){ve[ve.Web=1]="Web",ve[ve.Desktop=2]="Desktop",ve[ve.Mobile=3]="Mobile"}(be||(be={})),function(ve){ve.Any="*",ve.Item="SF|Item",ve.RootKey="SN|RootKey|NoSync",ve.ItemsKey="SN|ItemsKey",ve.EncryptedStorage="SN|EncryptedStorage",ve.Note="Note",ve.Tag="Tag",ve.SmartTag="SN|SmartTag",ve.Component="SN|Component",ve.Editor="SN|Editor",ve.ActionsExtension="Extension",ve.UserPrefs="SN|UserPreferences",ve.Privileges="SN|Privileges",ve.HistorySession="SN|HistorySession",ve.Theme="SN|Theme",ve.Mfa="SF|MFA",ve.ServerExtension="SF|Extension",ve.FilesafeCredentials="SN|FileSafe|Credentials",ve.FilesafeFileMetadata="SN|FileSafe|FileMetadata",ve.FilesafeIntegration="SN|FileSafe|Integration",ve.ExtensionRepo="SN|ExtensionRepo"}(ke||(ke={}));var tt=new Uint8Array(16);function le(){if(!Pe&&!(Pe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pe(tt)}const J=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,fe=function(ve){return typeof ve=="string"&&J.test(ve)};for(var xe=[],Be=0;Be<256;++Be)xe.push((Be+256).toString(16).substr(1));const A=function(ve,ie,he){var Ie=(ve=ve||{}).random||(ve.rng||le)();if(Ie[6]=15&Ie[6]|64,Ie[8]=63&Ie[8]|128,ie){he=he||0;for(var ne=0;ne<16;++ne)ie[he+ne]=Ie[ne];return ie}return function(se){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ge=(xe[se[ce+0]]+xe[se[ce+1]]+xe[se[ce+2]]+xe[se[ce+3]]+"-"+xe[se[ce+4]]+xe[se[ce+5]]+"-"+xe[se[ce+6]]+xe[se[ce+7]]+"-"+xe[se[ce+8]]+xe[se[ce+9]]+"-"+xe[se[ce+10]]+xe[se[ce+11]]+xe[se[ce+12]]+xe[se[ce+13]]+xe[se[ce+14]]+xe[se[ce+15]]).toLowerCase();if(!fe(ge))throw TypeError("Stringified UUID is invalid");return ge}(Ie)},Fe=ve=>{var ie;const he={[be.Web]:"web",[be.Desktop]:"desktop",[be.Mobile]:"mobile"};return(ie=he[ve])!==null&&ie!==void 0?ie:he[be.Web]},He=()=>{};class ze{static get isSupported(){return!(!window.console&&!console)}static get info(){return ze.isSupported&&this.enabled?console.log.bind(console):He}static get error(){return console.error.bind(console)}}var Ze,lt,Ye;function Ee(ve,ie){var he=Object.keys(ve);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(ve);ie&&(Ie=Ie.filter(function(ne){return Object.getOwnPropertyDescriptor(ve,ne).enumerable})),he.push.apply(he,Ie)}return he}function Ae(ve){for(var ie=1;ie<arguments.length;ie++){var he=arguments[ie]!=null?arguments[ie]:{};ie%2?Ee(Object(he),!0).forEach(function(Ie){Ke(ve,Ie,he[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(he)):Ee(Object(he)).forEach(function(Ie){Object.defineProperty(ve,Ie,Object.getOwnPropertyDescriptor(he,Ie))})}return ve}function Ke(ve,ie,he){return ie in ve?Object.defineProperty(ve,ie,{value:he,enumerable:!0,configurable:!0,writable:!0}):ve[ie]=he,ve}(lt="enabled")in(Ze=ze)?Object.defineProperty(Ze,lt,{value:!1,enumerable:!0,configurable:!0,writable:!0}):Ze[lt]=!1,function(ve){ve.Component="component"}(Ye||(Ye={}));class nt{constructor(ie){if(Ke(this,"contentWindow",void 0),Ke(this,"initialPermissions",void 0),Ke(this,"onReadyCallback",void 0),Ke(this,"component",{activeThemes:[],acceptsThemes:!0}),Ke(this,"sentMessages",[]),Ke(this,"messageQueue",[]),Ke(this,"lastStreamedItem",void 0),Ke(this,"pendingSaveItems",void 0),Ke(this,"pendingSaveTimeout",void 0),Ke(this,"pendingSaveParams",void 0),Ke(this,"coallesedSaving",!1),Ke(this,"coallesedSavingDelay",250),Ke(this,"messageHandler",void 0),!ie||!ie.targetWindow)throw new Error("contentWindow must be a valid Window object.");this.contentWindow=ie.targetWindow,this.processParameters(ie),this.registerMessageHandler()}processParameters(ie){var he;const{initialPermissions:Ie,options:ne,onReady:se}=ie;var ce;Ie&&Ie.length>0&&(this.initialPermissions=Ie),ne!=null&&ne.coallesedSaving&&(this.coallesedSaving=ne.coallesedSaving),ne!=null&&ne.coallesedSavingDelay&&(this.coallesedSavingDelay=ne.coallesedSavingDelay),ne!=null&&ne.acceptsThemes&&(this.component.acceptsThemes=(ce=ne==null?void 0:ne.acceptsThemes)===null||ce===void 0||ce),se&&(this.onReadyCallback=se),ze.enabled=(he=ne==null?void 0:ne.debug)!==null&&he!==void 0&&he}deinit(){this.onReadyCallback=void 0,this.component={acceptsThemes:!0,activeThemes:[]},this.messageQueue=[],this.sentMessages=[],this.lastStreamedItem=void 0,this.pendingSaveItems=void 0,this.pendingSaveTimeout=void 0,this.pendingSaveParams=void 0,this.messageHandler&&(this.contentWindow.document.removeEventListener("message",this.messageHandler),this.contentWindow.removeEventListener("message",this.messageHandler))}registerMessageHandler(){this.messageHandler=ie=>{if(ze.info("Components API Message received:",ie.data),document.referrer&&new URL(document.referrer).origin!==new URL(ie.origin).origin)return;if(this.component.origin){if(ie.origin!==this.component.origin)return}else this.component.origin=ie.origin;const{data:he}=ie,Ie=(ne=>{if(typeof ne!="string")return!1;try{const se=JSON.parse(ne),ce=Object.prototype.toString.call(se);return ce==="[object Object]"||ce==="[object Array]"}catch{return!1}})(he)?JSON.parse(he):he;Ie?this.handleMessage(Ie):ze.error("Invalid data received. Skipping...")},this.contentWindow.document.addEventListener("message",this.messageHandler,!1),this.contentWindow.addEventListener("message",this.messageHandler,!1),ze.info("Waiting for messages...")}handleMessage(ie){switch(ie.action){case ae.ComponentRegistered:this.component.sessionKey=ie.sessionKey,ie.componentData&&(this.component.data=ie.componentData),this.onReady(ie.data),ze.info("Component successfully registered with payload:",ie);break;case ae.ActivateThemes:this.activateThemes(ie.data.themes);break;default:{var he;if(!ie.original)return;const Ie=(he=this.sentMessages)===null||he===void 0?void 0:he.filter(ne=>{var se;return ne.messageId===((se=ie.original)===null||se===void 0?void 0:se.messageId)})[0];if(!Ie)return void ze.error("This extension is attempting to communicate with Standard Notes, but an error is preventing it from doing so. Please restart this extension and try again.");Ie.callback&&Ie.callback(ie.data);break}}}onReady(ie){this.component.environment=ie.environment,this.component.platform=ie.platform,this.component.uuid=ie.uuid,this.initialPermissions&&this.initialPermissions.length>0&&this.requestPermissions(this.initialPermissions);for(const he of this.messageQueue)this.postMessage(he.action,he.data,he.callback);this.messageQueue=[],ze.info("Data passed to onReady:",ie),this.activateThemes(ie.activeThemeUrls||[]),this.onReadyCallback&&this.onReadyCallback()}getSelfComponentUUID(){return this.component.uuid}isRunningInDesktopApplication(){return this.component.environment===Fe(be.Desktop)}isRunningInMobileApplication(){return this.component.environment===Fe(be.Mobile)}getComponentDataValueForKey(ie){if(this.component.data)return this.component.data[ie]}setComponentDataValueForKey(ie,he){if(!this.component.data)throw new Error("The component has not been initialized.");if(!ie||ie&&ie.length===0)throw new Error("The key for the data value should be a valid string.");this.component.data=Ae(Ae({},this.component.data),{},{[ie]:he}),this.postMessage(ae.SetComponentData,{componentData:this.component.data})}clearComponentData(){this.component.data={},this.postMessage(ae.SetComponentData,{componentData:this.component.data})}postMessage(ie,he,Ie){if(!this.component.sessionKey)return void this.messageQueue.push({action:ie,data:he,api:Ye.Component,callback:Ie});const ne={action:ie,data:he,messageId:this.generateUUID(),sessionKey:this.component.sessionKey,api:Ye.Component},se=JSON.parse(JSON.stringify(ne));let ce;se.callback=Ie,this.sentMessages.push(se),ce=this.isRunningInMobileApplication()?JSON.stringify(ne):ne,ze.info("Posting message:",ce),this.contentWindow.parent.postMessage(ce,this.component.origin)}requestPermissions(ie,he){this.postMessage(ae.RequestPermissions,{permissions:ie},()=>{he&&he()})}activateThemes(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!this.component.acceptsThemes)return;ze.info("Incoming themes:",ie);const{activeThemes:he}=this.component;if(he&&he.sort().toString()==ie.sort().toString())return;let Ie=ie;const ne=[];for(const se of he)ie.includes(se)?Ie=Ie.filter(ce=>ce!==se):ne.push(se);ze.info("Deactivating themes:",ne),ze.info("Activating themes:",Ie);for(const se of ne)this.deactivateTheme(se);this.component.activeThemes=ie;for(const se of Ie){if(!se)continue;const ce=this.contentWindow.document.createElement("link");ce.id=btoa(se),ce.href=se,ce.type="text/css",ce.rel="stylesheet",ce.media="screen,print",ce.className="custom-theme",this.contentWindow.document.getElementsByTagName("head")[0].appendChild(ce)}}themeElementForUrl(ie){return Array.from(this.contentWindow.document.getElementsByClassName("custom-theme")).slice().find(he=>he.id==btoa(ie))}deactivateTheme(ie){const he=this.themeElementForUrl(ie);he&&he.parentNode&&(he.setAttribute("disabled","true"),he.parentNode.removeChild(he))}generateUUID(){return A()}get platform(){return this.component.platform}get environment(){return this.component.environment}streamItems(ie,he){this.postMessage(ae.StreamItems,{content_types:ie},Ie=>{he(Ie.items)})}streamContextItem(ie){this.postMessage(ae.StreamContextItem,{},he=>{const{item:Ie}=he;(!this.lastStreamedItem||this.lastStreamedItem.uuid!==Ie.uuid)&&this.pendingSaveTimeout&&(clearTimeout(this.pendingSaveTimeout),this._performSavingOfItems(this.pendingSaveParams),this.pendingSaveTimeout=void 0,this.pendingSaveParams=void 0),this.lastStreamedItem=Ie,ie(this.lastStreamedItem)})}selectItem(ie){this.postMessage(ae.SelectItem,{item:this.jsonObjectForItem(ie)})}clearSelection(){this.postMessage(ae.ClearSelection,{content_type:ke.Tag})}createItem(ie,he){this.postMessage(ae.CreateItem,{item:this.jsonObjectForItem(ie)},Ie=>{let{item:ne}=Ie;!ne&&Ie.items&&Ie.items.length>0&&(ne=Ie.items[0]),this.associateItem(ne),he&&he(ne)})}createItems(ie,he){const Ie=ie.map(ne=>this.jsonObjectForItem(ne));this.postMessage(ae.CreateItems,{items:Ie},ne=>{he&&he(ne.items)})}associateItem(ie){this.postMessage(ae.AssociateItem,{item:this.jsonObjectForItem(ie)})}deassociateItem(ie){this.postMessage(ae.DeassociateItem,{item:this.jsonObjectForItem(ie)})}deleteItem(ie,he){this.deleteItems([ie],he)}deleteItems(ie,he){const Ie={items:ie.map(ne=>this.jsonObjectForItem(ne))};this.postMessage(ae.DeleteItems,Ie,ne=>{he&&he(ne)})}sendCustomEvent(ie,he,Ie){this.postMessage(ie,he,ne=>{Ie&&Ie(ne)})}saveItem(ie,he){let Ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.saveItems([ie],he,Ie)}saveItemWithPresave(ie,he,Ie){this.saveItemsWithPresave([ie],he,Ie)}saveItemsWithPresave(ie,he,Ie){this.saveItems(ie,Ie,!1,he)}_performSavingOfItems(ie){let{items:he,presave:Ie,callback:ne}=ie;Ie&&Ie();const se=[];for(const ce of he)se.push(this.jsonObjectForItem(ce));this.postMessage(ae.SaveItems,{items:se},()=>{ne&&ne()})}saveItems(ie,he){let Ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ne=arguments.length>3?arguments[3]:void 0;if(this.pendingSaveItems||(this.pendingSaveItems=[]),this.coallesedSaving&&!Ie){this.pendingSaveTimeout&&clearTimeout(this.pendingSaveTimeout);const se=ie.map(ge=>ge.uuid),ce=this.pendingSaveItems.filter(ge=>!se.includes(ge.uuid));this.pendingSaveItems=ce.concat(ie),this.pendingSaveParams={items:this.pendingSaveItems,presave:ne,callback:he},this.pendingSaveTimeout=setTimeout(()=>{this._performSavingOfItems(this.pendingSaveParams),this.pendingSaveItems=[],this.pendingSaveTimeout=void 0,this.pendingSaveParams=null},this.coallesedSavingDelay)}else this._performSavingOfItems({items:ie,presave:ne,callback:he})}setSize(ie,he){this.postMessage(ae.SetSize,{type:"container",width:ie,height:he})}jsonObjectForItem(ie){const he=Object.assign({},ie);return he.children=null,he.parent=null,he}getItemAppDataValue(ie,he){return ie.getAppDomainValue(he)}}}},S={};function D(Z){if(S[Z])return S[Z].exports;var de=S[Z]={exports:{}};return d[Z](de,de.exports,D),de.exports}return D.d=(Z,de)=>{for(var me in de)D.o(de,me)&&!D.o(Z,me)&&Object.defineProperty(Z,me,{enumerable:!0,get:de[me]})},D.o=(Z,de)=>Object.prototype.hasOwnProperty.call(Z,de),D(175)})().default},function(r,o,s){s.r(o),s.d(o,"EditorKit",function(){return he}),s.d(o,"EditorKitDelegate",function(){return Ie});var d=s(0),S=s.n(d);function D(ne,se){for(var ce=0;ce<se.length;ce++){var ge=se[ce];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ne,ge.key,ge)}}var Z=function(){function ne(){(function(K,F){if(!(K instanceof F))throw new TypeError("Cannot call a class as a function")})(this,ne)}var se,ce,ge;return se=ne,ge=[{key:"htmlToText",value:function(K){var F=document.implementation.createHTMLDocument("New").body;return F.innerHTML=K,F.textContent||F.innerText||""}},{key:"truncateString",value:function(K){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:90;return K.length<=F?K:K.substring(0,F)+"..."}},{key:"sleep",value:function(K){return new Promise(function(F,x){setTimeout(function(){F()},1e3*K)})}}],(ce=null)&&D(se.prototype,ce),ge&&D(se,ge),ne}();function de(ne,se,ce,ge,K,F,x){try{var C=ne[F](x),z=C.value}catch(G){return void ce(G)}C.done?se(z):Promise.resolve(z).then(ge,K)}function me(ne,se){var ce;if(typeof Symbol>"u"||ne[Symbol.iterator]==null){if(Array.isArray(ne)||(ce=function(z,G){if(!!z){if(typeof z=="string")return ae(z,G);var T=Object.prototype.toString.call(z).slice(8,-1);if(T==="Object"&&z.constructor&&(T=z.constructor.name),T==="Map"||T==="Set")return Array.from(z);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return ae(z,G)}}(ne))||se&&ne&&typeof ne.length=="number"){ce&&(ne=ce);var ge=0,K=function(){};return{s:K,n:function(){return ge>=ne.length?{done:!0}:{done:!1,value:ne[ge++]}},e:function(z){throw z},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,x=!0,C=!1;return{s:function(){ce=ne[Symbol.iterator]()},n:function(){var z=ce.next();return x=z.done,z},e:function(z){C=!0,F=z},f:function(){try{x||ce.return==null||ce.return()}finally{if(C)throw F}}}}function ae(ne,se){(se==null||se>ne.length)&&(se=ne.length);for(var ce=0,ge=new Array(se);ce<se;ce++)ge[ce]=ne[ce];return ge}function be(ne,se){for(var ce=0;ce<se.length;ce++){var ge=se[ce];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ne,ge.key,ge)}}var ke=function(){function ne(F){var x=F.filesafe,C=F.getElementsBySelector,z=F.preprocessElement,G=F.insertElement;(function(T,re){if(!(T instanceof re))throw new TypeError("Cannot call a class as a function")})(this,ne),this.filesafe=x,this.getElementsBySelector=C,this.insertElement=G,this.preprocessElement=z,this.uuidToFileTempUrlAndTypeMapping={},this.currentlyLoadingIds=[],this.statusElementMapping={},this.fileTypeToElementType={"image/png":"img","image/jpg":"img","image/jpeg":"img","image/gif":"img","image/tiff":"img","image/bmp":"img","video/mp4":"video","audio/mpeg":"audio","audio/mp3":"audio"}}var se,ce,ge,K;return se=ne,(ce=[{key:"fileTypeForElementType",value:function(F){return this.fileTypeToElementType[F.toLowerCase()]}},{key:"loadFilesafeElements",value:function(){var F,x=me(this.getElementsBySelector("*[fsplaceholder]"));try{for(x.s();!(F=x.n()).done;){var C=F.value;this.loadFilesafeElement(C)}}catch(z){x.e(z)}finally{x.f()}}},{key:"loadFilesafeElement",value:(ge=regeneratorRuntime.mark(function F(x){var C,z,G,T,re,W,V,c,v,h,y,U=this;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(C=x.getAttribute("fsid"),z=x.getAttribute("fsname"),G=z&&z!="undefined"?z:"file",!(T=this.uuidToFileTempUrlAndTypeMapping[C])){R.next=7;break}return this.insertMediaElement({url:T.url,fsid:C,fileType:T.fileType,fsname:T.fsname,fsElement:x}),R.abrupt("return");case 7:if(!this.currentlyLoadingIds.includes(C)){R.next=9;break}return R.abrupt("return");case 9:if(re=this.filesafe.findFileDescriptor(C)){R.next=13;break}return this.setStatus("Unable to find ".concat(G," ").concat(C,"."),x,C,z,!0),R.abrupt("return",{success:!1});case 13:if(W='[fsid="'.concat(re.uuid,'"][fscollapsable]'),!(document.querySelectorAll("img".concat(W,", figure").concat(W,", video").concat(W,", audio").concat(W)).length>0)){R.next=17;break}return R.abrupt("return",{success:!1});case 17:return V=function(){U.currentlyLoadingIds.splice(U.currentlyLoadingIds.indexOf(C),1)},this.currentlyLoadingIds.push(C),this.setStatus("Downloading ".concat(G,"..."),x,C,z),R.next=22,Z.sleep(.05);case 22:return R.next=24,this.filesafe.downloadFileFromDescriptor(re).catch(function(M){U.setStatus("Unable to download ".concat(G," ").concat(C,"."),x,C,z)});case 24:if(c=R.sent){R.next=27;break}return R.abrupt("return");case 27:return this.setStatus("Decrypting ".concat(G,"..."),x,C,z),R.next=30,Z.sleep(.05);case 30:return R.next=32,this.filesafe.decryptFile({fileDescriptor:re,fileItem:c}).catch(function(M){U.setStatus("Unable to decrypt ".concat(G," ").concat(C,"."),x,C,z)});case 32:if(v=R.sent){R.next=35;break}return R.abrupt("return");case 35:return this.setStatus(null,x,C),R.next=38,Z.sleep(.05);case 38:return h=re.content.fileType,y=this.filesafe.createTemporaryFileUrl({base64Data:v.decryptedData,dataType:h}),this.insertMediaElement({url:y,fsid:C,fileType:h,fsname:z,fsElement:x}),V(),this.uuidToFileTempUrlAndTypeMapping[C]={url:y,fileType:h,fsname:z},R.abrupt("return",{success:!0});case 44:case"end":return R.stop()}},F,this)}),K=function(){var F=this,x=arguments;return new Promise(function(C,z){var G=ge.apply(F,x);function T(W){de(G,C,z,T,re,"next",W)}function re(W){de(G,C,z,T,re,"throw",W)}T(void 0)})},function(F){return K.apply(this,arguments)})},{key:"insertMediaElement",value:function(F){var x,C=F.url,z=F.fsid,G=F.fsname,T=F.fileType,re=F.fsElement,W=this.fileTypeForElementType(T);return x=W=="img"?this.createImageElement({url:C,fsid:z,fsname:G,fsElement:re}):W=="video"?this.createVideoElement({url:C,fsid:z,fileType:T,fsname:G,fsElement:re}):W=="audio"?this.createAudioElement({url:C,fsid:z,fsname:G}):this.createDownloadElement({url:C,fsid:z,fileType:T,fsname:G,fsElement:re}),this.insertElementNearElement(x,re),re.remove(),!0}},{key:"wrapElementInTag",value:function(F){var x=F.element,C=F.tagName,z=F.fsid,G=F.fsname,T=document.createElement(C);return T.setAttribute("fsid",z),T.setAttribute("fsname",G),T.setAttribute("fscollapsable",!0),T.setAttribute("contenteditable",!0),T.append(x),T}},{key:"basicwrapElementInTag",value:function(F,x){var C=document.createElement(x);return C.append(F),C}},{key:"createImageElement",value:function(F){var x=F.url,C=F.fsid,z=F.fsname,G=F.fsElement,T=document.createElement("img");return T.setAttribute("src",x),T.setAttribute("srcset","".concat(x," 2x")),T.setAttribute("fsid",C),T.setAttribute("fsname",z),T.setAttribute("fscollapsable",!0),G.getAttribute("width")&&(T.setAttribute("width",G.getAttribute("width")),T.setAttribute("height",G.getAttribute("height"))),T}},{key:"createVideoElement",value:function(F){var x=F.url,C=F.fsid,z=F.fileType,G=F.fsname,T=F.fsElement,re=document.createElement("video");re.setAttribute("controls",!0),re.setAttribute("fsid",C),re.setAttribute("fsname",G),re.setAttribute("fscollapsable",!0),T.getAttribute("width")&&(re.setAttribute("width",T.getAttribute("width")),re.setAttribute("height",T.getAttribute("height")));var W=document.createElement("source");return W.setAttribute("src",x),W.setAttribute("type",z),re.append(W),this.wrapElementInTag({element:re,tagName:"p",fsid:C,fsname:G})}},{key:"createDownloadElement",value:function(F){var x=F.url,C=F.fsid,z=(F.fileType,F.fsname),G=(F.fsElement,document.createElement("a"));return G.setAttribute("fsid",C),G.setAttribute("fsname",z),G.setAttribute("ghost","true"),G.setAttribute("fscollapsable",!0),G.setAttribute("href",x),G.textContent="".concat(z),G}},{key:"createAudioElement",value:function(F){var x=F.url,C=F.fsid,z=F.fsname,G=document.createElement("audio");return G.setAttribute("src",x),G.setAttribute("controls",!0),G.setAttribute("fsid",C),G.setAttribute("fsname",z),G.setAttribute("fscollapsable",!0),this.wrapElementInTag({element:G,tagName:"p",fsid:C,fsname:z})}},{key:"setStatus",value:function(F,x,C,z,G){if(C){var T=this.statusElementMapping[C];T&&(T.remove(),delete this.statusElementMapping[C])}if(F){var re=document.createElement("label");return re.setAttribute("id",C),re.setAttribute("ghost","true"),re.setAttribute("contenteditable",!1),re.style.fontWeight="bold",re.textContent=F,G&&(re.style.userSelect="all"),re=this.insertElementNearElement(re,x),C&&(this.statusElementMapping[C]=re),re}}},{key:"insertStatusAtCursor",value:function(F){var x=Math.random().toString(36).substring(7);return this.setStatus(F,null,x),x}},{key:"removeCursorStatus",value:function(F){var x=this.getElementsBySelector("#".concat(F));x.length>0&&x[0].remove()}},{key:"insertElementNearElement",value:function(F,x){var C=this.preprocessElement(F),z="child";if(C.tagName.toLowerCase()=="figure"){var G=x.closest("p");G&&(x=G,z="afterend")}return this.insertElement(C,x,z),C}}])&&be(se.prototype,ce),ne}();function Pe(ne,se){var ce;if(typeof Symbol>"u"||ne[Symbol.iterator]==null){if(Array.isArray(ne)||(ce=function(z,G){if(!!z){if(typeof z=="string")return tt(z,G);var T=Object.prototype.toString.call(z).slice(8,-1);if(T==="Object"&&z.constructor&&(T=z.constructor.name),T==="Map"||T==="Set")return Array.from(z);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return tt(z,G)}}(ne))||se&&ne&&typeof ne.length=="number"){ce&&(ne=ce);var ge=0,K=function(){};return{s:K,n:function(){return ge>=ne.length?{done:!0}:{done:!1,value:ne[ge++]}},e:function(z){throw z},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,x=!0,C=!1;return{s:function(){ce=ne[Symbol.iterator]()},n:function(){var z=ce.next();return x=z.done,z},e:function(z){C=!0,F=z},f:function(){try{x||ce.return==null||ce.return()}finally{if(C)throw F}}}}function tt(ne,se){(se==null||se>ne.length)&&(se=ne.length);for(var ce=0,ge=new Array(se);ce<se;ce++)ge[ce]=ne[ce];return ge}function le(ne,se){for(var ce=0;ce<se.length;ce++){var ge=se[ce];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ne,ge.key,ge)}}var J=function(){function ne(ge){var K=ge.patterns,F=ge.afterExpand,x=ge.beforeExpand,C=ge.getCurrentLineText,z=ge.getPreviousLineText,G=ge.replaceText;(function(T,re){if(!(T instanceof re))throw new TypeError("Cannot call a class as a function")})(this,ne),this.patterns=K,this.afterExpand=F,this.beforeExpand=x,this.getCurrentLineText=C,this.getPreviousLineText=z,this.replaceText=G}var se,ce;return se=ne,(ce=[{key:"onKeyUp",value:function(ge){ge.key;var K=ge.isSpace,F=ge.isEnter,x=ge.isPaste;(K||F||x)&&this.searchPatterns({searchPreviousLine:F})}},{key:"searchPatterns",value:function(){var ge,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=K.searchPreviousLine;ge=F?this.getPreviousLineText():this.getCurrentLineText();var x,C=Pe(this.patterns);try{for(C.s();!(x=C.n()).done;){var z=x.value,G=z.regex.exec(ge);if(G){var T=G[0];if(T){var re=z.callback(T);this.replaceSelection(z.regex,re,F)}}}}catch(W){C.e(W)}finally{C.f()}}},{key:"replaceSelection",value:function(ge,K,F){this.beforeExpand&&this.beforeExpand(),this.replaceText({regex:ge,replacement:K,previousLine:F}),this.afterExpand&&this.afterExpand()}}])&&le(se.prototype,ce),ne}();function fe(ne,se){var ce;if(typeof Symbol>"u"||ne[Symbol.iterator]==null){if(Array.isArray(ne)||(ce=function(z,G){if(!!z){if(typeof z=="string")return xe(z,G);var T=Object.prototype.toString.call(z).slice(8,-1);if(T==="Object"&&z.constructor&&(T=z.constructor.name),T==="Map"||T==="Set")return Array.from(z);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return xe(z,G)}}(ne))||se&&ne&&typeof ne.length=="number"){ce&&(ne=ce);var ge=0,K=function(){};return{s:K,n:function(){return ge>=ne.length?{done:!0}:{done:!1,value:ne[ge++]}},e:function(z){throw z},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,x=!0,C=!1;return{s:function(){ce=ne[Symbol.iterator]()},n:function(){var z=ce.next();return x=z.done,z},e:function(z){C=!0,F=z},f:function(){try{x||ce.return==null||ce.return()}finally{if(C)throw F}}}}function xe(ne,se){(se==null||se>ne.length)&&(se=ne.length);for(var ce=0,ge=new Array(se);ce<se;ce++)ge[ce]=ne[ce];return ge}function Be(ne,se){for(var ce=0;ce<se.length;ce++){var ge=se[ce];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ne,ge.key,ge)}}var A,Fe,He,ze=function(){function ne(){(function(K,F){if(!(K instanceof F))throw new TypeError("Cannot call a class as a function")})(this,ne)}var se,ce,ge;return se=ne,ge=[{key:"expandedFilesafeSyntax",value:function(K){var F=this;return K.replace(this.FilesafeSyntaxPattern,function(x){return F.filesafeSyntaxToHtmlElement(x)})}},{key:"removeFilesafeSyntaxFromHtml",value:function(K){return K.replace(this.FilesafeSyntaxPattern,function(F){return""})}},{key:"insertionSyntaxForFileDescriptor",value:function(K){return"[FileSafe:".concat(K.uuid,":").concat(K.content.fileName,"]")}},{key:"filesafeSyntaxToHtmlElement",value:function(K){var F=(K=(K=(K=K.replace("<p>","")).replace("</p>","")).replace("[","").replace("]","")).split(":"),x=F[1],C=F[2],z=F[3],G="";if(z){var T=z.split("x");G="width=".concat(T[0]," height=").concat(T[1])}return"<p fsplaceholder=true style='display: none;' fscollapsable=true ghost=true fsid='".concat(x,"' fsname='").concat(C,"' ").concat(G,"></p>")}},{key:"collapseFilesafeSyntax",value:function(K){var F,x=new DOMParser().parseFromString(K,"text/html"),C=fe(x.querySelectorAll("*[fscollapsable]"));try{for(C.s();!(F=C.n()).done;){var z=F.value,G=z.getAttribute("fsid"),T=z.getAttribute("fsname"),re=z.getAttribute("width"),W=z.getAttribute("height"),V=["FileSafe",G,T];if(re||W){var c="".concat(re,"x").concat(W);V.push(c)}var v="<p>[".concat(V.join(":"),"]</p>");z.insertAdjacentHTML("afterend",v),z.remove()}}catch(h){C.e(h)}finally{C.f()}return x.querySelectorAll("*[ghost]").forEach(function(h){h.remove()}),x.body.innerHTML}}],(ce=null)&&Be(se.prototype,ce),ge&&Be(se,ge),ne}();function Ze(ne,se){var ce;if(typeof Symbol>"u"||ne[Symbol.iterator]==null){if(Array.isArray(ne)||(ce=function(z,G){if(!!z){if(typeof z=="string")return lt(z,G);var T=Object.prototype.toString.call(z).slice(8,-1);if(T==="Object"&&z.constructor&&(T=z.constructor.name),T==="Map"||T==="Set")return Array.from(z);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return lt(z,G)}}(ne))||se&&ne&&typeof ne.length=="number"){ce&&(ne=ce);var ge=0,K=function(){};return{s:K,n:function(){return ge>=ne.length?{done:!0}:{done:!1,value:ne[ge++]}},e:function(z){throw z},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,x=!0,C=!1;return{s:function(){ce=ne[Symbol.iterator]()},n:function(){var z=ce.next();return x=z.done,z},e:function(z){C=!0,F=z},f:function(){try{x||ce.return==null||ce.return()}finally{if(C)throw F}}}}function lt(ne,se){(se==null||se>ne.length)&&(se=ne.length);for(var ce=0,ge=new Array(se);ce<se;ce++)ge[ce]=ne[ce];return ge}function Ye(ne,se,ce,ge,K,F,x){try{var C=ne[F](x),z=C.value}catch(G){return void ce(G)}C.done?se(z):Promise.resolve(z).then(ge,K)}function Ee(ne){return function(){var se=this,ce=arguments;return new Promise(function(ge,K){var F=ne.apply(se,ce);function x(z){Ye(F,ge,K,x,C,"next",z)}function C(z){Ye(F,ge,K,x,C,"throw",z)}x(void 0)})}}function Ae(ne,se){for(var ce=0;ce<se.length;ce++){var ge=se[ce];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ne,ge.key,ge)}}He=/(<p>)?\[FileSafe[^\]]*\](<\/p>)?/g,(Fe="FilesafeSyntaxPattern")in(A=ze)?Object.defineProperty(A,Fe,{value:He,enumerable:!0,configurable:!0,writable:!0}):A[Fe]=He;var Ke=function(){function ne(x){var C=x.delegate,z=x.mode,G=x.supportsFilesafe,T=x.coallesedSavingDelay,re=T===void 0?250:T;(function(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")})(this,ne),this.delegate=C,this.mode=z,this.supportsFilesafe=G,this.coallesedSavingDelay=re,this.fileIdsPendingAssociation=[],this.connectToBridge(),G&&(this.filesafeImportPromise=this.importFilesafe())}var se,ce,ge,K,F;return se=ne,(ce=[{key:"importFilesafe",value:(F=Ee(regeneratorRuntime.mark(function x(){var C=this;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.abrupt("return",Promise.resolve().then(s.t.bind(null,2,7)).then(function(G){return C.FilesafeClass=G.default,C.configureFilesafe(),C.filesafe}));case 1:case"end":return z.stop()}},x)})),function(){return F.apply(this,arguments)})},{key:"getFilesafe",value:(K=Ee(regeneratorRuntime.mark(function x(){return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(this.filesafe&&!this.filesafeImportPromise){C.next=5;break}if(!this.filesafeImportPromise){C.next=3;break}return C.abrupt("return",this.filesafeImportPromise);case 3:C.next=6;break;case 5:return C.abrupt("return",this.importFilesafe());case 6:case"end":return C.stop()}},x,this)})),function(){return K.apply(this,arguments)})},{key:"configureFilesafe",value:function(){var x=this;this.filesafe=new this.FilesafeClass({componentManager:this.componentRelay}),this.filesafe.addDataChangeObserver(function(){var C=x.filesafe.getAllFileDescriptors();if(x.note&&x.fileIdsPendingAssociation.length>0){var z,G=!1,T=Ze(x.fileIdsPendingAssociation.slice());try{var re=function(){var W=z.value,V=C.find(function(v){return v.uuid==W});if(!V)return"continue";G=!0,x.fileIdsPendingAssociation.splice(x.fileIdsPendingAssociation.indexOf(W),1);var c=ze.insertionSyntaxForFileDescriptor(V);x.delegate.insertRawText(c)};for(T.s();!(z=T.n()).done;)re()}catch(W){T.e(W)}finally{T.f()}G&&x.textExpander.searchPatterns()}C.length>0&&x.fileLoader.loadFilesafeElements()}),this.filesafe.addNewFileDescriptorHandler(function(C){x.fileIdsPendingAssociation.push(C.uuid)}),this.fileLoader=new ke({filesafe:this.filesafe,getElementsBySelector:this.delegate.getElementsBySelector,insertElement:this.delegate.insertElement,preprocessElement:this.delegate.preprocessElement}),this.textExpander=new J({afterExpand:function(){x.fileLoader.loadFilesafeElements()},getCurrentLineText:this.delegate.getCurrentLineText,getPreviousLineText:this.delegate.getPreviousLineText,replaceText:this.delegate.replaceText,patterns:[{regex:ze.FilesafeSyntaxPattern,callback:function(C){return ze.expandedFilesafeSyntax(C)}}]})}},{key:"connectToBridge",value:function(){var x=this;this.componentRelay=new S.a({targetWindow:window,options:{coallesedSavingDelay:this.coallesedSavingDelay},onReady:function(){document.documentElement.classList.add(x.componentRelay.platform)}}),this.componentRelay.coallesedSavingDelay=this.coallesedSavingDelay,this.componentRelay.streamContextItem(function(C){var z=!0;if(x.note&&x.note.uuid==C.uuid&&(z=!1),x.supportsFilesafe){var G=x.FilesafeClass.getSFItemClass();x.note=new G(C),x.filesafe.setCurrentNote(x.note)}else x.note=C;if(!C.isMetadataUpdate){var T=C.content.text;x.mode=="html"&&z&&(/<[a-z][\s\S]*>/i.test(T)||(x.ignoreNextTextChange=!0)),x.previousText=T,x.supportsFilesafe&&(x.needsFilesafeElementLoad=!0,T=ze.expandedFilesafeSyntax(T)),x.delegate.setEditorRawText(T),z&&x.delegate.clearUndoHistory()}})}},{key:"onEditorKeyUp",value:function(x){var C=x.key,z=x.isSpace,G=x.isEnter;this.textExpander.onKeyUp({key:C,isSpace:z,isEnter:G})}},{key:"onEditorPaste",value:function(){this.textExpander.onKeyUp({isPaste:!0})}},{key:"onEditorValueChanged",value:function(x){var C=this;if(this.needsFilesafeElementLoad&&(this.needsFilesafeElementLoad=!1,this.fileLoader.loadFilesafeElements()),this.ignoreNextTextChange)this.ignoreNextTextChange=!1;else{if(this.supportsFilesafe&&(x=ze.collapseFilesafeSyntax(x),this.previousText==x))return;this.previousText=x;var z=this.note;z&&this.componentRelay.saveItemWithPresave(z,function(){if(z.content.text=x,C.delegate.generateCustomPreview){var G=C.delegate.generateCustomPreview(x);G.html&&(z.content.preview_html=G.html),G.plain&&(z.content.preview_plain=G.plain)}else{if(C.mode=="html"){var T=ze.removeFilesafeSyntaxFromHtml(x);T=Z.truncateString(Z.htmlToText(T)),z.content.preview_plain=T.length>0?T:" "}else z.content.preview_plain=x;z.content.preview_html=null}})}}},{key:"canUploadFiles",value:function(){var x=this.filesafe.getAllCredentials(),C=this.filesafe.getAllIntegrations();return x.length>0&&C.length>0}},{key:"uploadJSFileObject",value:(ge=Ee(regeneratorRuntime.mark(function x(C){var z,G=this;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return z=this.fileLoader.insertStatusAtCursor("Processing file..."),T.abrupt("return",this.filesafe.encryptAndUploadJavaScriptFileObject(C).then(function(re){G.fileLoader.removeCursorStatus(z)}));case 2:case"end":return T.stop()}},x,this)})),function(x){return ge.apply(this,arguments)})}])&&Ae(se.prototype,ce),ne}();function nt(ne,se,ce,ge,K,F,x){try{var C=ne[F](x),z=C.value}catch(G){return void ce(G)}C.done?se(z):Promise.resolve(z).then(ge,K)}function ve(ne){return function(){var se=this,ce=arguments;return new Promise(function(ge,K){var F=ne.apply(se,ce);function x(z){nt(F,ge,K,x,C,"next",z)}function C(z){nt(F,ge,K,x,C,"throw",z)}x(void 0)})}}function ie(ne,se){for(var ce=0;ce<se.length;ce++){var ge=se[ce];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ne,ge.key,ge)}}var he=function(){function ne(F){var x=F.delegate,C=F.mode,z=C===void 0?"plaintext":C,G=F.supportsFilesafe,T=G!==void 0&&G,re=F.coallesedSavingDelay,W=re===void 0?250:re;(function(V,c){if(!(V instanceof c))throw new TypeError("Cannot call a class as a function")})(this,ne),this.delegate=x,this.mode=z,this.supportsFilesafe=T,this.coallesedSavingDelay=W,this.internal=new Ke({delegate:x,mode:z,supportsFilesafe:T,coallesedSavingDelay:W})}var se,ce,ge,K;return se=ne,(ce=[{key:"getFilesafe",value:(K=ve(regeneratorRuntime.mark(function F(){return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",this.internal.getFilesafe());case 1:case"end":return x.stop()}},F,this)})),function(){return K.apply(this,arguments)})},{key:"onEditorValueChanged",value:function(F){this.internal.onEditorValueChanged(F)}},{key:"onEditorKeyUp",value:function(F){var x=F.key,C=F.isSpace,z=F.isEnter;this.internal.onEditorKeyUp({key:x,isSpace:C,isEnter:z})}},{key:"onEditorPaste",value:function(){this.internal.onEditorPaste()}},{key:"canUploadFiles",value:function(){return this.internal.canUploadFiles()}},{key:"uploadJSFileObject",value:(ge=ve(regeneratorRuntime.mark(function F(x){return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.internal.uploadJSFileObject(x));case 1:case"end":return C.stop()}},F,this)})),function(F){return ge.apply(this,arguments)})}])&&ie(se.prototype,ce),ne}(),Ie=function ne(se){var ce=se.insertRawText,ge=se.onReceiveNote,K=se.setEditorRawText,F=se.getCurrentLineText,x=se.getPreviousLineText,C=se.replaceText,z=se.getElementsBySelector,G=se.insertElement,T=se.preprocessElement,re=se.clearUndoHistory,W=se.generateCustomPreview;(function(V,c){if(!(V instanceof c))throw new TypeError("Cannot call a class as a function")})(this,ne),this.insertRawText=ce,this.onReceiveNote=ge,this.setEditorRawText=K,this.getCurrentLineText=F,this.getPreviousLineText=x,this.replaceText=C,this.getElementsBySelector=z,this.insertElement=G,this.preprocessElement=T,this.clearUndoHistory=re,this.generateCustomPreview=W}},function(r,o){r.exports=n}])})})(su);var Bp={exports:{}},Ea={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=Vi.exports,Bm=Symbol.for("react.element"),zm=Symbol.for("react.fragment"),Um=Object.prototype.hasOwnProperty,Hm=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Km={key:!0,ref:!0,__self:!0,__source:!0};function zp(e,t,n){var r,o={},s=null,d=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)Um.call(t,r)&&!Km.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Bm,type:e,key:s,ref:d,props:o,_owner:Hm.current}}Ea.Fragment=zm;Ea.jsx=zp;Ea.jsxs=zp;(function(e){e.exports=Ea})(Bp);const ei=Bp.exports.jsx;class Wm extends Vi.exports.Component{}const $m=e=>class extends Ho.Component{constructor(){super(...arguments);fo(this,"editorRef",Ho.createRef());fo(this,"editorKit")}componentDidMount(){this.configureEditorKit()}configureEditorKit(){this.editorKit=new su.exports.EditorKit({delegate:new su.exports.EditorKitDelegate({setEditorRawText:r=>{var o;(o=this.editorRef.current)==null||o.loadRawText(r)},clearUndoHistory:()=>{}}),mode:"plaintext",supportsFilesafe:!1})}render(){return ei(e,{ref:this.editorRef,saveRawText:r=>{var o;(o=this.editorKit)==null||o.onEditorValueChanged(r)}})}};class Vm extends Wm{constructor(){super(...arguments);fo(this,"taRef",Ho.createRef())}loadRawText(n){this.taRef.current&&(this.taRef.current.value=n)}render(){return ei("textarea",{ref:this.taRef,className:"simple-editor",onInput:n=>{const{value:r}=n.currentTarget,{saveRawText:o}=this.props;o(r)}})}}const Jm=$m(Vm);function Qm(){return ei("div",{className:"app",children:ei(Jm,{})})}hs.createRoot(document.getElementById("root")).render(ei(Ho.StrictMode,{children:ei(Qm,{})}));
